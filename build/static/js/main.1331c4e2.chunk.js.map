{"version":3,"sources":["assets/avatar.jpeg","utils/index.ts","components/SvgAni.tsx","components/Nav.tsx","services/base.ts","types/index.ts","utils/initData.ts","utils/undoRedo.ts","store/template.ts","utils/createNewLayer.ts","components/side-bar/ImageItem.tsx","components/side-bar/TextItem.tsx","components/side-bar/Shapes.tsx","components/side-bar/UploadImage.tsx","components/side-bar/Sidebar.tsx","services/common.ts","components/Footer.tsx","assets/undo.png","assets/redo.png","store/context.ts","utils/mouseEvent.ts","utils/resizeLayer.ts","utils/clipImage.ts","assets/rotate.svg","assets/lock.svg","components/layer/Border.tsx","components/layer/HoverBorder.tsx","components/layer/Layer.tsx","utils/helpLine.ts","components/layer/TextEditor.tsx","components/layer/Image.tsx","assets/resize.svg","components/ClipImage.tsx","components/layer/shapes/Rect.tsx","components/layer/shapes/Circle.tsx","components/Canvas.tsx","components/tool-bar/tool-items/style.ts","utils/const.ts","components/tool-bar/tool-items/CanvasSize.tsx","components/tool-bar/tool-items/ClearCanvas.tsx","components/tool-bar/tool-items/BackgroundColor.tsx","components/tool-bar/tool-items/text/TextColor.tsx","components/tool-bar/tool-items/text/FontFamily.tsx","components/tool-bar/tool-items/text/FontSize.tsx","components/tool-bar/tool-items/text/FontWeight.tsx","components/tool-bar/tool-items/text/Underline.tsx","components/tool-bar/tool-items/text/TextAlign.tsx","components/tool-bar/tool-items/image/Flip.tsx","components/tool-bar/tool-items/image/Clip.tsx","components/tool-bar/tool-items/shape/ShapeFillColor.tsx","components/tool-bar/tool-items/shape/ShapeBorderColor.tsx","assets/border-weight.svg","components/tool-bar/tool-items/shape/ShapeBorderWidth.tsx","assets/border-style.svg","components/tool-bar/tool-items/shape/ShapeBorderStyle.tsx","components/tool-bar/tool-items/common/LayerOrder.tsx","assets/opacity.svg","components/tool-bar/tool-items/common/Opacity.tsx","components/tool-bar/tool-items/common/LockLayer.tsx","components/tool-bar/tool-items/common/RemoveLayer.tsx","components/tool-bar/Index.tsx","components/Editor.tsx","components/Main.tsx","pages/App.tsx","reportWebVitals.ts","index.tsx"],"names":["getCenterCoords","p1","p2","x","y","calcRotatedCoords","point","center","rotate","Math","PI","cos","sin","getCoverImage","selector","a","el","document","querySelector","copyEl","cloneNode","style","transform","position","left","body","appendChild","querySelectorAll","forEach","img","setAttribute","opt","width","offsetWidth","height","offsetHeight","backgroundColor","useCORS","Promise","resolve","reject","html2canvas","then","canvas","res","toDataURL","catch","e","finally","removeChild","SvgAni","pathRefs","useRef","useEffect","pathEls","current","len","getTotalLength","strokeDasharray","String","strokeDashoffset","Svg","xmlns","ref","id","stdDeviation","in","className","filter","d","fillOpacity","strokeOpacity","strokeWidth","stroke","fill","strokeLinecap","points","styled","div","Nav","useState","loading","setLoading","exportImage","url","createElement","href","Date","now","click","remove","console","error","Header","RightSide","type","onClick","Link","Img","src","Avatar","header","service","axios","create","baseURL","timeout","interceptors","response","use","data","LAYER_TYPE","POINT_TYPE","defaultTemplate","global","background","color","layers","reverse","source","imageUrl","opacity","zIndex","content","font","fontSize","lineHeight","textAlign","fontWeight","underline","historyCache","pointer","isUndoOrRedo","undoRedo","setCanUseUndo","templateStore","setCanUseRedo","init","template","push","pushHistory","_template","cloneDeep","map","l","isSelected","isEditing","isHover","splice","length","shift","undo","setTemplate","setLayerType","EMPTY","redo","Object","assign","layer","isLocked","scale","localTemplateCache","localStorage","getItem","JSON","parse","observable","layerType","needUpdateLayerHeight","isMoving","canUseUndo","canUseRedo","this","find","getTemplate","clip","pre","val","setCanvasSize","size","setLayers","setLayer","idx","findIndex","addLayer","updateLayerType","removeLayer","setLayerLevel","level","selectLayer","dispatchEvent","Event","hoverLayer","IMAGE","TEXT","RECT","CIRCLE","setEditStatus","some","setLayerLock","resetSelectStatus","resetEditStatus","setBackgroundColor","setNeedUpdateLayerHeight","setIsMoving","action","bound","reaction","join","replaceAll","stringify","setItem","save","delay","createImage","top","right","bottom","createRect","rectInfo","borderWidth","borderColor","borderStyle","createCircle","circleInfo","observer","image","flexBasis","webformatWidth","webformatHeight","draggable","newLayer","webformatURL","onDragStartCapture","dataTransfer","setData","alt","Image","onUseText","createText","marginTop","Rect","RectItem","Circle","CircleItem","onUseImage","UploadButton","htmlFor","accept","display","onChange","reader","FileReader","readAsDataURL","target","files","onload","result","label","Panel","Collapse","Search","Input","ajaxLock","isLoadMore","Sidebar","list","setList","page","per_page","image_type","q","orientation","safesearch","query","setQuery","showFilter","setShowFilter","activeKey","setActiveKey","params","ajax","key","lang","concat","hits","Side","extra","onSearch","preventDefault","includes","keys","isArray","stopPropagation","placeholder","title","trigger","visible","onVisibleChange","FilterOutlined","FilterPanel","ListContent","UploadImage","ImageItem","margin","TextItem","aside","setScale","responsive","FooterBar","SliderWrapper","tipFormatter","value","min","max","ToolItem","round","UndoRedo","footer","ScaleContext","createContext","BackgroundContext","MouseEvents","handleMove","handleUp","payload","startCoords","preCoords","mouseUp","onmousemove","onmouseup","mouseMove","event","diffX","clientX","diffY","clientY","diff","curCoords","mouseDown","MIN_SIZE","normalResize","lockRatio","whRatio","newX","newY","newWidth","newHeight","TL","TR","BL","BR","T","B","L","R","rotateResize","curPoint","symmetricPoint","pointCenter","info","newCenterPoint","newOriginCurPoint","newOriginSymmetricPoint","abs","latestOriginCurPoint","latestCurPoint","sqrt","newCenter","isReverse","angle","clipImage","oldWidth","oldHeight","imageWhRatio","ratio","updateImageClip","INIT_ANGLE","ANGLE_TO_CURSOR","start","end","cursor","useContext","cursors","setCursors","resize","resizeNormal","pointRect","getBoundingClientRect","canvasRect","Number","resizeWithRotate","calcCursors","useCallback","newAngle","item","i","BorderEl","LockIcon","icon","lockIcon","PointBR","onMouseDown","PointTL","PointTR","PointBL","PointL","PointR","PointT","PointB","RotateIcon","rotateIcon","borderEl","closest","rect","rotateCenterPoint","offsetY","offsetX","atan2","Point","span","alignItems","justifyContent","pointerEvents","borderRadius","boxShadow","userSelect","props","HoverBorder","children","setIsSelectedBackground","realRect","layerId","allLayers","canvasSize","vLineEl","hLineEl","vType","hType","vLineHandle","targetX","hLineHandle","targetY","renderLine","vLine","visibility","hLine","getRect","scl","rad","move","helpLine","helpLineRect","initHelpLine","helpLinePipe","updatePosition","newPosition","hideLine","LayerWrapper","onMouseEnter","onMouseOut","LayerContent","TransportBorder","Border","createPortal","editorRef","editor","setEditor","onTextChange","_layer","text","getText","instance","Quill","setText","enable","setSelection","on","off","TextWrapper","Text","onDoubleClick","Editor","spellCheck","fontFamily","textDecorationLine","ImgWrapper","preLayer","setLayerInfo","confirm","clipHandle","handleTop","clipTop","handleLeft","clipLeft","handleRight","clipRight","handleBottom","clipBottom","Mask","Wrapper","CanvasContent","LayerControl","AngleTL","resizeIcon","AngleTR","AngleBL","AngleBR","Line1","Line2","Line3","Line4","newTop","newLeft","newRight","newBottom","overflow","border","TransportToolBar","ToolBar","CheckOutlined","CloseOutlined","Line","ResizeAngle","dragCursorPosition","isSelectedBackground","onDrop","getPosition","test","getData","log","onUseRect","onUseCircle","onDragOver","pageX","pageY","Background","BACKGROUND","TransportImage","ClipImage","toJS","Layer","TransportEditor","TextEditor","BackgroundBorder","VLine","HLine","TextControl","flex","ColorItem","FONT_LIST","name","FONTSIZE_LIST","CANVAS_SIZE_LIST","canvasWidth","canvasHeight","selectValue","setSelectValue","CanvasSizeOptions","Group","direction","marginRight","isNumber","marginLeft","placement","onConfirm","okText","cancelText","clr","rgba","rgb","r","g","b","activeLayer","Option","Select","f","layerScale","toFixed","isNaN","BoldOutlined","hasUnderline","UnderlineOutlined","align","AlignLeftOutlined","AlignCenterOutlined","AlignRightOutlined","onReverseImage","overlay","Item","padding","SwapOutlined","shapeInfo","step","borderWidthIcon","onBorderStyleChange","BorderSolid","BorderDashed","BorderDotted","borderStyleIcon","levelInfo","sort","opacityIcon","LockOutlined","UnlockOutlined","DeleteOutlined","ToolBarWrapper","ItemGroup","CanvasSize","BackgroundColor","TextColor","FontFamily","FontSize","FontWeight","Underline","TextAlign","Flip","Clip","ShapeFillColor","ShapeBorderColor","ShapeBorderWidth","ShapeBorderStyle","LayerOrder","Opacity","LockLayer","RemoveLayer","ClearCanvas","copyLayer","scrollWrapperRef","wrapperEl","clientWidth","clientHeight","onKeyboardListener","activeElement","metaKey","ctrlKey","shiftKey","addEventListener","removeEventListener","ScrollWrapper","Container","Provider","Canvas","Footer","num","Main","MainBody","main","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1331c4e2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar.e8d04cb0.jpeg\";","import html2canvas from 'html2canvas'\n\ninterface Coords {\n  x: number;\n  y: number;\n}\n\n// 求两点之间的中点坐标\nexport const getCenterCoords = (p1: Coords, p2: Coords): Coords => {\n  return {\n    x: p1.x + ((p2.x - p1.x) / 2),\n    y: p1.y + ((p2.y - p1.y) / 2)\n  }\n}\n\n/**\n * 计算根据圆心旋转后的点的坐标\n * @param point 旋转前的点坐标\n * @param center 旋转中心\n * @param rotate 旋转的角度\n * @return 旋转后的坐标\n */\n export const calcRotatedCoords = (point: Coords, center: Coords, rotate: number): Coords => {\n  rotate /= 180 / Math.PI\n  return {\n    x: (point.x - center.x) * Math.cos(rotate) - (point.y - center.y) * Math.sin(rotate) + center.x,\n    y: (point.x - center.x) * Math.sin(rotate) + (point.y - center.y) * Math.cos(rotate) + center.y\n  }\n}\n\n/** 截取图片 */\nexport async function getCoverImage (selector: string): Promise<string> {\n  const el = document.querySelector(selector) as HTMLElement\n  const copyEl = el.cloneNode(true) as HTMLElement\n\n  copyEl.style.transform = ''\n  copyEl.style.position = 'fixed'\n  copyEl.style.left = '-9999px'\n  document.body.appendChild(copyEl)\n  copyEl.querySelectorAll('img').forEach((img) => {\n    // 图片跨域，服务端也要支持（图片服务器配置Access-Control-Allow-Origin）\n    img.setAttribute('crossOrigin', 'anonymous')\n  })\n  const opt = {\n    width: copyEl.offsetWidth, // canvas宽度\n    height: copyEl.offsetHeight,\n    backgroundColor: null, // 画出来的图片有白色的边框,不要可设置背景为透明色（null）\n    useCORS: true // 支持图片跨域\n  }\n\n  return new Promise((resolve, reject) => {\n    html2canvas(copyEl, opt).then((canvas: any) => {\n      const res = canvas.toDataURL('image/png')\n      resolve(res)\n    }).catch((e: any) => {\n      reject(e)\n    }).finally(() => {\n      document.body.removeChild(copyEl)\n    })\n  })\n}\n","import styled from '@emotion/styled'\nimport { useEffect, useRef } from 'react'\n\nexport default function SvgAni () {\n  const pathRefs = useRef<SVGSVGElement>(null)\n\n  useEffect(() => {\n    const pathEls = pathRefs.current?.querySelectorAll('path')\n    pathEls?.forEach(el => {\n      const len = el.getTotalLength()\n      el.style.strokeDasharray = String(len)\n      el.style.strokeDashoffset = String(len)\n    })\n    \n  }, [])\n\n  return <Svg>\n    <svg width=\"780\" height=\"200\" xmlns=\"http://www.w3.org/2000/svg\" ref={pathRefs}>\n    <defs>\n      <filter id=\"svg_336_blur\">\n      <feGaussianBlur stdDeviation=\"1.8\" in=\"SourceGraphic\"/>\n      </filter>\n    </defs>\n    <g className='text'>\n      <path filter=\"url(#svg_336_blur)\" d=\"m43.344357,39.643036c0,0.512817 0.235291,0.355606 0.512817,1.02565c0.196243,0.473785 -0.235641,1.05307 0,2.05127c0.263458,1.116028 0.512817,1.538467 0.512817,2.051285c0,1.02565 0.249374,1.448074 0.512833,2.564102c0.117828,0.4991 -0.196243,1.064682 0,1.538467c0.277542,0.670029 0.512817,1.538467 0.512817,2.051285c0,0.512817 0,1.538452 0,2.564102c0,0.512817 -0.235641,1.565887 0,2.564102c0.263458,1.116013 0.512817,2.564102 0.512817,4.615387c0,1.025635 0,1.538452 0,2.564102c0,1.025635 0,1.538452 0,2.05127c0,0.512833 0,1.02565 0,2.051285c0,1.02565 0,2.051285 0,3.589752c0,1.025635 0,1.538452 0,2.564102c0,1.025635 0,2.05127 0,3.076904c0,0.512848 0,1.538483 0,2.0513c0,1.025635 0,1.538452 0,2.05127c0,1.025665 0,1.025665 0,2.0513c0,0.512817 0,1.025635 0,1.538452c0,0.512817 0,1.025635 0,1.538452c0,1.025665 0,2.0513 0,2.564117c0,1.025635 0.117813,2.065002 0,2.564087c-0.263458,1.116058 -0.512817,1.538483 -0.512817,2.0513c0,0.512817 0,1.538452 0,1.538452c0,0.512817 0.196243,1.064667 0,1.538452c-0.277542,0.670013 -0.512817,0.512817 -0.512817,1.025665c0,0.512817 -0.235291,0.868408 -0.512833,1.538452c-0.196243,0.473785 0.117828,1.039368 0,1.538452c-0.263458,1.116028 -0.512817,1.538483 -0.512817,2.0513c0,0.512817 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 -0.249359,0.935242 -0.512817,2.05127c-0.117828,0.499084 -0.253052,1.476196 -0.512817,3.076935c-0.246429,1.518585 -0.249374,2.473694 -0.512833,3.589752c-0.235641,0.998199 0.392487,1.616516 0,2.564087c-0.277542,0.670013 -0.277161,1.565887 -0.512817,2.564117c-0.263458,1.116028 -0.762177,2.473694 -1.025635,3.589722c-0.235657,0.99823 0.196243,1.577515 0,2.0513c-0.277542,0.670013 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 -0.512833,1.538452 -0.512833,2.0513c0,0.512817 0.196243,1.064667 0,1.538452c-0.277542,0.670013 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 0.392502,1.103699 0,2.0513c-0.277542,0.670013 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 0.235657,1.565887 0,2.564117c-0.263458,1.116028 -0.277176,2.591522 -0.512817,3.589722c-0.263458,1.116058 -0.512833,1.538483 -0.512833,2.0513c0,1.025635 -0.512817,1.538452 -0.512817,2.564087c0,1.025665 -0.249359,1.44809 -0.512817,2.564117c-0.117828,0.499084 0,1.025635 0,1.538452c0,1.025635 0,1.025635 0,1.538452c0,0.512848 0.117828,1.039398 0,1.538483c-0.263458,1.116028 -0.512817,1.538452 -0.512817,2.05127c0,0 0,0.512817 0,1.025635c0,0.512817 0,0.512817 0,1.025665c0,1.025635 -0.512817,1.538452 -0.512817,2.05127c0,0 0,0.512817 0,1.025635c0,0 0,0.512817 0,1.025635c0,0.512848 0.235275,1.381287 0.512817,2.0513c0.196243,0.473785 0,0.512817 0,1.025635c0,0.512817 0,1.025635 0,1.538452c0,0.512817 0.512817,0.512817 0.512817,1.025665c0,0 0,0.512817 0.512817,1.025635c0,0 0,0.512817 0,0.512817c0.512817,0.512817 0.512817,1.025635 0.512817,1.025635c0.512833,0.512817 0.512833,0.512817 0.512833,0.512817c0,0 0.512817,0.512817 1.025635,1.025635c0.512817,0.512817 0.512817,0.512817 1.025635,1.025665c0,0 0,0 0,0c0.512833,0.512817 0.66304,0.150208 1.02565,0.512817c0.36261,0.36261 0,0.512817 0.512817,0.512817c0,0 0,0 0,0.512817c0,0 0.512817,0 0.512817,0c0.512817,0 0.512817,0 0.512817,0c0.512833,0 0.512833,0 1.02565,0c0,0 0.512817,0 0.512817,0c0.512817,0 1.025635,0 1.025635,0c0.512833,0 0.512833,0 1.02565,0c0,0 0.512817,0 1.025635,0c0,0 0.66304,-0.150208 1.02565,-0.512817c0.36261,-0.36261 0.551849,-0.829376 1.025635,-1.025635c0.670044,-0.277557 1.02565,-1.025665 1.02565,-1.025665c0.512817,-0.512817 0.589401,-1.26886 1.025635,-1.538452c0.975433,-0.602844 1.025635,-1.538452 1.538467,-2.05127c0.512817,-0.512817 0.907806,-1.039398 1.025635,-1.538483c0.263458,-1.116028 1.025635,-2.05127 1.538467,-2.564087c0.512817,-0.512817 1.02562,-1.538452 1.538452,-2.0513c0.512817,-0.512817 0.877045,-1.047638 1.02565,-1.538452c0.535812,-1.769653 1.538437,-2.564087 2.05127,-3.076935c0.512817,-0.512817 0.762192,-0.935242 1.02565,-2.05127c0.117828,-0.499084 0.601578,-0.950104 1.025635,-1.538452c0.670486,-0.930237 1.02565,-1.538483 1.538467,-2.0513c0.512817,-0.512817 0.867966,-1.121033 1.538452,-2.05127c0.424057,-0.588348 0.512833,-1.025635 1.02565,-1.538452c0.512817,-0.512817 0.633133,-1.103729 1.025635,-2.0513c0.277542,-0.670044 0.829407,-1.064667 1.02565,-1.538452c0.277542,-0.670013 1.26091,-0.868439 1.538452,-1.538452c0.196243,-0.473785 0.316589,-1.064697 0.512833,-1.538483c0.277542,-0.670013 1.26091,-0.868439 1.538452,-1.538452c0.196243,-0.473785 0.316574,-1.064667 0.512817,-1.538452c0.277542,-0.670044 0.685898,-1.184631 1.538467,-2.564117c0.381271,-0.616913 1.02565,-1.538452 1.538467,-2.564087c0.512833,-1.025665 1.26091,-1.381287 1.538452,-2.0513c0.196243,-0.473785 0.512817,-1.025635 1.02565,-2.05127c0.512817,-1.025635 1.302811,-2.078735 1.538452,-3.076935c0.263458,-1.116028 1.420639,-2.065002 1.538467,-2.564087c0.263458,-1.116028 1.025635,-2.0513 1.538452,-2.564117c0.512833,-0.512817 0.867981,-1.121033 1.538467,-2.05127c0.424057,-0.588348 0.829391,-1.577515 1.025635,-2.0513c0.277542,-0.670044 1.773743,-0.868439 2.051285,-1.538452c0.196243,-0.473785 1.114426,-1.975739 1.538467,-2.564087c0.670502,-0.930267 0.512817,-2.0513 1.025635,-2.564117c0.512833,-0.512817 1.260925,-0.868439 1.538467,-1.538452c0.196243,-0.473785 0.748108,-0.868439 1.025635,-1.538483c0.196243,-0.473785 0.907822,-2.065002 1.02565,-2.564087c0.263458,-1.116028 1.538452,-2.05127 2.051285,-3.076935c0.512817,-1.025635 0.748093,-1.381256 1.025635,-2.05127c0.196243,-0.473785 0.748093,-0.868439 1.025635,-1.538452c0.196259,-0.473816 0.762192,-0.935272 1.02565,-2.0513c0.117828,-0.499084 0.355148,-1.121033 1.025635,-2.05127c0.424057,-0.588348 0.512817,-1.025635 1.02565,-1.538483c0.512817,-0.512817 0.316574,-1.064667 0.512817,-1.538452c0.277542,-0.670013 0.366196,-0.621368 1.538452,-2.05127c0.459808,-0.560852 0.512833,-1.025635 1.02565,-2.0513c0.512817,-1.025635 0.355148,-1.63385 1.025635,-2.564087c0.424057,-0.588348 0.829407,-1.064667 1.02565,-1.538452c0.277527,-0.670044 0.601578,-0.950134 1.025635,-1.538483c0.670486,-0.930237 0.512817,-1.538452 1.02565,-2.05127c0.512817,-0.512817 0.316559,-1.064667 0.512817,-1.538483c0.277542,-0.670013 0.512817,-1.025635 0.512817,-1.538452c0,0 0.394989,-0.526535 0.512817,-1.025635c0.263458,-1.116013 0.633148,-1.103714 1.02565,-2.051285c0.277542,-0.670029 0.316574,-1.064667 0.512817,-1.538452c0.277527,-0.670044 1.025635,-1.02565 1.025635,-1.538467c0,-0.512817 0.748108,-0.868439 1.02565,-1.538467c0.196243,-0.473785 0.395004,-1.039352 0.512817,-1.538452c0.263458,-1.116028 1.114395,-1.462952 1.538452,-2.051285c0.670502,-0.930267 1.02565,-1.538467 1.02565,-2.051285c0,0 0.512817,-0.512817 1.025635,-1.025635c0.512817,-0.512833 0.748108,-0.868439 1.02565,-1.538467c0.196243,-0.473785 0.316559,-1.064667 0.512817,-1.538467c0.277542,-0.670029 0.935593,-0.563019 1.538452,-1.538452c0.269608,-0.436234 0.316574,-0.551849 0.512833,-1.02565c0.277542,-0.670029 0.512817,-0.512817 0.512817,-0.512817c0.512817,-0.512817 0.748093,-0.355606 1.025635,-1.025635c0.196243,-0.473785 0.512817,-1.02565 0.512817,-1.02565c0.512833,-0.512817 1.02565,-1.538452 1.538467,-2.05127c0.512817,-0.512833 0.355148,-0.608231 1.025635,-1.538467c0.424057,-0.588348 0.66304,-1.175858 1.02565,-1.538467c0.36261,-0.36261 1.025635,-1.025635 1.025635,-1.025635c0.512833,-0.512817 0.512833,-1.02565 1.02565,-1.538467c0.512817,-0.512817 1.025635,-1.025635 1.538452,-1.538452c0,0 -0.157211,-0.748123 0.512833,-1.02565c0.473785,-0.196243 0.748093,-0.355606 1.025635,-1.025635c0.196243,-0.473785 0.663025,-0.66304 1.025635,-1.02565c0.36261,-0.36261 0.748108,-0.868423 1.02565,-1.538452c0.196243,-0.473785 0.316559,-0.551849 0.512817,-1.02565c0.277542,-0.670029 0.601578,-0.437302 1.025635,-1.025635c0.670486,-0.930252 1.260925,-1.381256 1.538467,-2.051285c0.196243,-0.473785 0.316574,-1.064667 0.512817,-1.538452c0.277527,-0.670044 1.275009,-0.422455 1.538467,-1.538467c0.117828,-0.4991 0.355606,-1.260925 1.025635,-1.538467c0.473785,-0.196243 0.512817,-0.512817 0.512817,-0.512817c0.512833,-0.512817 0.748123,-0.868423 1.02565,-1.538467c0.196243,-0.473785 0.512817,-1.025635 0.512817,-1.025635c0.512817,-0.512817 0.316574,-0.551849 0.512817,-1.025635c0.277527,-0.670044 0.512817,-1.02565 1.02565,-1.02565c0,0 0,-0.512817 0,-0.512817l0,0\" id=\"svg_336\" fillOpacity=\"null\" strokeOpacity=\"null\" strokeWidth=\"8\" stroke=\"#000\" fill=\"none\"/>\n      <path filter=\"url(#svg_336_blur)\" d=\"m110.523846,118.617401c0,0 0,0 -0.512817,0.512817c0,0 0,0.512817 0,0.512817c-0.512817,0 -0.512817,0 -0.512817,0.512817c0,0 -0.316589,0.039032 -0.512833,0.512817c-0.277542,0.670013 -0.512817,1.025665 -0.512817,1.025665c-0.512817,0.512817 -0.512817,0.512817 -0.512817,1.025635c0,0.512817 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 -0.512817,0.512817 -0.512817,1.025635c0,0.512817 0,1.025635 0,1.538483c0,0.512817 0.196243,0.551849 0,1.025635c-0.277542,0.670044 -0.512833,1.025635 -0.512833,1.538452c0,0.512817 0,1.025635 0,1.538452c0,0 0,0.512817 0,0.512817c0,0.512848 0,1.025665 0,1.025665c0,0.512817 0,0.512817 0,1.025635c0,0.512817 0.150208,0.662994 0.512833,1.025635c0.36261,0.36261 0.150208,0.663025 0.512817,1.025635c0.36261,0.36261 0,1.025635 0,1.025635c0.512817,0.512848 0.512817,1.025665 0.512817,1.025665c0.512817,0.512817 0.512817,0.512817 0.512817,0.512817c0.512817,0.512817 0.512817,0.512817 1.02565,1.025635c0,0 0.039032,0.316559 0.512817,0.512817c0.670029,0.277527 1.381241,0.748108 2.051285,1.025635c0.473785,0.196228 1.025635,0 1.538452,0c1.02565,0 2.056274,0.101074 3.07692,0c2.602158,-0.25766 4.027039,-1.11441 4.615387,-1.538452c0.930267,-0.670502 2.051285,-1.025635 3.07692,-1.538452c1.02565,-0.512817 3.043167,-1.612488 4.10257,-2.0513c1.498245,-0.620575 2.564102,-1.025635 3.07692,-1.538452c0.512833,-0.512817 2.051285,-1.538452 3.076935,-2.05127c0,0 1.121017,-0.868011 2.05127,-1.538483c0.588348,-0.424042 1.32605,-0.300415 2.051285,-1.025635c0.36261,-0.36261 0.703598,-0.710297 2.564102,-2.05127c0.588333,-0.424042 1.387421,-1.203186 2.564102,-2.0513c0.930267,-0.670502 1.538467,-1.025635 2.051285,-1.538452c0,0 0.589401,-0.243195 1.02565,-0.512817c0.975433,-0.602844 1.538452,-1.538452 2.05127,-2.0513c0,0 -0.091736,-0.665985 1.538467,-1.538452c0.452133,-0.241974 0.551849,-0.316559 1.025635,-0.512817c0.670013,-0.277527 1.086304,-0.783661 1.538452,-1.025635c1.630249,-0.872467 1.381287,-1.773773 2.0513,-2.0513c0.947571,-0.392487 1.175842,-0.150208 1.538452,-0.512817c0.36261,-0.36261 0.512817,-1.025635 1.025635,-1.025635c0.512848,0 0.703613,0.315338 2.564117,-1.025635c0.588348,-0.424042 0.868439,-0.748108 1.538452,-1.025635c0.473785,-0.196259 0.512817,0 1.025635,0c0,0 0,0 0.512848,0c0.512817,0 0.512817,0 1.025635,0.512817c0,0 0.512817,0 0.512817,0c0.512817,0.512817 0.663025,0.150208 1.025635,0.512817c0.36261,0.36261 0.512817,0.512817 0.512817,0.512817c0,0.512817 0.512817,0.512817 0.512817,0.512817c0.512817,0.512817 0.512817,0.512817 0.512817,0.512817c0,0.512817 0,0.512817 0.512817,0.512817c0,0 0,0 0,0c-0.512817,0 -0.551849,0.196259 -1.025635,0c-0.670013,-0.277527 -0.512817,-0.512817 -1.025635,-1.025635c0,0 -0.551849,-0.316559 -1.025635,-0.512817c-0.670013,-0.277527 -1.025635,-0.512817 -1.025635,-0.512817c-1.538483,0 -2.0513,0 -2.564117,0c0,0 -0.450531,0.253052 -2.05127,0.512817c-0.506195,0.082153 -0.512817,0 -1.025635,0c-0.512848,0 -1.047668,0.364197 -1.538483,0.512817c-1.769653,0.535797 -1.538452,1.025635 -1.538452,1.025635c-0.512817,0 -0.663025,0.150208 -1.025635,0.512817c-0.36261,0.36261 0,0.512817 0,0.512817c-0.512817,0.512848 -0.512817,0.512848 -0.512817,0.512848c0,0.512817 0,0.512817 0,1.025635c0,0 0,0.512817 0,1.025635c0,0 -0.196259,0.551849 0,1.025635c0.277527,0.670013 0.355133,0.608215 1.025635,1.538483c0.424042,0.588348 0.512817,1.025635 1.025635,1.538452c0,0 0.150208,1.175842 0.512817,1.538452c0.36261,0.36261 0.621429,0.197235 1.025635,0.512817c1.666595,1.301239 2.564117,5.128204 2.564117,5.641022c0,0.512817 0.748108,0.868469 1.025635,1.538483c0.196259,0.473785 -0.235657,1.05307 0,2.05127c0.263458,1.116028 3.589752,10.256409 3.589752,10.769226c0,0.512817 0.512817,1.025635 0.512817,1.025635c0,0.512848 0,1.025665 0,1.538483c0,0.512817 0,0.512817 0,1.025635c0,0.512817 0.512817,1.538452 0.512817,1.538452c0,0.512817 0.36261,0.663025 0,1.025635c-0.36261,0.36261 -0.512817,0.512848 -0.512817,0.512848c0,0.512817 -0.150208,0.150208 -0.512817,0.512817c-0.36261,0.36261 -0.512817,0.512817 -0.512817,0.512817c0,0.512817 -0.150208,0.663025 -0.512817,1.025635c-0.36261,0.36261 -0.512848,0.512817 -0.512848,0.512817c-0.512817,0 -0.663025,0.150208 -1.025635,0.512817c-0.36261,0.36261 -0.512817,0.512817 -0.512817,0.512817c-0.512817,0.512817 -1.025635,0.512817 -1.025635,0.512817c-0.512817,0 -0.512817,0.512817 -1.025635,0.512817c-1.025635,0 -6.15387,1.025665 -6.15387,1.025665c-0.512817,0 -0.512817,0 -1.025635,0c0,0 -0.512817,0 -0.512817,0c-0.512817,-0.512817 -1.538452,-0.512817 -1.538452,-1.025665c0,0 -0.512817,0 -1.02565,-0.512817c0,0 0,0 0,0c-0.512817,-0.512817 -0.512817,-1.025635 -0.512817,-1.025635c-0.512817,-0.512817 -0.512817,-0.512817 -0.512817,-1.025635c0,-0.512817 0,-1.538452 0,-2.05127c0,-0.512848 0,-1.538483 0,-2.0513c0,-0.512817 0.150208,-1.68866 0.512817,-2.05127c0.36261,-0.36261 1.02565,-1.025635 1.02565,-1.538483c0,0 0.627045,-0.371277 2.564087,-2.05127c0.547882,-0.475189 0.874603,-1.203156 2.0513,-2.05127c0.930237,-0.670471 1.63385,-0.868011 2.564087,-1.538483c0.588348,-0.424042 3.076935,-2.05127 4.10257,-2.564087c1.025635,-0.512817 3.076935,-1.538483 4.10257,-2.0513c1.025635,-0.512817 1.716492,-0.660828 4.10257,-2.05127c2.837097,-1.653229 4.027008,-2.652893 4.615387,-3.076935c0.930267,-0.670471 0.844879,-1.011536 3.076904,-1.538452c0.499084,-0.117828 2.0513,-1.025635 2.564117,-1.538452c0.512817,-0.512817 1.538452,-0.512817 2.05127,-1.025635c0.512817,-0.512848 0.964874,-1.12323 2.564117,-2.0513c1.983582,-1.151093 3.02887,-1.591492 3.589722,-2.05127c1.429932,-1.172241 2.146698,-1.380829 3.076935,-2.0513c0.588348,-0.424042 3.076935,-2.05127 3.076935,-2.05127c0.512817,-0.512817 1.025635,-1.025635 2.564087,-2.564117c0.512817,-0.512817 0.829376,-1.064667 1.025635,-1.538452c0.277527,-0.670013 0.601593,-0.437286 1.025665,-1.025635c0.670502,-0.930237 1.025635,-1.538452 1.025635,-1.538452c0,0 -0.36264,-0.150208 0,-0.512848c0.36261,-0.36261 0.512817,-0.512817 0,-0.512817c0,0 -0.039032,-0.196259 -0.512817,0c-0.670013,0.277527 -1.025665,1.025665 -1.025665,1.025665c-0.512817,1.025635 -0.663025,1.68866 -1.025635,2.05127c-0.36261,0.36261 -0.316559,0.551849 -0.512817,1.025635c-0.277527,0.670013 -0.762177,0.422424 -1.025635,1.538452c-0.117828,0.499115 -0.249359,1.44809 -0.512817,2.564117c-0.117828,0.499084 0.117828,1.039368 0,1.538452c-0.263458,1.116058 -0.512817,1.025665 -0.512817,1.538483c0,0.512817 0,2.05127 0,2.564087c0,0.512817 0,1.538452 0,2.0513c0,0.512817 0,1.025635 0,2.05127c0,0.512817 0,1.025635 0,1.538452c0,0 0.235291,0.355621 0.512817,1.025635c0.392517,0.947601 0,1.538483 0,1.538483c0,0.512817 0.235291,0.868439 0.512817,1.538452c0.196259,0.473785 0,0.512817 0,1.025635c0,0.512817 0.512817,1.025635 0.512817,1.025635c0,0 0.150177,0.150208 0.512817,0.512848c0.36261,0.36261 1.025635,0.512817 1.025635,0.512817c0.512817,0 0.512817,0 0.512817,0c0.512848,0 1.025665,0 1.538483,0c1.025635,0 1.538452,0 2.05127,0c0,0 1.064667,-0.316559 1.538452,-0.512817c0.670074,-0.277557 0.868469,-1.260956 1.538483,-1.538483c0.473785,-0.196259 1.025635,-1.025635 2.05127,-1.538452c0,0 0.829376,-1.064667 1.025635,-1.538452c0.277527,-0.670013 3.589722,-3.076965 5.641022,-5.128204c0.512848,-0.512817 1.025665,-1.025665 1.025665,-1.538483c0,-0.512817 1.138733,-0.939117 3.076904,-3.589722c1.0914,-1.492584 1.025665,-2.0513 1.538483,-2.564117c0,0 0.512817,-2.05127 0.512817,-2.564087c0,0 0,-1.025665 0,-1.025665c0.512817,-0.512817 0.748108,-1.381256 1.025635,-2.05127c0.196259,-0.473785 0,-0.512817 0,-0.512817c0.512817,-1.025635 0.512817,-1.538452 0.512817,-1.538452c0,0.512817 0,1.025635 0,2.564087c0,0 0.050537,1.028137 0,1.538452c-0.51532,5.204315 -0.300415,6.967102 -1.025635,7.692322c-0.36261,0.36261 -0.512817,0.512817 -0.512817,1.025635c0,1.025635 0,1.025635 0,1.538452c0,0.512848 0,1.538483 0,3.076935c0,0.512817 0,1.025635 0,2.05127c0,1.538483 0.512817,3.076935 0.512817,4.10257c0,0.512817 0.512817,0.512817 0.512817,1.025635c0,0.512848 0.512817,0.512848 0.512817,1.538483c0,0 0.316559,0.551849 0.512817,1.025635c0.277527,0.670013 0.663025,0.150208 1.025635,0.512817c0.36261,0.36261 0.512817,0.512817 0.512817,0.512817c0,0 1.025665,0 1.538483,0c0.512817,0 1.025635,0 1.538452,0c0.512817,0 0.868439,-0.235291 1.538452,-0.512817c0.473785,-0.196259 1.064697,0.196259 1.538483,0c0.670013,-0.277527 0.868439,-0.748108 1.538452,-1.025635c0.947571,-0.392487 0.935242,-0.762177 2.05127,-1.025635c0.499084,-0.117828 1.616547,-0.633179 2.564117,-1.025665c0.670013,-0.277527 1.025635,-1.025635 1.025635,-1.025635c1.025635,-0.512817 2.54248,-3.015656 5.641022,-4.10257c0.483917,-0.169739 0.512817,0 1.025635,-0.512817c0.512848,-0.512817 1.121063,-0.867981 2.0513,-1.538452c0.588348,-0.424042 1.025635,-0.512817 1.538452,-1.025635c0.512817,-0.512817 1.025635,-1.025635 1.025635,-1.025635c0.512817,0 0.355591,-0.748108 1.025665,-1.025665c0.473785,-0.196259 1.175842,-0.663025 1.538452,-1.025635c0.36261,-0.36261 0.950104,-0.601593 1.538452,-1.025635c0.930237,-0.670471 2.0513,-1.025635 3.076935,-1.538452c2.05127,-1.025635 4.313873,-1.522369 6.153839,-2.564117c0.631104,-0.35733 0.935242,-1.274994 2.05127,-1.538452c0.99823,-0.235657 3.115967,-1.342194 3.589752,-1.538452c0.670044,-0.277557 1.175842,-0.663055 1.538452,-1.025665c0.72525,-0.72525 1.381287,-0.748108 2.0513,-1.025635c0.473785,-0.196259 1.025635,0 1.025635,0c0.512817,0 0.512817,0 1.025635,0c1.025635,0 1.538483,0 2.0513,0c0.512817,0 1.025635,0 1.025635,0c0.512817,0 1.025635,0.512817 1.538452,0.512817c0.512817,0 0.355621,0.235291 1.025635,0.512817c0.473816,0.196259 0.355652,0.235291 1.025665,0.512817c0.473785,0.196259 0.868439,0.748138 1.538452,1.025665c0.473785,0.196259 1.025635,0.512817 1.538452,0.512817c0.512817,0 0.512817,0 0.512817,0c0.512817,0.512817 1.025665,0.512817 1.025665,0.512817c0,0 0,0 0,0c-0.512848,0 -0.663055,-0.150208 -1.025665,-0.512817c-0.72522,-0.72522 -1.975739,-0.601563 -2.564087,-1.025635c-0.930237,-0.670502 -2.091522,-0.40509 -3.589752,-1.025665c-1.059418,-0.438812 -0.935242,-0.762177 -2.05127,-1.025635c-0.499084,-0.117828 -1.538483,0 -2.0513,0c0,0 -0.540253,-0.235657 -1.538452,0c-1.116028,0.263458 -0.868439,0.748108 -1.538452,1.025635c-0.947601,0.392517 -1.538483,0.512817 -2.564117,1.538483c-0.512817,0.512817 -1.11441,0.437286 -1.538452,1.025635c-0.670471,0.930237 -3.432098,3.172333 -4.10257,4.10257c-0.424042,0.588348 -0.512817,0.512817 -1.025635,1.025635c-0.512817,0.512817 -0.563019,1.448425 -1.538452,2.05127c-0.436249,0.269623 -1.025665,1.025665 -1.538483,1.538483c-0.512817,0.512817 -0.663025,1.175842 -1.025635,1.538452c-0.36261,0.36261 -0.512817,0.512817 -0.512817,0.512817c-0.512817,0.512817 -0.512817,1.025635 -0.512817,1.538452c0,0 0,1.025665 0,1.025665c0,1.025635 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 -0.196259,1.064667 0,1.538452c0.277527,0.670013 0.512817,0.512817 0.512817,1.025635c0,0.512817 0,0.512817 0,1.025665c0,0 0,0.512817 0,1.025635c0,0.512817 0,0.512817 0,0.512817c0,0 0,0.512817 0,0.512817c0.512817,0 0.150208,0.150208 0.512817,0.512817c0.36261,0.36261 1.039368,0.117828 1.538452,0c1.116028,-0.263458 2.364655,-0.475922 3.589752,-1.538452c0.866272,-0.751312 2.249664,-2.521881 3.589752,-3.076935c0.473785,-0.196228 1.256653,-0.743835 2.564087,-2.05127c1.307434,-1.307465 2.564117,-2.564117 3.589752,-3.589752c0.512817,-0.512817 0.950104,-1.627228 1.538452,-2.05127c0.930237,-0.670471 1.462921,-1.114441 2.0513,-1.538483c0.930267,-0.670471 2.258484,-1.749481 4.615387,-3.589722c1.14328,-0.892639 2.05127,-1.538483 2.564087,-2.0513c0.512817,-0.512817 0.512817,-1.025635 1.025635,-1.538452c0.512817,-0.512817 1.121033,-0.86795 2.0513,-1.538452c0.588348,-0.424072 0.512817,-0.512848 0.512817,-0.512848c0.512817,-0.512817 0.512817,-1.025635 0.512817,-1.025635c0.512817,-0.512817 0.512817,-0.512817 0.512817,-0.512817c0,-0.512817 0.512817,-0.512817 0.512817,-1.025635c0,0 0.249359,-0.090393 0.512817,1.025635c0.235657,0.998199 0,1.538452 0,2.0513c0,0 -0.120331,1.103699 -0.512817,2.05127c-0.277527,0.670013 -0.748108,0.868439 -1.025635,1.538452c-0.196259,0.473785 0,1.025665 0,1.538483c0,0.512817 -0.316559,1.577484 -0.512817,2.05127c-0.277527,0.670013 -0.512817,0.512817 -0.512817,1.025635c0,0.512817 0,1.025635 0,1.538483c0,0.512817 0,1.538452 0,2.05127c0,0 0,0.512817 0,1.025635c0,0.512817 0,0.512817 0,1.025635c0,0 0,0.512817 0,1.538483c0,0 0,0.512817 0,1.025635c0,0.512817 0.235291,0.355621 0.512817,1.025635c0.196259,0.473785 0,1.025635 0,1.538452c0,0.512817 0.512817,0.512817 0.512817,1.025665c0,0.512817 0.150208,0.663025 0.512817,1.025635c0.36261,0.36261 0.512817,0.512817 0.512817,0.512817c0.512817,0 0.512817,0 0.512817,0c0.512817,0.512817 1.025635,0.512817 1.538452,0.512817c0.512848,0 0.540283,0.235657 1.538483,0c1.116028,-0.263458 2.501862,0.575043 3.589722,-0.512817c0.36261,-0.36261 1.053101,-0.789978 2.0513,-1.025635c1.116028,-0.263458 1.462921,-0.601593 2.05127,-1.025665c0.930267,-0.670502 2.0513,-1.025635 2.564117,-1.538452c0,0 0.395172,-0.645813 1.538452,-1.538452c2.356934,-1.84021 3.589752,-2.564117 4.615387,-3.076935c0,0 0.437286,-0.601593 1.025635,-1.025635c0.930237,-0.670471 4.90155,-2.091095 7.692322,-4.10257c1.765015,-1.272156 2.337524,-2.830383 4.10257,-4.10257c0.930237,-0.670471 1.025635,-0.512817 1.538452,-0.512817c0,0 0.150208,-0.663025 0.512817,-1.025635c0.36261,-0.36261 0.551849,-0.316559 1.025635,-0.512817c0.670013,-0.277527 0.563019,-1.448425 1.538483,-2.05127c0.436218,-0.269592 0.748108,-0.355652 1.025635,-1.025665c0.196259,-0.473785 0.663025,-0.663025 1.025635,-1.025635c0.36261,-0.36261 0.366211,-1.134186 1.538452,-2.564087c0.459778,-0.560852 0.366211,-1.134216 1.538483,-2.564117c0.459808,-0.560852 1.025635,-1.025635 1.538452,-1.538452c0,0 0.512817,-1.025635 1.025635,-1.538452c0.512817,-0.512848 1.260925,-0.868469 1.538452,-1.538483c0.196259,-0.473785 0.879059,-1.647003 2.0513,-3.076904c1.379364,-1.682587 1.970673,-2.621033 3.076904,-4.10257c2.396332,-3.20932 3.944916,-4.197968 4.615387,-5.128204c0.424042,-0.588348 1.157196,-0.921539 1.538483,-1.538483c0.852539,-1.379486 1.025635,-2.05127 1.538452,-2.564087c0.512817,-0.512817 0.610382,-0.964874 1.538452,-2.564117c0.575562,-0.991791 0.728424,-2.095276 1.025635,-3.076904c0.535828,-1.769653 1.145996,-3.154999 1.538483,-4.10257c0.277527,-0.670013 0.644348,-0.921539 1.025635,-1.538452c0.85257,-1.379517 0.120331,-2.129364 0.512817,-3.076935c0.277527,-0.670029 0.496674,-2.775421 1.538452,-4.615387c0.35733,-0.631104 0.394989,-1.039352 0.512817,-1.538452c0.263458,-1.116043 1.025665,-2.051285 1.025665,-2.564102c0,0 0.512817,-0.512833 0.512817,-1.02565c0,-0.512817 0.512817,-1.025635 0.512817,-1.025635c0,-0.512817 0,-1.02565 0,-1.538467c0,-0.512817 0,-1.025635 0,-1.538452c0,0 0.36261,-0.66304 0,-1.02565c-0.36261,-0.36261 -0.316559,-0.039032 -0.512817,-0.512817c-0.277527,-0.670029 -0.512817,-0.512817 -1.025635,-1.025635c0,0 -0.512848,0 -0.512848,0c0,0 -0.150177,-0.150208 -0.512817,-0.512833c-0.36261,-0.36261 -0.355591,0.235291 -1.025635,0.512833c-0.947571,0.392502 -1.577484,0.316574 -2.05127,0.512817c-0.670013,0.277542 -0.886993,1.14299 -3.076935,3.589737c-1.934692,2.161575 -2.422546,2.678314 -4.10257,4.615387c-0.475189,0.547882 -1.380768,2.659485 -2.05127,3.589752c-0.424042,0.588348 -1.496216,1.22403 -2.05127,2.564102c-0.392487,0.947571 -0.512848,1.538452 -1.025665,2.564087c-0.512817,1.025635 -1.515472,2.845734 -2.05127,4.615387c-0.148621,0.490814 -0.67218,1.579651 -1.025635,3.076935c-0.263458,1.116028 -0.7659,1.988983 -1.025665,3.589752c-0.164307,1.01239 -0.67218,3.118073 -1.025635,4.615356c-0.263458,1.116058 -0.512817,2.564117 -1.025635,4.615387c-0.512817,2.0513 -0.762177,4.012177 -1.025635,5.128204c-0.235657,0.99823 -0.512817,2.564117 -0.512817,3.589752c0,1.025635 -0.266388,1.558319 -0.512817,3.076935c-0.259766,1.600739 -0.762207,2.986511 -1.025665,4.10257c-0.353485,1.497284 0.235657,2.591522 0,3.589722c-0.263458,1.116028 -0.387512,1.546173 -0.512817,2.564117c-0.258331,2.098572 -0.512817,3.589752 -0.512817,4.10257c0,0 0,0.512817 0,1.025635c0,0.512817 -0.196259,1.577484 0,2.05127c0.277527,0.670013 0.512817,1.025635 0.512817,1.538483c0,0.512817 0.235291,0.868439 0.512817,1.538452c0.196259,0.473785 0.235291,0.868408 0.512848,1.538452c0.196259,0.473785 -0.212433,1.32605 0.512817,2.0513c0.36261,0.36261 0.762177,0.422424 1.025635,1.538452c0.117828,0.499084 0,0.512817 0.512817,1.025635c0,0 0.512817,0.512817 0.512817,0.512817c0,0.512817 0.512817,0.512817 0.512817,0.512817c0.512817,0.512817 0.512817,0.512817 1.025635,0.512817c0,0 0.512817,0.512817 1.025665,0.512817c0,0 1.039368,0.117828 1.538452,0c2.232025,-0.526917 3.408997,-1.524353 5.641022,-2.05127c0.998199,-0.235657 3.68515,-0.867981 4.615387,-1.538452c1.176666,-0.848114 2.05127,-1.538483 3.076935,-2.0513c1.025635,-0.512817 1.63385,-0.355164 2.564087,-1.025635c0.588348,-0.424042 1.336639,-1.307129 4.10257,-3.076904c0.965912,-0.618042 1.064667,-0.829407 1.538452,-1.025665c0.670013,-0.277527 3.667816,-2.1716 4.615387,-2.564087c2.680145,-1.110168 2.337463,-1.578308 5.128204,-3.589752c0.588348,-0.424042 0.935242,-1.274994 2.0513,-1.538452c0.499084,-0.117828 1.025635,-0.512817 1.538452,-1.025635l0,0\" id=\"svg_341\" fillOpacity=\"null\" strokeOpacity=\"null\" strokeWidth=\"8\" stroke=\"#000\" fill=\"none\"/>\n      <polyline strokeLinecap=\"round\" id=\"svg_337\" points=\"113.60075378417969,100.87362575531006 113.60075378417969,100.87362575531006 113.60075378417969,100.87362575531006 \" fillOpacity=\"null\" strokeOpacity=\"null\" strokeWidth=\"8\" stroke=\"#000\" fill=\"none\"/>\n      <path filter=\"url(#svg_336_blur)\" d=\"m481.293102,42.719956c0.512817,-0.512817 1.152344,-0.826508 2.05127,-1.538452c3.139771,-2.48674 3.68512,-3.432083 4.615356,-4.10257c0.588318,-0.424057 0.512817,-0.512817 0.512817,-0.512817c0,0 0,-0.512817 0,-0.512817c0.512817,-0.512817 0.512817,-1.02565 1.025635,-1.538467c0,0 0,-0.512817 0,-1.025635c0,-0.512817 0,-1.02565 0,-1.02565c0,-0.512817 0,-1.538452 0,-1.538452c0,-0.512817 0,-1.02565 0,-1.02565c-0.512817,-0.512817 -0.512817,-0.512817 -0.512817,-0.512817c0,0 -0.512817,-0.512817 -0.512817,-1.025635c0,0 -0.512817,-0.512833 -1.025635,-1.02565c0,0 -0.512817,-0.512817 -1.025635,-1.025635c0,0 -0.150208,-0.150208 -0.512817,-0.512817c-0.36261,-0.36261 -0.868408,-0.235291 -1.538452,-0.512833c-0.473755,-0.196243 -1.025635,-0.512817 -2.05127,-0.512817c-0.512817,0 -1.538452,0 -2.564148,0c-1.025635,0 -1.538452,0 -2.05127,0c-0.512817,0 -1.066772,-0.35347 -2.564087,0c-1.116028,0.263458 -1.960876,0.762192 -3.076904,1.02565c-0.998169,0.235641 -2.129395,0.120331 -3.076965,0.512817c-0.670044,0.277542 -1.476196,1.278687 -3.076904,1.538452c-0.506226,0.082138 -1.025635,0.512833 -2.05127,1.02565c-1.025635,0.512817 -1.053101,0.789993 -2.05127,1.025635c-1.116028,0.263458 -1.633911,0.867981 -2.564148,1.538467c-0.588318,0.424057 -1.025635,1.025635 -2.05127,2.051285c-0.512817,0.512817 -0.935242,1.274994 -2.05127,1.538452c-0.499084,0.117828 -0.950134,1.11441 -1.538452,1.538467c-0.930237,0.670486 -1.462891,1.11441 -2.05127,1.538467c-0.930298,0.670517 -1.025696,1.025635 -1.538513,1.538452c-0.512817,0.512817 -1.025635,1.02565 -1.538452,1.538467c-0.512817,0.512817 -2.05127,1.538452 -2.564087,2.051285c-0.512817,0.512817 -1.102234,1.268845 -1.538452,1.538452c-0.975464,0.602859 -1.191589,1.292404 -2.05127,2.051285c-1.386169,1.223679 -2.051331,2.051285 -3.076965,3.07692c-0.512817,0.512833 -1.380798,1.121033 -2.05127,2.051285c-0.424072,0.588333 -1.11438,0.437302 -1.538452,1.02565c-0.670471,0.930252 -1.102234,1.268845 -1.538452,1.538452c-0.975464,0.602859 -0.868408,1.773743 -1.538452,2.051285c-0.473755,0.196243 -0.829407,0.551849 -1.025635,1.025635c-0.277527,0.670044 -1.025696,1.02565 -1.538513,1.538467c-0.512817,0.512817 -0.512817,0.512817 -1.025635,1.025635c-0.512817,0.512833 -1.025635,1.538467 -1.025635,1.538467c-0.512817,0.512817 -1.260925,0.868423 -1.538452,1.538467c-0.196228,0.473785 -0.748108,0.868423 -1.025635,1.538452c-0.196228,0.473785 -0.748108,0.868439 -1.025635,1.538467c-0.196228,0.473785 -0.235291,0.868423 -0.512817,1.538452c-0.196228,0.473801 -0.235291,0.868439 -0.512817,1.538467c-0.196228,0.473785 0,1.02565 0,1.538467c0,0.512817 0,1.025635 0,1.538452c0,0.512833 0,1.02565 0,1.538467c0,0 0.235291,0.355606 0.512817,1.025635c0.196228,0.473785 0,1.025635 0,1.025635c0.512817,0.512817 0.512817,1.025665 0.512817,1.538483c0,0 0.512817,0.512817 0.512817,0.512817c0.512817,0.512817 1.025635,1.538452 1.538452,2.05127c0,0 0.076599,0.243225 0.512817,0.512817c0.975464,0.602875 0.512817,1.025665 1.025635,1.538483c0,0 0.512817,0.512817 1.025635,1.025635c0,0 0.512817,0 0.512817,0.512817c0,0 0.512817,0.512817 0.512817,0.512817c0.512817,0.512817 1.064758,0.829376 1.538513,1.025635c0.670044,0.277527 0.868408,0.748108 1.538452,1.025635c0.947571,0.392487 1.616516,0.120361 2.564087,0.512848c0.670044,0.277527 1.32605,-0.212402 2.05127,0.512817c0.36261,0.36261 1.025635,0.512817 2.05127,0.512817c1.025696,0 2.051331,0 3.076965,0c1.025635,0 1.538452,0 2.05127,0c1.538452,0 2.564087,-0.512817 4.102539,-0.512817c0.512817,0 0.935242,-0.249359 2.051331,-0.512817c1.497314,-0.353455 2.564087,-0.512848 3.076904,-0.512848c1.025635,0 1.538452,-0.512817 2.05127,-0.512817c0.512817,0 1.616516,-0.120331 2.564087,-0.512817c0.670044,-0.277527 1.025635,-0.512817 1.538452,-0.512817c0.512878,0 1.025696,0 1.025696,-0.512817c0,-0.512817 -0.355591,0.748108 -1.025696,1.025635c-0.473816,0.196228 -1.102234,0.243225 -1.538452,0.512817c-0.975464,0.602875 -1.025635,1.025665 -1.538452,1.538483c-0.512817,0.512817 -1.025635,0.512817 -1.538452,1.025635c-0.512817,0.512817 -0.868408,0.748108 -1.538452,1.025635c-0.473755,0.196259 -0.355591,0.748108 -1.025635,1.025635c-0.947571,0.392487 -1.538452,0.512817 -2.05127,1.025635c0,0 -1.552246,1.420654 -2.051331,1.538483c-1.116028,0.263458 -1.63385,0.867981 -2.564087,1.538452c-1.176697,0.848114 -1.900208,1.716003 -3.076904,2.564117c-0.930237,0.670502 -1.538452,1.025635 -2.564087,1.538452c-1.025696,0.512817 -1.463013,1.11441 -2.051331,1.538452c-0.930237,0.670471 -2.05127,1.025635 -3.076904,2.0513c-0.512817,0.512817 -1.538452,1.025635 -2.05127,1.538452c-1.025635,1.025635 -1.175842,0.663025 -1.538452,1.025635c-0.36261,0.36261 -1.139832,0.884094 -3.076965,2.564117c-0.547852,0.475159 -1.025635,1.025635 -1.538452,1.538452c-0.512817,0.512817 -1.025635,0.512817 -1.538452,1.025635c-2.05127,2.0513 -2.564087,2.564117 -2.564087,2.564117c-0.512817,0.512817 -1.121033,0.867981 -2.05127,1.538452c-0.588318,0.424042 -2.488586,2.652863 -3.076965,3.076935c-0.930237,0.670502 -1.538452,1.025635 -2.05127,1.538452c-0.512817,0.512817 -0.512817,0.512817 -1.025635,1.025635c0,0 -0.512817,0.512817 -1.025635,1.025635c-1.025635,1.025665 -1.538452,1.025665 -2.05127,1.538483c-0.512817,0.512817 -0.512817,0.512817 -1.025635,1.025635c-0.512878,0.512848 -0.868469,1.260925 -1.538513,1.538452c-0.473755,0.196259 -1.025635,1.025635 -1.538452,1.538452c0,0 -0.748108,0.355652 -1.025635,1.025665c-0.196259,0.473785 -0.663025,0.663025 -1.025635,1.025635c-0.36261,0.36261 -0.512817,0.512817 -0.512817,1.025635c0,0 -0.316559,0.551849 -0.512817,1.025635c-0.277527,0.670013 -0.662994,1.175842 -1.025635,1.538483c-0.36261,0.36261 -1.275024,0.935242 -1.538483,2.05127c-0.117828,0.499084 -0.512817,1.025635 -1.025635,1.538452c-0.512817,0.512817 -0.512817,1.025635 -1.025635,1.538483c-0.512817,0.512817 -0.512817,1.538452 -1.025635,2.05127c0,0 -0.512817,0.512817 -0.512817,1.025635c0,0.512817 -0.249359,0.422424 -0.512817,1.538483c-0.117828,0.499084 -0.235291,0.868408 -0.512848,1.538452c-0.196259,0.473785 0.196259,1.064667 0,1.538452c-0.277527,0.670013 -0.512817,1.538452 -0.512817,1.538452c0,0.512848 0,1.025665 0,1.538483c0,0.512817 0.767303,1.49115 1.025665,3.589722c0.062653,0.509003 0,1.538483 0,2.0513c0,0.512817 0.512817,1.025635 0.512817,1.538452c0,0.512817 0.512817,2.564117 0.512817,3.076935c0,0.512817 0.512817,0.512817 0.512817,1.025635c0,0.512817 0.512817,1.025635 0.512817,1.538452c0,0.512817 -0.339752,0.671783 0.512817,2.0513c0.381287,0.616913 0.512817,0.512817 0.512817,0.512817c0,0.512817 0.150208,0.663025 0.512817,1.025635c0.36261,0.36261 0.316559,0.551849 0.512817,1.025635c0.277527,0.670013 1.025665,1.538483 1.538483,1.538483c0,0 0.437286,0.601593 1.025635,1.025635c0.930237,0.670471 1.577484,0.316559 2.05127,0.512817c0.670013,0.277527 1.538452,1.025635 2.564087,1.025635c0.512817,0 1.538513,0 2.051331,0c2.05127,0 3.076904,0 4.615356,0c1.538452,0 2.564087,0 4.102539,0c1.025696,0 2.013306,-0.255157 4.615417,-0.512817c1.530945,-0.151581 2.564087,-0.512817 3.589722,-0.512817c0.512817,0 0.935242,-0.249359 2.05127,-0.512817c0.99823,-0.235657 1.552246,0.117828 2.051331,0c1.116028,-0.263458 0.868408,-0.748108 1.538452,-1.025635c0.947571,-0.392487 1.381226,-0.235291 2.05127,-0.512848c0.947571,-0.392517 1.538452,-0.512817 2.05127,-0.512817c1.025635,0 0.935242,-0.762177 2.05127,-1.025635c0.99823,-0.235657 1.894104,-0.748108 2.564148,-1.025635c0.947571,-0.392487 1.538452,-0.512817 3.589722,-1.538452c1.025635,-0.512817 1.538452,-0.512817 2.564087,-1.025665c1.025635,-0.512817 3.016235,-1.123199 4.615417,-2.05127c1.983582,-1.151123 3.709045,-1.401703 6.666626,-4.10257c1.071106,-0.978119 1.240479,-1.240448 2.051331,-2.05127c0.810852,-0.810822 2.05127,-1.025635 2.564087,-1.538483c0.512817,-0.512817 1.025635,-1.025635 1.538452,-1.538452c1.025635,-1.025635 1.538452,-1.538452 2.05127,-2.05127c0.512817,-0.512817 1.025635,-1.025635 1.538452,-1.538483c0.512817,-0.512817 0.868042,-0.608215 1.538513,-1.538452c0.424072,-0.588348 1.538452,-1.025635 2.05127,-1.538452c1.025635,-1.025635 1.538452,-2.0513 2.05127,-2.564117c0.512817,-0.512817 1.538452,-1.538452 2.05127,-2.05127c0.512817,-0.512817 0.355164,-1.121033 1.025635,-2.0513c0.848083,-1.176697 1.893677,-1.63385 2.564148,-2.564087c0.424072,-0.588348 1.025635,-1.025635 1.025635,-1.025635c1.025635,-1.025635 1.391846,-1.647034 2.564087,-3.076935c1.379395,-1.682556 2.367859,-2.090302 2.564087,-2.564087c0.277527,-0.670013 0.867981,-0.608215 1.538452,-1.538483c0.424072,-0.588348 1.538452,-1.025635 2.051331,-1.538452c0,0 0.512817,-0.512817 1.025635,-1.025635c0.512817,-0.512817 1.025635,-1.025635 1.025635,-1.025635c0.512817,-0.512817 1.025635,-1.025665 1.538452,-1.538483c0,0 0.512817,-0.512817 0.512817,-0.512817c0.512817,0 0.663025,-0.663025 1.025635,-1.025635c0.36261,-0.36261 0.150208,-0.150208 0.512817,-0.512817c0.36261,-0.36261 0.355591,-0.235291 1.025635,-0.512817c0.473755,-0.196259 0.512817,-0.512817 0.512817,-0.512817l0,0\" id=\"svg_342\" fillOpacity=\"null\" strokeOpacity=\"null\" strokeWidth=\"8\" stroke=\"#000\" fill=\"none\"/>\n      <path filter=\"url(#svg_336_blur)\" d=\"m530.010998,116.053284c0,0 -0.039063,-0.316559 -0.512817,-0.512817c-0.670044,-0.277527 -1.025635,-0.512817 -1.025635,-1.025635c0,0 -0.512817,0 -1.025635,-0.512817c-0.512817,-0.512817 -1.025635,-0.512817 -1.025635,-0.512817c-0.512817,-0.512817 -0.55188,-0.316559 -1.025635,-0.512817c-0.670044,-0.277527 -0.512817,-0.512817 -0.512817,-0.512817c-0.512817,0 -0.512817,0 -0.512817,0c-0.512817,0 -0.512817,0 -1.025635,0c0,0 -0.55188,-0.196259 -1.025635,0c-0.670044,0.277527 -1.103699,0.633118 -2.051331,1.025635c-0.670044,0.277527 -1.462952,1.11441 -2.05127,1.538452c-0.930237,0.670471 -2.05127,1.025635 -2.05127,1.025635c-0.512817,0.512817 -1.025635,1.025665 -1.538452,1.538483c-0.512817,0.512817 -0.829407,0.551849 -1.025635,1.025635c-0.277527,0.670013 -1.025635,1.025635 -1.538452,1.538452c0,0 -0.316589,0.551849 -0.512817,1.025635c-0.277527,0.670044 -0.512817,1.025635 -1.025696,1.538483c-0.512817,0.512817 -0.748108,0.868439 -1.025635,1.538452c-0.196228,0.473785 -0.512817,0.512817 -0.512817,1.025635c0,0.512817 -0.512817,1.025635 -0.512817,1.538483c0,0.512817 -0.316589,0.551849 -0.512817,1.025635c-0.277527,0.670013 -0.150208,1.175842 -0.512817,1.538452c-0.36261,0.36261 -0.512817,0.512817 -0.512817,1.025635c0,0 -0.512817,0.512817 -0.512817,1.025635c0,0.512848 -0.512817,1.025665 -0.512817,1.538483c0,0.512817 -0.150208,0.663025 -0.512817,1.025635c-0.36261,0.36261 0.196228,1.064667 0,1.538452c-0.277527,0.670013 -0.512817,1.025635 -0.512817,1.538483c0,0.512817 0,1.025635 0,1.538452c0,0.512817 0,0.512817 0,0.512817c0,0.512817 0,0.512817 0.512817,1.025635c0,0 0.512817,0.512817 0.512817,0.512817c0.512817,0 0.512817,0.512817 0.512817,0.512817c0.512817,0 0.512817,0 0.512817,0c0,0 0.512817,0 1.025635,0c0.512817,0 1.064697,-0.316559 1.538452,-0.512817c0.670044,-0.277527 1.633911,-0.867981 2.564148,-1.538452c0.588318,-0.424042 1.025635,-1.025635 1.538452,-1.538452c0.512817,-0.512817 1.025635,-0.512817 1.538452,-1.025665c1.025635,-1.025635 1.381226,-1.773743 2.05127,-2.05127c0.473755,-0.196259 2.564087,-2.05127 3.076904,-2.564087c0.512878,-0.512848 0.355652,-1.260956 1.025696,-1.538483c0.473755,-0.196259 0.867981,-0.608215 1.538452,-1.538452c0.424072,-0.588348 1.025635,-1.025635 1.025635,-1.025635c0.512817,-0.512817 1.025635,-1.025635 1.538452,-1.538483c0.512817,-0.512817 0.512817,-1.025635 1.025635,-1.538452c0.512817,-0.512817 1.26886,-1.102234 1.538452,-1.538452c0.602844,-0.975433 1.773743,-0.868439 2.05127,-1.538452c0.196228,-0.473816 0.512817,-1.025635 1.025696,-1.538483c0.512817,-0.512817 0.355591,-1.260925 1.025635,-1.538452c0.473755,-0.196259 1.025635,-0.512817 1.538452,-1.538452c0,0 0.55188,-0.316589 1.025635,-0.512848c0.670044,-0.277527 0.490112,-1.562225 1.025635,-2.05127c2.957581,-2.700867 4.060303,-2.762512 4.615356,-4.10257c0.392517,-0.947571 1.114441,-1.462921 1.538513,-2.05127c0.670471,-0.930237 1.380798,-2.146698 2.05127,-3.076935c0.848083,-1.176666 1.342224,-1.577484 1.538452,-2.05127c0.277527,-0.670013 1.260925,-0.868439 1.538452,-1.538452c0.196228,-0.473816 0.316589,-1.064697 0.512817,-1.538483c0.277527,-0.670013 1.025635,-1.025635 1.538452,-1.538452c0.512817,-0.512817 1.380798,-2.146667 2.051331,-3.076935c0.424072,-0.588318 0.748108,-0.868439 1.025635,-1.538452c0.196228,-0.473785 0.983398,-0.711212 1.538452,-2.05127c0.196228,-0.473816 0.867981,-2.146698 1.538452,-3.076935c0.424072,-0.588348 1.11438,-0.950104 1.538452,-1.538452c0.670471,-0.930267 1.175842,-1.68869 1.538452,-2.0513c0.36261,-0.36261 0.512817,-1.538452 1.025635,-2.05127c0.512817,-0.512817 0.748108,-0.868439 1.025635,-1.538452c0.196228,-0.473816 0.31665,-1.064697 0.512878,-1.538483c0.277527,-0.670013 0.829407,-1.064667 1.025635,-1.538452c0.277527,-0.670013 0.829407,-0.551849 1.025635,-1.025635c0.277527,-0.670013 0.316589,-1.064697 0.512817,-1.538483c0.277527,-0.670013 1.275024,-0.935257 1.538452,-2.05127c0.235657,-0.998199 0.762207,-1.44809 1.025635,-2.564102c0.117798,-0.4991 0.316589,-1.064667 0.512817,-1.538467c0.277527,-0.670029 0.316589,-1.064667 0.512817,-1.538452c0.277527,-0.670044 0.748108,-0.868439 1.025635,-1.538467c0.196228,-0.473785 0.150208,-0.663025 0.512817,-1.025635c0.36261,-0.362625 0.235291,-0.868439 0.512817,-1.538467c0.196228,-0.473785 0.235291,-0.868423 0.512817,-1.538467c0.196228,-0.473785 0.512817,-1.025635 0.512817,-1.538452c0,0 0.150208,-0.150208 0.512817,-0.512817c0.36261,-0.362625 0,-1.02565 0,-1.02565c0,0 0,-0.512817 0,-1.025635c0,0 0,-0.512817 0,-0.512817c0,-0.512833 0,-0.512833 -0.512817,-1.02565c0,0 0,-0.512817 -0.512817,-1.025635c-0.512817,-0.512817 -0.512817,-0.512817 -0.512817,-0.512817c0,0 -0.512817,0 -0.512817,0c0,0 -0.512817,-0.512833 -1.025635,-0.512833c-0.512817,0 -0.512817,0 -1.025635,0c-0.512817,0 -1.025635,0 -2.05127,0c-0.512817,0 -1.552185,0.395004 -2.05127,0.512833c-1.116028,0.263458 -1.97583,0.601578 -2.564148,1.025635c-0.930237,0.670486 -2.05127,0.512817 -2.564087,1.025635c-0.512817,0.512833 -0.355591,0.748108 -1.025635,1.02565c-0.473755,0.196243 -0.829407,0.551849 -1.025635,1.025635c-0.277527,0.670029 -0.748108,0.355606 -1.025635,1.02565c-0.196228,0.473785 -0.512817,1.025635 -0.512817,1.025635c-0.512817,0.512817 -0.748108,0.868423 -1.025635,1.538467c-0.196228,0.473785 -0.316589,1.064667 -0.512817,1.538452c-0.277527,0.670029 -0.829346,1.577515 -1.025635,2.051285c-0.277588,0.670059 -0.829468,1.064667 -1.025696,1.538467c-0.277527,0.670029 -0.243225,1.102219 -0.512817,1.538452c-0.602844,0.975449 -0.867981,1.63385 -1.538452,2.564102c-0.424072,0.588348 -0.748108,0.868439 -1.025635,1.538467c-0.392517,0.947556 -0.512817,1.538452 -1.025635,2.564087c-0.512817,1.025665 -0.67218,2.605286 -1.025635,4.10257c-0.263428,1.116058 -1.260925,1.894104 -1.538452,2.564117c-0.196228,0.473785 -0.348511,1.551697 -0.512817,2.564087c-0.259766,1.600769 -0.633118,2.642181 -1.025635,3.589752c-0.277527,0.670013 -0.748108,0.868439 -1.025635,1.538452c-0.392517,0.947601 -0.31665,1.577515 -0.512878,2.0513c-0.277527,0.670013 -0.748108,1.381256 -1.025635,2.05127c-0.196228,0.473785 -0.512817,1.538452 -0.512817,2.564117c0,0 -0.39502,0.52655 -0.512817,1.025635c-0.263428,1.116028 -0.748108,1.381256 -1.025635,2.05127c-0.392517,0.947601 -0.748108,2.406921 -1.025635,3.076935c-0.196228,0.473785 0,1.025635 -0.512817,2.564087c-0.512817,1.538483 -0.767273,2.003998 -1.025635,4.10257c-0.062683,0.508972 -0.39502,1.039368 -0.512817,1.538483c-0.263428,1.116028 -0.450134,2.055115 -0.512817,2.564087c-0.258362,2.098572 -0.762207,2.473724 -1.025635,3.589752c-0.235657,0.998199 -0.235291,0.868439 -0.512817,1.538452c-0.196228,0.473785 0,1.025635 0,2.0513c0,0.512817 0.36261,0.663025 0,1.025635c-0.36261,0.36261 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 0,1.538452 0,2.564117c0,0.512817 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 0,1.025635 0,1.538452c0,0 0,0.512817 0,1.025635c0,0 0,0.512817 0,1.025665c0,0 0,0.512817 0,0.512817c0.512817,0 0.512817,0.512817 0.512817,1.025635c0,0.512817 0.235291,0.355621 0.512817,1.025635c0.392517,0.947571 0.235291,0.868439 0.512817,1.538452c0.196228,0.473785 0.512817,1.538483 0.512817,1.538483c0.512817,1.025635 0.512817,1.025635 0.512817,1.538452c0,0.512817 0.512817,0.512817 0.512817,0.512817c0,0.512817 0.150208,0.663025 0.512817,1.025635c0.36261,0.36261 0.512817,0 1.025635,0c0,0 0.512817,0.512817 1.025635,0.512817c0.512817,0 1.025635,0 2.05127,0c1.025635,0 2.051331,-0.512817 3.076965,-0.512817c1.025635,0 2.017517,-0.074005 3.076904,-0.512817c1.49823,-0.620575 1.63385,-0.355164 2.564087,-1.025635c0.588318,-0.424042 1.538452,-1.025635 3.076904,-1.538452c0,0 1.025696,-0.512817 2.051331,-1.025665c1.025635,-0.512817 1.38739,-0.690338 2.564087,-1.538452c0.930237,-0.670471 2.090332,-0.829376 2.564087,-1.025635c0.670044,-0.277527 0.868408,-1.260925 1.538452,-1.538452c0.473755,-0.196259 1.538513,-0.512817 2.051331,-1.025665c0.512817,-0.512817 1.025635,-1.025635 1.538452,-1.538452c0.512817,-0.512817 1.256653,-1.256653 2.564087,-2.564087c1.307434,-1.307465 1.63385,-1.380829 2.564087,-2.0513c0.588318,-0.424042 1.588623,-1.961243 2.564087,-2.564087c0.436279,-0.269623 1.025696,-0.512817 1.538513,-1.025635c0.512817,-0.512848 0.512817,-1.025665 1.025635,-1.025665c0,0 1.025635,-0.512817 1.025635,-0.512817c0,-0.512817 0.55188,-0.829376 1.025635,-1.025635c0.670044,-0.277527 1.025635,-1.025635 1.025635,-1.025635c0.512817,-0.512817 0.512817,-0.512817 0.512817,-0.512817c0.512817,0 0.709045,0.039032 0.512817,0.512817c-0.277527,0.670013 -0.748108,0.868439 -1.025635,1.538452c-0.196228,0.473785 -0.512817,1.025635 -0.512817,2.0513c0,0.512817 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 -0.512817,2.05127 -0.512817,2.564087c0,0 -0.235291,0.355621 -0.512817,1.025665c-0.196228,0.473785 0.196228,1.064667 0,1.538452c-0.277527,0.670013 -0.512817,1.025635 -0.512817,1.025635c0,0.512817 0.117798,1.039368 0,1.538452c-0.263428,1.116058 -0.512817,1.538483 -0.512817,2.0513c0,0 0,0.512817 0,1.025635c0,0.512817 0.235291,0.868439 0.512817,1.538452c0.196228,0.473785 -0.36261,0.663025 0,1.025635c0.36261,0.36261 0.512817,0.512848 1.025635,1.025665c0,0 0.512817,0.512817 0.512817,1.025635c0,0 0.55188,-0.196259 1.025635,0c0.670044,0.277527 0.512817,0.512817 1.538452,0.512817c0.512817,0 1.538452,0 2.564087,0c0.512878,0 1.025696,-0.512817 2.051331,-0.512817c1.025635,0 2.119446,-0.292053 4.102539,-1.025635c1.075439,-0.397827 2.146667,-0.868011 3.076904,-1.538483c0.588318,-0.424042 1.301941,-0.823822 2.564148,-1.538452c1.839966,-1.041748 4.15271,-1.448425 5.128174,-2.05127c2.181152,-1.348053 3.633789,-2.266907 4.615417,-2.564117c1.769653,-0.535797 2.065002,-1.420624 2.564087,-1.538452c1.116028,-0.263458 2.05127,-1.538452 3.076904,-2.0513c1.025635,-0.512817 1.025635,-0.512817 1.538452,-1.025635c0.512817,-0.512817 0.512817,-0.512817 1.025635,-1.025635c0.512817,-0.512817 1.175903,-0.150208 1.538513,-0.512817c0.36261,-0.36261 0.512817,-0.512817 0.512817,-1.025635c0,0 0.150208,-0.150208 0.512817,-0.512817c0.36261,-0.36261 1.025635,-0.512817 1.025635,-0.512817c0,0 0,0 0.512817,-0.512848c0,0 -0.36261,-0.150208 0,-0.512817c0.36261,-0.36261 0.512817,0 0.512817,0c0,0 0.512817,0 0.512817,0c0,-0.512817 0.512817,-0.512817 0.512817,-0.512817c0,-0.512817 0,-0.512817 0.512817,-0.512817l0,0\" id=\"svg_343\" fillOpacity=\"null\" strokeOpacity=\"null\" strokeWidth=\"8\" stroke=\"#000\" fill=\"none\"/>\n      <path filter=\"url(#svg_336_blur)\" d=\"m644.370007,54.002014c0,0 0,0.512817 0,0.512817c-0.512817,0 -0.512817,0.512817 -0.512817,0.512817c-0.512817,0.512833 -0.150208,1.175858 -0.512817,1.538467c-0.36261,0.36261 -0.512817,0.512817 -1.025635,1.025635c-0.512817,0.512833 -0.512817,1.02565 -0.512817,1.02565c-0.512817,0.512817 -1.025635,1.025635 -1.025635,1.538452c0,0 -0.395081,0.52655 -0.512878,1.02565c-0.263428,1.116013 -0.748108,0.868423 -1.025635,1.538452c-0.196228,0.473801 -0.235291,0.868439 -0.512817,1.538467c-0.196228,0.473785 -0.512817,1.025635 -0.512817,1.538467c0,0 -0.235291,0.355606 -0.512817,1.025635c-0.196228,0.473785 -0.316589,1.064667 -0.512817,1.538467c-0.277527,0.670029 -0.1203,1.103714 -0.512817,2.051285c-0.277527,0.670029 -0.748108,0.868423 -1.025635,1.538452c-0.196228,0.473785 -0.235291,0.868439 -0.512817,1.538467c-0.196228,0.473785 -0.39502,1.039352 -0.512817,1.538452c-0.263428,1.116028 -0.789978,1.565887 -1.025635,2.564117c-0.263428,1.116028 -1.025635,1.025635 -1.025635,1.538452c0,0.512817 -0.150208,0.663025 -0.512817,1.025635c-0.36261,0.36261 -0.235291,0.868439 -0.512817,1.538483c-0.196228,0.473785 -0.316528,1.064667 -0.512817,1.538452c-0.277588,0.670074 -0.748169,1.381256 -1.025696,2.05127c-0.196228,0.473785 -0.316589,1.064667 -0.512817,1.538483c-0.277527,0.670013 -0.748108,0.868439 -1.025635,1.538452c-0.392517,0.947571 -1.002625,2.332886 -1.538452,4.10257c-0.29718,0.981628 -0.765869,2.501801 -1.025635,4.102539c-0.082153,0.506226 -0.512817,1.538483 -1.025635,2.564117c-1.025635,2.05127 -1.025635,3.589752 -1.538452,4.615387c-0.512817,1.025635 -0.633118,2.129333 -1.025635,3.076935c-0.277527,0.670013 -0.1203,1.616516 -0.512817,2.564087c-0.277527,0.670013 -0.762207,1.448059 -1.025635,2.564117c-0.117798,0.499084 -0.235291,0.868378 -0.512878,1.538452c-0.392517,0.94754 -0.235291,1.381256 -0.512817,2.05127c-0.196228,0.473785 -0.24939,0.935242 -0.512817,2.0513c-0.117798,0.499084 0,1.025635 0,1.025635c-0.512817,1.025635 -0.512817,1.538452 -0.512817,1.538452c0,0.512817 0,1.025635 0,1.025635c-0.512817,1.025665 -0.512817,1.538483 -0.512817,2.0513c0,0 -0.235291,0.355621 -0.512817,1.025635c-0.196228,0.473785 0.117798,1.039368 0,1.538452c-0.263428,1.116058 -0.512817,1.538483 -0.512817,2.0513c0,0.512817 0.117798,0.52655 0,1.025635c-0.263428,1.116028 -0.512817,1.538452 -0.512817,2.05127c0,0 0,0.512817 0,1.025665c0,1.538452 0,2.05127 0,2.564087c0,0.512817 0,1.025635 0,1.025635c0.512817,0.512817 0.512817,0.512817 0.512817,0.512817c0,0.512817 -0.36261,1.175873 0,1.538483c0.36261,0.36261 0.512817,0.512817 0.512817,0.512817c0.512817,0.512817 0.512817,1.025635 1.025635,1.538452c0,0 0.150208,0.663025 0.512817,1.025635c0.36261,0.36261 0.663025,0.150208 1.025635,0.512817c0.36261,0.36264 0.512878,0.512848 0.512878,0.512848c0,0.512817 0.663025,0.663025 1.025635,1.025635c0.36261,0.36261 1.025635,0 1.025635,0c0.512817,0 1.025635,0 1.538452,0c0.512817,0 1.025635,0 2.05127,0c1.025635,0 1.538452,-0.512817 2.05127,-0.512817c0,0 0.55304,-0.40509 2.05127,-1.025665c1.059448,-0.438843 1.538513,-1.025635 2.564148,-1.025635c0.512817,0 1.538452,-0.512817 3.589722,-1.538452c1.025635,-0.512817 2.564087,-1.025635 3.076904,-1.538452c0.512817,-0.512848 1.538513,-0.512848 2.051331,-1.025665c0.512817,-0.512817 1.577515,-0.829376 2.05127,-1.025635c0.670044,-0.277527 1.064697,-0.829376 1.538452,-1.025635c0.670044,-0.277527 0.868408,-0.748108 1.538452,-1.025635c0.473755,-0.196259 1.025635,-0.512817 1.025635,-0.512817c1.025635,-0.512817 1.538452,-1.025665 1.538452,-1.025665c0.512817,0 1.025635,-0.512817 1.025635,-0.512817c0.512878,-0.512817 1.025696,-1.025635 1.025696,-1.025635c0.512817,0 0.55188,-0.316559 1.025635,-0.512817c0.670044,-0.277527 0.512817,-0.512817 0.512817,-0.512817c0.512817,-0.512817 1.025635,-1.025635 1.025635,-1.025635c0.512817,-0.512817 1.025635,-0.512817 1.025635,-0.512817c0,0 0.512817,-0.512817 0.512817,-0.512817c0.512817,-0.512848 1.538452,-1.025665 2.05127,-1.538483c1.025635,-1.025635 1.538452,-1.025635 1.538452,-1.025635c1.025635,-1.025635 1.503479,-1.57608 2.051331,-2.05127c1.937073,-1.680023 2.564087,-2.0513 3.076904,-2.564117c0,0 0.039063,-0.316559 0.512817,-0.512817c0.670044,-0.277527 0.512817,-1.025635 1.025635,-1.025635c0,0 -0.150208,-0.36261 -0.512817,0c-0.36261,0.36261 -0.748108,0.868439 -1.025635,1.538452c-0.196228,0.473785 -0.512817,1.025635 -0.512817,1.538452c0,0.512848 -0.235291,0.868469 -0.512817,1.538483c-0.392517,0.947571 0,1.538452 0,2.05127c0,0.512817 -0.512817,1.538452 -0.512817,2.564117c0,0.512817 -0.512817,1.025635 -0.512817,1.538452c0,0.512817 0,0.512817 0,1.025635c0,0.512817 0,0.512817 0,1.538452c0,0.512848 0,1.025665 0,1.538483c0,0.512817 0,0.512817 0,1.025635c0,0.512817 0,0.512817 0,1.025635c0,0.512817 -0.196228,0.551849 0,1.025635c0.277527,0.670013 0.748108,0.355621 1.025635,1.025665c0.196228,0.473785 0.663025,0.663025 1.025635,1.025635c0.36261,0.36261 0.512817,0.512817 1.025635,0.512817c0.512817,0 1.538452,0 2.564087,0c1.538452,0 1.57959,0.353485 3.076965,0c1.116028,-0.263458 1.894043,-0.748108 2.564087,-1.025635c0.947571,-0.392487 0.935242,-0.762207 2.05127,-1.025665c0.499084,-0.117828 1.025635,-0.512817 1.538452,-1.025635c0,0 0.512817,-0.512817 1.025635,-1.025635c0.512817,-0.512817 1.025635,-1.538452 1.025635,-2.05127c0,-0.512817 0.39502,-1.552216 0.512817,-2.0513c0.263428,-1.116028 1.260986,-2.919708 1.538513,-3.589722c0.196228,-0.473816 0,-1.025665 0,-1.538483c0,-1.025635 0.235291,-1.894073 0.512817,-2.564087c0.196228,-0.473785 0,-0.512817 0,-1.538483c0,-0.512817 0,-1.025635 0,-1.538452c0,-0.512817 0,-1.025635 0,-1.538452c0,-0.512817 0.196228,-1.064667 0,-1.538483c-0.277527,-0.670013 -0.512817,-1.025635 -0.512817,-1.538452c0,-0.512817 -0.235291,-0.868439 -0.512817,-1.538452c-0.196228,-0.473785 -0.512878,-1.025635 -0.512878,-1.025635c-0.512817,-0.512817 -0.829407,-1.064697 -1.025635,-1.538483c-0.277527,-0.670013 -0.512817,-0.512817 -0.512817,-0.512817c-1.025635,-0.512817 -1.025635,-1.025635 -1.025635,-1.025635c-0.512817,0 -0.512817,0 -0.512817,0c-0.512817,0 -1.025635,0 -1.025635,0c-0.512817,0 -0.512817,0 -0.512817,0c-0.512817,0 -0.868408,0.748108 -1.538452,1.025635c-0.473755,0.196259 -0.663025,0.150208 -1.025635,0.512817c-0.36261,0.36261 -1.175842,0.150208 -1.538452,0.512817c-0.36261,0.36264 -0.935608,1.075836 -1.538513,2.0513c-0.269592,0.436218 -0.512817,0.512817 -1.025635,1.025635c0,0 0,0.512817 0,0.512817c-0.512817,0.512817 -0.512817,1.025635 -1.025635,1.538452c0,0 0,0.512848 0,0.512848c0,0.512817 0,1.025635 0,1.025635c0,0.512817 0,0.512817 0,1.025635c0,0 0,0 0,0.512817c0,0 0,0.512817 0,0.512817c0.512817,0.512817 0.512817,0.512817 0.512817,1.025635c0,0 0.512817,0 0.512817,0c0,0.512848 0.512817,1.025665 1.025635,1.538483c0,0 0.512817,0.512817 0.512817,0.512817c0.512878,0 0.512878,0.512817 1.025696,0.512817c0.512817,0 1.025635,0.512817 1.025635,0.512817c0.512817,0 1.538452,0.512817 1.538452,0.512817c0.512817,0 1.025635,0 1.538452,0c0.512817,0 1.025635,0 1.538452,0c1.025635,0 1.025635,0 1.538452,0c1.025635,0 2.051331,0 2.564148,0c0.512817,0 0.355591,-0.235291 1.025635,-0.512817c0.473755,-0.196259 1.025635,0 1.538452,0c0.512817,0 1.616516,0.392487 2.564087,0c0.670044,-0.277527 1.32605,0.212402 2.05127,-0.512817c0.36261,-0.36261 1.025635,-0.512817 2.05127,-1.025635c1.025696,-0.512817 2.60321,-0.829376 3.076965,-1.025635c0.670044,-0.277557 0.935242,-0.762207 2.05127,-1.025665c1.497314,-0.353455 1.616516,-0.120331 2.564087,-0.512817c0.670044,-0.277527 0.868408,-0.748108 1.538452,-1.025635c0.473755,-0.196259 1.025696,0 1.025696,0c0.512817,-0.512817 0.868408,-0.748108 1.538452,-1.025635c0.473755,-0.196259 0.55188,0.196259 1.025635,0c0.670044,-0.277527 0.590881,-0.120331 1.538452,-0.512817c0.670044,-0.277527 1.064697,-0.829407 1.538452,-1.025665c0.670044,-0.277527 0.55188,-0.316559 1.025635,-0.512817c0.670044,-0.277527 0.868408,-0.748108 1.538452,-1.025635c0.473755,-0.196259 1.025635,-0.512817 2.051331,-1.025635c1.025635,-0.512817 1.577515,-0.316559 2.05127,-0.512817c0.670044,-0.277527 0.9776,-1.078644 1.538452,-1.538452c1.429932,-1.172272 2.201477,-1.175873 2.564087,-1.538483c0.36261,-0.36261 0.663025,-1.175842 1.025635,-1.538452c0.36261,-0.36261 1.025635,-0.512817 1.025635,-0.512817c1.025635,-1.025635 1.260925,-1.381226 1.538513,-2.0513c0.196228,-0.473785 0.512817,-1.025635 0.512817,-1.538452c0,0 0,-0.512817 0,-1.025635c0,-0.512817 0,-1.025635 0,-1.538452c0,0 0,-0.512817 0,-0.512817c-0.512817,0 -0.663025,-0.150177 -1.025696,-0.512848c-0.36261,-0.36261 -0.512817,-1.025635 -0.512817,-1.025635c0,0 -0.512817,-0.512817 -1.025635,-0.512817c-0.512817,0 -0.150208,-0.150208 -0.512817,-0.512817c-0.36261,-0.36261 -0.422424,0.249359 -1.538452,0.512817c-0.499084,0.117828 -0.437317,0.088776 -1.025635,0.512817c-0.930237,0.670471 -1.63385,0.355133 -2.564087,1.025635c-0.588379,0.424072 -3.076965,2.0513 -3.589783,2.564117c-0.512817,0.512817 -1.260925,0.355621 -1.538452,1.025635c-0.196228,0.473785 -0.512817,1.025635 -0.512817,1.025635c-0.512817,0.512817 -0.512817,1.025665 -0.512817,1.025665c-0.512817,0.512817 -0.512817,1.025635 -0.512817,1.538452c0,1.025635 0,1.025635 0,1.538452c0,0.512817 0.512817,1.025635 0.512817,1.538452c0,0.512848 0.512817,0.512848 0.512817,1.025665c0,0 0.039063,0.316559 0.512817,0.512817c0.670044,0.277527 1.175842,0.663025 1.538452,1.025635c0.36261,0.36261 1.025635,1.025635 1.538513,1.025635c0,0 0.590881,0.120331 1.538452,0.512817c0.670044,0.277527 0.868408,0.748108 1.538452,1.025635c0.473755,0.196259 1.025635,0 1.538452,0c1.025635,0 1.025635,0 1.538452,0c1.025635,0 1.025635,0 1.538452,0c0.512817,0 1.025635,0 1.025635,0c0.512817,0 1.025696,0 1.538513,0c0.512817,0 0.512817,0 1.025635,0c0,0 0,0 0,0c0,0 -0.762207,0.935272 -1.025635,2.0513c-0.235657,0.998199 -0.512817,2.05127 -0.512817,2.05127c-0.512878,1.025665 -1.025696,1.538483 -1.025696,2.0513c0,0.512817 0,1.025635 0,1.538452c0,1.025635 -0.512817,1.538452 -0.512817,2.564117c0,0.512817 0,1.025635 0,2.05127c0,0.512817 0.512817,1.025635 0.512817,1.538452c0,0.512817 0.235291,1.381287 0.512817,2.0513c0.392517,0.947571 -0.196289,1.577484 0,2.05127c0.277588,0.670074 0.512878,1.025635 0.512878,1.538452c0,0.512817 0,0.512817 0,0.512817c0,0 0.150208,0.663055 0.512817,1.025665c0.36261,0.36261 0.512817,0.512817 0.512817,0.512817c0.512817,0 1.025635,0.512817 2.05127,0.512817c0.512817,0 1.025635,0 1.538452,0c1.025635,0 1.538452,0 3.076904,0c1.025635,0 2.642212,-0.120331 3.589783,-0.512817c0.670044,-0.277527 1.588623,-0.422791 2.564087,-1.025635c2.181152,-1.348053 3.076904,-2.0513 4.102539,-2.564117c1.025635,-0.512817 1.97583,-1.11441 2.564148,-1.538452c0.930237,-0.670471 1.468323,-1.100922 2.564087,-2.0513c1.937012,-1.680023 2.919678,-2.799377 3.589722,-3.076904c0.473755,-0.196259 0.368713,-0.671936 2.05127,-2.0513c1.429932,-1.172272 2.051331,-1.538452 2.564148,-2.05127c0.512817,-0.512817 1.448059,-2.300659 2.564087,-2.564117c0.499084,-0.117828 0.512817,0 0.512817,0c0,-0.512817 0.512817,-0.512817 1.025635,-1.025635l0,0l0,-0.512817\" id=\"svg_346\" fillOpacity=\"null\" strokeOpacity=\"null\" strokeWidth=\"8\" stroke=\"#000\" fill=\"none\"/>\n      <path filter=\"url(#svg_336_blur)\" d=\"m601.293102,78.104584c0,0 0,0 0,0c0,-0.512817 0.316589,-0.551849 0.512817,-1.025635c0.277527,-0.670044 0.512817,-0.512848 1.025635,-1.025665c0.512817,-0.512817 0.663025,-0.663025 1.025635,-1.025635c0.36261,-0.36261 0.55188,-0.316574 1.025635,-0.512817c0.670044,-0.277542 0.868408,-1.26091 1.538452,-1.538452c0.473755,-0.196243 1.025635,-0.512833 2.05127,-0.512833c1.025635,0 1.045471,-0.266373 2.564148,-0.512817c1.600708,-0.259766 2.569336,-0.898743 4.102539,-1.025635c3.108704,-0.257278 3.499329,-0.762192 4.615356,-1.02565c1.497375,-0.353485 2.986572,-0.249359 4.1026,-0.512817c0.998169,-0.235641 2.05127,0 4.102539,0c1.025635,0 2.05127,0 2.564087,0c0,0 0.512878,0.512817 1.025696,0.512817c0.512817,0 1.448059,0.249374 2.564087,0.512833c0.499084,0.117828 1.025635,0.512817 1.538452,0.512817c0.512817,0 1.064697,0.316574 1.538452,0.512817c0.670044,0.277542 1.448059,0.762177 2.564087,1.025635c0.499084,0.117828 1.025696,0.512833 1.538513,0.512833c0.512817,0 1.448059,0.762177 2.564087,1.025635c0.998169,0.235641 2.05127,0.512817 2.564087,0.512817c2.564087,0 5.100891,0.768585 8.717957,1.025635c2.046082,0.145416 3.076904,0 4.102539,0c1.025635,0 2.564148,0 3.589783,0c1.025635,0 1.565918,0.235657 2.564087,0c1.116028,-0.263458 1.448059,-0.762177 2.564087,-1.025635c0.499084,-0.117828 1.32605,0.72522 2.05127,0c0.36261,-0.36261 0.540283,-0.277161 1.538513,-0.512817c1.116028,-0.263458 2.603149,-0.829391 3.076904,-1.025635c0.670044,-0.277542 0.868408,-0.748108 1.538452,-1.02565c0.947571,-0.392487 0.868408,-0.235275 1.538452,-0.512817c0.947571,-0.392487 1.025635,-0.512817 1.538452,-0.512817l0,0\" id=\"svg_344\" fillOpacity=\"null\" strokeOpacity=\"null\" strokeWidth=\"8\" stroke=\"#000\" fill=\"none\"/>\n      <polyline strokeLinecap=\"round\" id=\"svg_347\" points=\"577.924560546875,100.67547512054443 577.924560546875,100.67547512054443 \" fillOpacity=\"null\" strokeOpacity=\"null\" strokeWidth=\"8\" stroke=\"#000\" fill=\"none\"/>\n    </g>\n    </svg>\n  </Svg>\n}\n\nconst Svg = styled.div`\n  display: flex;\n  align-items: center;\n  width: 250px;\n  height: 100%;\n\n  svg {\n    flex: none;\n    transform: scale(.26, .18);\n    transform-origin: 0 50%;\n  }\n\n  .text>path {\n    &:nth-of-type(1) {\n      animation: dash1 8s linear infinite backwards;\n    }\n\n    &:nth-of-type(2) {\n      animation: dash2 8s linear infinite backwards;\n    }\n\n    &:nth-of-type(3) {\n      animation: dash3 8s linear infinite backwards;\n    }\n\n    &:nth-of-type(4) {\n      animation: dash4 8s linear infinite backwards;\n    }\n\n    &:nth-of-type(5) {\n      animation: dash5 8s linear infinite backwards;\n    }\n\n    &:nth-of-type(6) {\n      animation: dash6 8s linear infinite backwards;\n    }\n  }\n\n  .text>polyline {\n    &:nth-of-type(1) {\n      stroke-width: 0;\n      animation: point1 8s linear infinite backwards;\n    }\n    &:nth-of-type(2) {\n      stroke-width: 0;\n      animation: point2 8s linear infinite backwards;\n    }\n  }\n\n  @keyframes dash1 {\n    10% {\n      stroke-dashoffset: 0;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash2 {\n    10% {\n      stroke-dashoffset: 768.1146240234375;\n    }\n    30% {\n      stroke-dashoffset: 0;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash3 {\n    30% {\n      stroke-dashoffset: 382.9685363769531;\n    }\n    40% {\n      stroke-dashoffset: 0;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash4 {\n    40% {\n      stroke-dashoffset: 382.7724609375;\n    }\n    50% {\n      stroke-dashoffset: 0;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash5 {\n    50% {\n      stroke-dashoffset: 402.00604248046875;\n    }\n    60% {\n      stroke-dashoffset: 0;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash6 {\n    60% {\n      stroke-dashoffset: 82.89561462402344;\n    }\n    70% {\n      stroke-dashoffset: 0;\n    }\n    100% {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes point1 {\n    30% {\n      stroke-width: 0;\n    }\n    31% {\n      stroke-width: 8;\n    }\n    100% {\n      stroke-width: 8;\n    }\n  }\n  @keyframes point2 {\n    70% {\n      stroke-width: 0;\n    }\n    71% {\n      stroke-width: 8;\n    }\n    100% {\n      stroke-width: 8;\n    }\n  }\n`","import styled from '@emotion/styled'\nimport Avatar from 'assets/avatar.jpeg'\nimport { Button } from 'antd'\nimport { getCoverImage } from 'utils'\nimport { useState } from 'react'\nimport SvgAni from './SvgAni'\n\nexport default function Nav () {\n  const [loading, setLoading] = useState(false)\n\n  const exportImage = async () => {\n    setLoading(true)\n    try {\n      const url = await getCoverImage('#canvasContent')\n      const a = document.createElement('a')\n      a.href = url\n      a.setAttribute('download', `${Date.now()}.png`)\n      a.click()\n      a.remove()\n    } catch (e) { console.error(e) }\n    setLoading(false)\n  }\n\n  return <Header>\n    <SvgAni />\n    <RightSide>\n      <Button loading={loading} type=\"primary\" onClick={exportImage}>导出图片</Button>\n      <Link href=\"https://github.com/XXLiang1122/visual-editor\"><Img src={Avatar} /></Link>\n    </RightSide>\n  </Header>\n}\n\nconst Header = styled.header`\n  height: 56px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 20px;\n  background-color: #fff;\n  border-bottom: 1px solid #ddd;\n`\n\nconst RightSide = styled.div`\n  display: flex;\n  align-items: center;\n  height: 100%;\n`\n\nconst Link = styled.a`\n  flex: none;\n  margin-left: 30px;\n`\n\nconst Img = styled.img`\n  width: 36px;\n  height: 36px;\n  object-fit: cover;\n  cursor: pointer;\n  border-radius: 50%;\n`","import axios from 'axios'\n\nconst service = axios.create({\n  baseURL: 'https://pixabay.com/api',\n  timeout: 10000\n})\n\nservice.interceptors.response.use((response) => {\n  return response.data\n})\n\nexport default service","export interface TemplateInfo {\n  global: {\n    width: number;\n    height: number;\n  },\n  background: {\n    color: string;\n  },\n  layers: Layer[];\n}\n\nexport interface Layer {\n  id: string;\n  type: LayerType;\n  width: number;\n  height: number;\n  position: {\n    x: number;\n    y: number;\n  };\n  rotate: number;\n  reverse?: {\n    x: number;\n    y: number;\n  },\n  source: {\n    imageUrl?: string;\n    content?: string;\n  };\n  opacity: number;\n  style?: FontStyle;\n  clip?: ImageClip;\n  rectInfo?: RectShape;\n  circleInfo?: RectShape;\n  zIndex: number;\n  isSelected?: boolean;\n  isHover?: boolean;\n  isEditing?: boolean;\n  isLocked?: boolean;\n  scale?: number;\n}\n\nexport interface RectShape {\n  fill: string;\n  borderWidth: number;\n  borderColor: string;\n  borderStyle: string;\n}\n\nexport interface FontStyle {\n  font: string;\n  fontSize: number;\n  lineHeight: number;\n  color: string;\n  textAlign: Align;\n  fontWeight: number;\n  underline: boolean;\n}\n\nexport interface ImageClip {\n  width: number;\n  height: number;\n  top: number;\n  left: number;\n  right: number;\n  bottom: number;\n  pre: {\n    width: number;\n    height: number;\n    top: number;\n    left: number;\n    right: number;\n    bottom: number;\n  }\n}\n\nexport type LayerType = 'image' | 'text' | 'rect' | 'circle'\nexport type Align = 'left' | 'center' | 'right' | 'justify'\n\nexport enum LAYER_TYPE {\n  EMPTY = 'empty',\n  IMAGE = 'image',\n  TEXT = 'text',\n  RECT = 'rect',\n  CIRCLE = 'circle',\n  BACKGROUND = 'background'\n}\n\nexport enum POINT_TYPE {\n  TL = 'topLeft',\n  TR = 'topRight',\n  BL = 'bottomLeft',\n  BR = 'bottomRight',\n  T = 'top',\n  B = 'bottom',\n  L = 'left',\n  R = 'right'\n}\n\nexport interface Coords {\n  x: number;\n  y: number;\n}\n","import { TemplateInfo } from 'types'\n\nexport const defaultTemplate: TemplateInfo = {\n  global: {\n    width: 1280,\n    height: 720\n  },\n  background: {\n    color: '#fff'\n  },\n  layers: [\n    {\n      id: '1',\n      type: 'image',\n      width: 510,\n      height: 340,\n      position: {\n        x: 100,\n        y: 100\n      },\n      rotate: 0,\n      reverse: {\n        x: 1,\n        y: 1\n      },\n      source: {\n        imageUrl: 'https://cdn.pixabay.com/photo/2014/04/13/20/49/cat-323262__340.jpg'\n      },\n      opacity: 1,\n      zIndex: 1\n    },\n    {\n      id: '2',\n      type: 'text',\n      width: 380,\n      height: 72,\n      position: {\n        x: 100,\n        y: 500\n      },\n      rotate: 0,\n      source: {\n        content: '双击编辑文字'\n      },\n      style: {\n        font: 'Microsoft Yahei',\n        fontSize: 60,\n        lineHeight: 1.2,\n        color: '#000',\n        textAlign: 'left',\n        fontWeight: 400,\n        underline: false\n      },\n      opacity: 1,\n      zIndex: 2\n    }\n  ]\n}","import { cloneDeep } from 'lodash'\nimport { templateStore } from 'store/template'\nimport { TemplateInfo, LAYER_TYPE } from 'types'\n\nconst historyCache: TemplateInfo[] = []\nlet pointer = 0\nlet isUndoOrRedo = false\n\nexport default function undoRedo () {\n  const { setCanUseUndo, setCanUseRedo } = templateStore\n\n  const init = (template: TemplateInfo) => {\n    historyCache.push(template)\n  }\n\n  // 缓存历史记录\n  const pushHistory = () => {\n    if (isUndoOrRedo) {\n      isUndoOrRedo = false\n      return\n    }\n\n    const _template = cloneDeep(templateStore.template)\n    _template.layers = _template.layers.map(l => {\n      l.isSelected = false\n      l.isEditing = false\n      l.isHover = false\n      return l\n    })\n    pointer++\n    historyCache[pointer] = _template\n    historyCache.splice(pointer + 1, historyCache.length)\n    setCanUseUndo(true)\n    setCanUseRedo(false)\n    if (historyCache.length > 50) {\n      historyCache.shift()\n      pointer--\n    }\n  }\n\n  // 撤销\n  const undo = () => {\n    if (historyCache[pointer - 1]) {\n      isUndoOrRedo = true\n      pointer--\n      const _template = historyCache[pointer]\n      templateStore.setTemplate(cloneDeep(_template))\n      templateStore.setLayerType(LAYER_TYPE.EMPTY)\n      setCanUseRedo(true)\n      if (!historyCache[pointer - 1]) {\n        setCanUseUndo(false)\n      }\n    }\n  }\n\n  // 重做\n  const redo = () => {\n    if (historyCache[pointer + 1]) {\n      isUndoOrRedo = true\n      pointer++\n      const _template = historyCache[pointer]\n      templateStore.setTemplate(cloneDeep(_template))\n      templateStore.setLayerType(LAYER_TYPE.EMPTY)\n      setCanUseUndo(true)\n      if (!historyCache[pointer + 1]) {\n        setCanUseRedo(false)\n      }\n    }\n  }\n\n  return {\n    init,\n    pushHistory,\n    undo,\n    redo\n  }\n}","import { observable, action, reaction } from 'mobx'\nimport { defaultTemplate } from 'utils/initData'\nimport { TemplateInfo, Layer, LAYER_TYPE } from 'types'\nimport { cloneDeep } from 'lodash'\nimport undoRedo from 'utils/undoRedo'\n\nlet template: TemplateInfo = Object.assign(defaultTemplate, {\n  layers: defaultTemplate.layers.map(layer => { return {...layer, isSelected: false, isEditing: false, isHover: false, isLocked: false, scale: 1} })\n})\n\nconst localTemplateCache = localStorage.getItem('TEMPLATE')\nif (localTemplateCache) {\n  template = JSON.parse(localTemplateCache)\n}\n\n// 模板store\nexport const templateStore = observable({\n  // 模板\n  template: template,\n  // 当前编辑图层类型\n  layerType: LAYER_TYPE.EMPTY,\n  // 是否需要重新计算图层的高度，比如改变字体大小时需要\n  needUpdateLayerHeight: false,\n  // 图层是否正在移动\n  isMoving: false,\n  canUseUndo: false,\n  canUseRedo: false,\n\n  get layers (): Layer[] {\n    return this.template.layers\n  },\n\n  get activeLayer (): Layer | undefined {\n    return this.layers.find(l => l.isSelected)\n  },\n\n  // 获取最新的模板\n  getTemplate () {\n    const _template = cloneDeep(templateStore.template)\n    _template.layers = _template.layers.map(l => {\n      if (l.type === 'text' && l.style && l.scale) {\n        l.style.fontSize *= l.scale\n      }\n      delete l.isSelected\n      delete l.isEditing\n      delete l.scale\n      // @ts-ignore\n      delete l.clip?.pre\n      return l\n    })\n    return _template\n  },\n\n  // 修改整体模板\n  setTemplate (val: TemplateInfo) {\n    this.template = val\n  },\n\n  // 修改画布尺寸\n  setCanvasSize (size: { width: number; height: number }) {\n    this.template.global.width = size.width\n    this.template.global.height = size.height\n  },\n\n  // 修改全部图层\n  setLayers (layers: Layer[]) {\n    this.template.layers = layers\n  },\n\n  // 修改单个图层\n  setLayer (layer: Layer) {\n    const idx = this.layers.findIndex(l => l.id === layer.id)\n    if (idx > -1 && !this.layers[idx].isLocked) {\n      this.layers[idx] = layer\n    }\n  },\n\n  // 新增单个图层\n  addLayer (layer: Layer) {\n    this.layers.push(layer)\n    this.updateLayerType(layer)\n  },\n\n  // 移除单个图层\n  removeLayer (id: string) {\n    const idx = this.layers.findIndex(l => l.id === id)\n    if (idx > -1 && !this.layers[idx].isLocked) {\n      this.layers.splice(idx, 1)\n      this.setLayerType(LAYER_TYPE.EMPTY)\n    }\n  },\n\n  // 设置图层层级\n  setLayerLevel (id: string, level: number) {\n    const idx = this.layers.findIndex(l => l.id === id)\n    if (idx > -1) {\n      this.layers[idx].zIndex = level\n    }\n  },\n\n  // 选择图层\n  selectLayer (id: string) {\n    this.layers.forEach(layer => {\n      layer.isSelected = layer.id === id\n      if (layer.isSelected) {\n        this.updateLayerType(layer)\n      }\n    })\n    // 隐藏一些下拉组件\n    document.dispatchEvent(new Event('mousedown'))\n  },\n\n  // 鼠标经过图层\n  hoverLayer (id?: string) {\n    this.layers.forEach(layer => {\n      layer.isHover = id ? layer.id === id : false\n    })\n  },\n\n  // 更新图层类型\n  updateLayerType (layer: Layer) {\n    switch (layer.type) {\n      case 'image': this.setLayerType(LAYER_TYPE.IMAGE); break;\n      case 'text': this.setLayerType(LAYER_TYPE.TEXT); break;\n      case 'rect': this.setLayerType(LAYER_TYPE.RECT); break;\n      case 'circle': this.setLayerType(LAYER_TYPE.CIRCLE); break;\n    }\n  },\n\n  // 设置当前选择的图层类型\n  setLayerType (type: LAYER_TYPE) {\n    this.layerType = type\n  },\n\n  // 设置图层编辑状态(文字编辑、图片裁剪)\n  setEditStatus (id: string) {\n    if (this.layers.some(l => l.id === id && l.isLocked)) return\n    this.layers.forEach(layer => {\n      layer.isEditing = layer.id === id\n    })\n  },\n\n  // 设置图层锁定状态\n  setLayerLock (id: string, isLocked: boolean) {\n    const idx = this.layers.findIndex(l => l.id === id)\n    if (idx > -1) {\n      this.layers[idx].isLocked = isLocked\n      this.layers[idx].isEditing = false\n    }\n  },\n\n  // 重置所有图层选中状态\n  resetSelectStatus () {\n    this.layers.forEach(layer => {\n      layer.isSelected = false\n    })\n    this.setLayerType(LAYER_TYPE.EMPTY)\n  },\n\n  // 重置所有文字图层编辑状态\n  resetEditStatus () {\n    this.layers.forEach(layer => {\n      layer.isEditing = false\n    })\n  },\n\n  // 设置背景色\n  setBackgroundColor (color: string) {\n    this.template.background.color = color\n  },\n\n  // 设置needUpdateLayerHeight\n  setNeedUpdateLayerHeight (val: boolean) {\n    this.needUpdateLayerHeight = val\n  },\n\n  // 设置isMoving\n  setIsMoving (val: boolean) {\n    this.isMoving = val\n  },\n\n  setCanUseUndo (val: boolean) {\n    this.canUseUndo = val\n  },\n\n  setCanUseRedo (val: boolean) {\n    this.canUseRedo = val\n  },\n}, {\n  setTemplate: action.bound,\n  getTemplate: action.bound,\n  setCanvasSize: action.bound,\n  setLayers: action.bound,\n  setLayer: action.bound,\n  addLayer: action.bound,\n  removeLayer: action.bound,\n  selectLayer: action.bound,\n  setLayerLevel: action.bound,\n  hoverLayer: action.bound,\n  updateLayerType: action.bound,\n  setLayerType: action.bound,\n  setEditStatus: action.bound,\n  setLayerLock: action.bound,\n  resetSelectStatus: action.bound,\n  resetEditStatus: action.bound,\n  setBackgroundColor: action.bound,\n  setNeedUpdateLayerHeight: action.bound,\n  setIsMoving: action.bound,\n  setCanUseUndo: action.bound,\n  setCanUseRedo: action.bound\n})\n\n// 撤销重做\nconst { init, pushHistory } = undoRedo()\ninit(template)\n\n// 切换图层时重置文字编辑状态\n// 清空空文字图层\nreaction(\n  () => templateStore.layers.map(l => l.isSelected).join(''),\n  () => {\n    templateStore.resetEditStatus()\n    const idx = templateStore.layers.findIndex(l => l.type === 'text' && !l.source.content?.replaceAll(/\\n/g, ''))\n    if (idx > -1) {\n      templateStore.removeLayer(templateStore.layers[idx].id)\n    }\n  }\n)\n\n// 保存到本地\nconst save = () => {\n  const template = cloneDeep(templateStore.template)\n  template.layers = template.layers.map(l => {\n    l.isSelected = false\n    l.isEditing = false\n    l.isHover = false\n    return l\n  })\n  localStorage.setItem('TEMPLATE', JSON.stringify(template))\n}\n\n// 侦听保存\nreaction(\n  () => {\n    const template = cloneDeep(templateStore.template)\n    template.layers = template.layers.map(l => {\n      delete l.isSelected\n      delete l.isEditing\n      delete l.isHover\n      return l\n    })\n    return JSON.stringify(template)\n  },\n  () => { save(); pushHistory() },\n  {\n    delay: 500\n  }\n)\n","import { Layer, Coords } from 'types'\n\n// 创建图片图层\nexport const createImage = (width: number, height: number, url: string, position: Coords, zIndex: number): Layer => {\n  return {\n    id: String(Date.now()),\n    type: 'image',\n    width: width,\n    height: height,\n    position,\n    rotate: 0,\n    reverse: {\n      x: 1,\n      y: 1\n    },\n    source: {\n      imageUrl: url\n    },\n    clip: {\n      width: width,\n      height: height,\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      pre: {\n        width: width,\n        height: height,\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n      }\n    },\n    opacity: 1,\n    zIndex,\n    isSelected: true,\n    isEditing: false,\n    isLocked: false,\n    scale: 1\n  }\n}\n\n// 创建文字图层\nexport const createText = (position: Coords, zIndex: number, style: any): Layer => {\n  const {\n    width,\n    height,\n    fontWeight,\n    fontSize\n  } = style\n\n  return {\n    id: String(Date.now()),\n    type: 'text',\n    width,\n    height,\n    position,\n    rotate: 0,\n    source: {\n      content: '双击编辑文字'\n    },\n    style: {\n      font: '微软雅黑',\n      fontSize,\n      lineHeight: 1.2,\n      color: '#000',\n      textAlign: 'left',\n      fontWeight,\n      underline: false\n    },\n    opacity: 1,\n    zIndex,\n    isSelected: true,\n    isEditing: true,\n    isLocked: false,\n    scale: 1\n  }\n}\n\n// 创建矩形图层\nexport const createRect = (width: number = 200, height: number = 200, position: Coords, zIndex: number): Layer => {\n  return {\n    id: String(Date.now()),\n    type: 'rect',\n    width: width,\n    height: height,\n    position,\n    source: {},\n    rotate: 0,\n    opacity: 1,\n    rectInfo: {\n      fill: '#fff',\n      borderWidth: 6,\n      borderColor: '#000',\n      borderStyle: 'solid'\n    },\n    zIndex,\n    isSelected: true,\n    isEditing: false,\n    isLocked: false\n  }\n}\n\n// 创建圆形图层\nexport const createCircle = (width: number = 200, height: number = 200, position: Coords, zIndex: number): Layer => {\n  return {\n    id: String(Date.now()),\n    type: 'circle',\n    width: width,\n    height: height,\n    position,\n    source: {},\n    rotate: 0,\n    opacity: 1,\n    circleInfo: {\n      fill: '#fff',\n      borderWidth: 6,\n      borderColor: '#000',\n      borderStyle: 'solid'\n    },\n    zIndex,\n    isSelected: true,\n    isEditing: false,\n    isLocked: false\n  }\n}","import styled from '@emotion/styled'\nimport { ImageItem as ImageInfo } from 'types/image'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { DragEvent } from 'react'\nimport { createImage } from 'utils/createNewLayer'\n\nexport default observer(({ image }: { image: ImageInfo }) => {\n  const { template, layers, addLayer, resetSelectStatus } = templateStore\n\n  // 使用图片\n  const onUseImage = () => {\n    const position = {\n      x: (template.global.width - image.webformatWidth) / 2,\n      y: (template.global.height - image.webformatHeight) / 2\n    }\n    const zIndex = layers.length ? layers[layers.length - 1].zIndex + 1 : 1\n    const newLayer = createImage(image.webformatWidth, image.webformatHeight, image.webformatURL, position, zIndex)\n\n    resetSelectStatus()\n    addLayer(newLayer)\n  }\n\n  // 拖拽图片\n  const onDragStartCapture = (e: DragEvent<HTMLDivElement>) => {\n    e.dataTransfer.setData('image', JSON.stringify(image))\n  }\n\n  return <Image\n    style={{\n      flexBasis: `${100 * image.webformatWidth / image.webformatHeight}px`\n    }}\n    draggable=\"true\"\n    onClick={onUseImage}\n    onDragStartCapture={onDragStartCapture}\n  >\n    <img src={image.webformatURL} alt=\"\" draggable=\"false\" />\n  </Image>\n})\n\nconst Image = styled.div`\n  position: relative;\n  margin: 0 10px 10px 0;\n  background-color: #f0f1f4;\n  overflow: hidden;\n  flex-grow: 1;\n  cursor: pointer;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #000;\n    opacity: 0;\n    transition: opacity 100ms;\n  }\n\n  &:hover::before {\n    opacity: .2;\n  }\n\n  &:active::before {\n    opacity: 0;\n  }\n\n  img {\n    min-width: 100%;\n    height: 100px;\n    object-fit: cover;\n  }\n`","import { templateStore } from 'store/template'\nimport { Button } from 'antd'\nimport { observer } from 'mobx-react'\nimport { createText } from 'utils/createNewLayer'\n\nexport default observer(() => {\n  const { template, layers, addLayer, resetSelectStatus, setEditStatus } = templateStore\n\n  // 新增文本\n  const onUseText = (type: 'title' | 'text' | 'subTitle') => {\n    let style = {\n      width: 600,\n      height: 114,\n      fontWeight: 700,\n      fontSize: 95\n    }\n\n    if (type === 'subTitle') {\n      style = {\n        width: 380,\n        height: 72,\n        fontWeight: 700,\n        fontSize: 60\n      }\n    }\n\n    if (type === 'text') {\n      style = {\n        width: 300,\n        height: 48,\n        fontWeight: 400,\n        fontSize: 40\n      }\n    }\n\n    const position = {\n      x: (template.global.width - style.width) / 2,\n      y: (template.global.height - style.height) / 2\n    }\n    const zIndex = layers.length ? layers[layers.length - 1].zIndex + 1 : 1\n    const newLayer = createText(position, zIndex, style)\n\n    resetSelectStatus()\n    addLayer(newLayer)\n    setEditStatus(newLayer.id)\n  }\n\n  return <>\n    <Button size=\"large\" style={{ width: '100%', height: 40, fontWeight: 700 }} onClick={() => onUseText('title')}>\n      添加标题\n    </Button>\n    <Button size=\"middle\" style={{ width: '100%', height: 36, fontWeight: 500, marginTop: 20 }} onClick={() => onUseText('subTitle')}>\n      添加副标题\n    </Button>\n    <Button size=\"small\" style={{ width: '100%', height: 32, marginTop: 20 }} onClick={() => onUseText('text')}>\n      添加正文\n    </Button>\n  </>\n})\n","import styled from '@emotion/styled'\nimport { templateStore } from 'store/template'\nimport { DragEvent } from 'react'\nimport { observer } from 'mobx-react'\nimport { createRect, createCircle } from 'utils/createNewLayer'\n\nexport const Rect = observer(() => {\n  const { template, layers, addLayer, resetSelectStatus } = templateStore\n  const onUseRect = () => {\n    const position = {\n      x: (template.global.width - 200) / 2,\n      y: (template.global.height - 200) / 2\n    }\n    const zIndex = layers.length ? layers[layers.length - 1].zIndex + 1 : 1\n    const newLayer = createRect(200, 200, position, zIndex)\n\n    resetSelectStatus()\n    addLayer(newLayer)\n  }\n\n  // 拖拽\n  const onDragStartCapture = (e: DragEvent<HTMLDivElement>) => {\n    e.dataTransfer.setData('rect', '1')\n  }\n\n  return <RectItem draggable=\"true\" onClick={onUseRect} onDragStartCapture={onDragStartCapture} />\n})\n\nexport const Circle = observer(() => {\n  const { template, layers, addLayer, resetSelectStatus } = templateStore\n  const onUseCircle = () => {\n    const position = {\n      x: (template.global.width - 200) / 2,\n      y: (template.global.height - 200) / 2\n    }\n    const zIndex = layers.length ? layers[layers.length - 1].zIndex + 1 : 1\n    const newLayer = createCircle(200, 200, position, zIndex)\n\n    resetSelectStatus()\n    addLayer(newLayer)\n  }\n\n  // 拖拽\n  const onDragStartCapture = (e: DragEvent<HTMLDivElement>) => {\n    e.dataTransfer.setData('circle', '1')\n  }\n\n  return <CircleItem draggable=\"true\" onClick={onUseCircle} onDragStartCapture={onDragStartCapture} />\n})\n\nconst RectItem = styled.div`\n  position: relative;\n  width: 60px;\n  height: 60px;\n  margin-right: 10px;\n  border: 4px solid #000;\n  background-color: transparent;\n  cursor: pointer;\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #000;\n    opacity: 0;\n    transition: opacity 100ms;\n  }\n\n  &:hover::before {\n    opacity: .15;\n  }\n\n  &:active::before {\n    opacity: 0;\n  }\n`\n\nconst CircleItem = styled(RectItem)`\n  border-radius: 50%;\n  &::before {\n    border-radius: 50%;\n  }\n`","import styled from '@emotion/styled'\nimport { templateStore } from 'store/template'\nimport { Button } from 'antd'\nimport { observer } from 'mobx-react'\nimport { createImage } from 'utils/createNewLayer'\n\nexport default observer(() => {\n  const { template, layers, addLayer, resetSelectStatus } = templateStore\n\n  // 选择图片\n  const uploadImage = (e: any) => {\n    const reader = new FileReader()\n    reader.readAsDataURL(e.target.files[0])\n    reader.onload = el => {\n      const url = el.target?.result\n      if (typeof url === 'string') {\n        const img = new Image()\n        img.src = url\n        img.onload = () => {\n          onUseImage(img.width, img.height, url)\n        }\n      }\n    }\n  }\n\n  // 使用图片\n  const onUseImage = (width: number, height: number, url: string) => {\n    const position = {\n      x: (template.global.width - width) / 2,\n      y: (template.global.height - height) / 2\n    }\n    const zIndex = layers.length ? layers[layers.length - 1].zIndex + 1 : 1\n    const newLayer = createImage(width, height, url, position, zIndex)\n\n    resetSelectStatus()\n    addLayer(newLayer)\n  }\n\n  return <>\n    <UploadButton htmlFor=\"uploadImage\">\n      <Button size=\"large\">\n        选择本地图片\n      </Button>\n    </UploadButton>\n    <input type=\"file\" id=\"uploadImage\" accept=\"image/*\" style={{ display: 'none' }} onChange={uploadImage} />\n  </>\n})\n\nconst UploadButton = styled.label`\n  display: block;\n  width: 100%;\n  margin-bottom: 16px;\n  cursor: pointer;\n\n  button {\n    width: 100%;\n    pointer-events: none;\n  }\n`","import styled from '@emotion/styled'\nimport { useState, useEffect } from 'react'\nimport { ImageItem as ImageInfo, SearchQuery } from 'types/image'\nimport { getImages } from 'services/common'\nimport { Collapse } from 'antd'\nimport { FilterOutlined } from '@ant-design/icons'\nimport { Popover, Input, Button, Empty } from 'antd'\nimport ImageItem from './ImageItem'\nimport TextItem from './TextItem'\nimport { Rect, Circle } from './Shapes'\nimport UploadImage from './UploadImage'\nimport { isArray } from 'lodash'\n\nconst { Panel } = Collapse\nconst { Search } = Input\n\nlet ajaxLock = false\nlet isLoadMore = false\n\nexport default function Sidebar () {\n  // 图片列表\n  const [list, setList] = useState<ImageInfo[]>([])\n  // 图片查询参数\n  const [query, setQuery] = useState<Partial<SearchQuery>>({\n    page: 1,\n    per_page: 20,\n    image_type: 'all',\n    q: '',\n    orientation: 'all',\n    safesearch: true\n  })\n\n  const [showFilter, setShowFilter] = useState(false)\n\n  const [activeKey, setActiveKey] = useState<string | string[]>(['1'])\n\n  useEffect(() => {\n    getImages(query).then((data: any) => {\n      if (isLoadMore) {\n        setList(list => list.concat(data.hits))\n      } else {\n        setList(data.hits)\n      }\n    }).finally(() => {\n      ajaxLock = false\n    })\n  }, [query])\n\n  // 加载更多图片\n  const onLoadMore = () => {\n    if (ajaxLock) return\n    ajaxLock = true\n    const page = query.page\n    isLoadMore = true\n    setQuery(Object.assign({}, query, {\n      page: page ? page + 1 : 1\n    }))\n  }\n\n  const onPanelChange = (key: string[] | string) => {\n    setActiveKey(key)\n  }\n\n  // 图片筛选面板\n  const FilterPanel = () => {\n    const onSearch = (val: string, e: any) => {\n      e.preventDefault()\n      if (val) {\n        isLoadMore = false\n        setQuery(Object.assign({}, query, {\n          q: val,\n          page: 1\n        }))\n\n        if (!activeKey.includes('1')) {\n          setActiveKey(keys => {\n            let val = keys\n            if (isArray(keys)) {\n              val = [...keys, '1']\n            }\n            return val\n          })\n        }\n      }\n    }\n\n    const Content = () => {\n      return <>\n        <Search placeholder=\"搜索\" onSearch={onSearch} style={{ width: 200 }} />\n      </>\n    }\n\n    return <div onClick={e => { e.stopPropagation() }}>\n      <Popover\n        content={Content}\n        title=\"筛选\"\n        trigger=\"click\"\n        visible={showFilter}\n        onVisibleChange={visible => setShowFilter(visible)}\n      >\n        <FilterOutlined onClick={(e) => { e.stopPropagation(); setShowFilter(true) }} />\n      </Popover>\n    </div>\n  }\n\n  return <Side>\n    <Collapse activeKey={activeKey} onChange={onPanelChange}>\n      <Panel header=\"图片\" key=\"1\" extra={FilterPanel()}>\n        <ListContent>\n          <UploadImage />\n          {list.map(image => <ImageItem key={image.id} image={image} />)}\n          {list.length < 1 && <Empty style={{ width: '100%', margin: '20px auto' }} />}\n          {list.length > 0 && <Button style={{ width: '100%', marginTop: '20px' }} onClick={onLoadMore}>加载更多</Button>}\n      </ListContent>\n      </Panel>\n      <Panel header=\"文字\" key=\"2\">\n        <ListContent>\n          <TextItem />\n        </ListContent>\n      </Panel>\n      <Panel header=\"形状\" key=\"3\">\n        <ListContent>\n          <Rect />\n          <Circle />\n        </ListContent>\n      </Panel>\n    </Collapse>\n  </Side>\n}\n\nconst Side = styled.aside`\n  flex: none;\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  height: 100%;\n  background-color: #fff;\n  border-right: 1px solid #ddd;\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    width: 8px;\n    background: #fff;\n\n    &:horizontal {\n      height: 8px;\n    }\n  }\n\n  ::-webkit-scrollbar-track {\n    background: #fff;\n  }\n\n  ::-webkit-scrollbar-corner {\n    background: #fff;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #c4c4c4;\n    border: 8px solid rgba(0, 0, 0, 0);\n    border-radius: 9999px;\n\n    &:hover {\n      background: #adadad;\n    }\n  }\n\n  .ant-collapse {\n    border: 0;\n    background-color: #fff;\n  }\n`\n\nconst ListContent = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 10px;\n  user-select: none;\n\n  &:after {\n    content: '';\n    display: block;\n    flex-grow: 99999;\n  }\n`\n","import ajax from './base'\n\nconst key = '24178889-8dbe9fccf0c585814c1dcb342'\n\nexport const getImages = (params: any): any => {\n  return ajax({\n    url: '/',\n    params: {\n      key,\n      lang: 'zh',\n      ...params\n    }\n  })\n}\n","import styled from '@emotion/styled'\nimport { Slider } from 'antd'\nimport UndoIcon from 'assets/undo.png'\nimport RedoIcon from 'assets/redo.png'\nimport undoRedo from 'utils/undoRedo'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\n\nconst { undo, redo } = undoRedo()\n\nexport default observer(({ scale, setScale, responsive }: { scale: number; setScale: (n: number) => void; responsive: () => void }) => {\n  const { canUseUndo, canUseRedo } = templateStore\n\n  const scaleChange = (val: number) => {\n    setScale(val / 100)\n  }\n\n  return <FooterBar>\n    <SliderWrapper>\n      <Slider\n        className=\"slider\"\n        tipFormatter={null}\n        value={scale * 100}\n        min={10} max={500}\n        onChange={scaleChange}\n      />\n      <ToolItem className=\"scale active\" onClick={responsive}>{Math.round(scale * 100)}%</ToolItem>\n    </SliderWrapper>\n    <UndoRedo>\n      <ToolItem className={ canUseUndo ? 'active' : '' } onClick={undo}><img src={UndoIcon} alt=\"\" /></ToolItem>\n      <ToolItem className={ canUseRedo ? 'active' : '' } onClick={redo}><img src={RedoIcon} alt=\"\" /></ToolItem>\n    </UndoRedo>\n  </FooterBar>\n})\n\nconst FooterBar = styled.footer`\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  height: 44px;\n  padding: 0 40px;\n  background-color: #fff;\n  border-top: 1px solid #ddd;\n\n  .slider {\n    width: 240px;\n  }\n\n  .scale {\n    /* width: 100px; */\n    margin: 0 20px;\n  }\n`\n\nconst SliderWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst UndoRedo = styled.div`\n  display: flex;\n  justify-content: space-around;\n  width: 120px;\n\n  img {\n    width: 22px;\n    height: 22px;\n    pointer-events: none;\n    user-select: none;\n  }\n`\n\nconst ToolItem = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 6px 8px;\n  border-radius: 4px;\n  cursor: not-allowed;\n  opacity: .5;\n\n  &:hover {\n    background-color: rgba(64,87,109,.07);\n  }\n\n  &.active {\n    opacity: 1;\n    cursor: pointer;\n  }\n`","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAArRJREFUWEfFl09rE1EQwGfyB/SgKOjBQz1IIeBBEPsB6tFL8uZBCiIIgiiKigcpiKDtwYJ4kFpQiAh68WDovrdRWMGDfoAW9KBURRCUigoe9BJD3o5syZbNZje7G5P4IITMmzfzezPzZgjCf16Yxj8RXQWAeWae11rPpTmTVicRQAhxGREXfIPDhugLQESXAOBm8DaI+MCyrBNpb5ikFwtARBcAYDFk4I3rujO2bb9NMpx2PxJACHEGEe+M2rlnvwdASnmSme+Nw3kPABEdB4CHEeHzIvKtIzfM7HqrUCgY79v7DQCe/Hur1friOM6vzCkQQhxFxEdpDyborSGicl13WWu92k93IwXVanWy3W5/GJLzLjOIWDPGLMYV7mYNENFjj2UUEAAQ+3q6ijAOwms+acAQcQIASp3PrjSF3PMKoiAG6X5CiNuIeD4JIrIPDBFiGhFfhDppzbKs076sXyeMqolZpVRXa05KTblcLuXz+bWgHjNP+a8jaRb0QLiue8y27UzPVQgxi4g3Nm+NeMWyrI0BlzgNw+kYdBgR0U8A2NmBeKWUOpgKwFMKQDxn5lNa609JoQ/vE9EKABzy5caY7Y1G43diBPwDQoi5YrG4UK/XW1mdhy7hHy8ppd6nBhjEafCMdwFEvObLmPmw1vrl2ACIaBkAZABgUmv9cWwAUsrXzHzAB2g2m1scx/kzFoBKpTKRy+XeAcDWDsAzpdSR1K/gX/MvpVxi5nOB8J/VWt8dCwAReRPWa2j+WkfEKcuyvo4cQEp5i5kvhtpw13+LodeAEGJHoVDYb4y5DgDTofTVlVIzQVlmgGq1utsYc5+Zt0XUxl4A2BdTMz3OB0qBEKJnxKYo0kjn4wBYZeaa1roWB5k5BVLKPcy8HmPwBwB8RsQVZn6ilHqaFJ3MAEkGs+7/BQfySDDlTlsQAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAqtJREFUWEfFljGrE0EQx2duQ0yjiKA2TxBEfWjhg2dno1gdaLJzD2MlKOLDRkUtLCx8tqIgPEGwULASD243ATvB9wVEsBCEh4qChQqKFlpcMrIhd1wul9wuOXEhhGRn5v+7uZ2ZRfjPC6vWl1KuIOINAGgrpcKy+JUCZMQT3VKISgGCIHjEzKdzTz0VolKAVqu1z/O8pwCw3xaiUgAj6gpROYArhBOA7/ub6vX6HCJuAwCBiJ5ZcRwL821+m/8NBDNvB4D7BVUwciZKAaSUi57nLTEzAcB8WVlZ7qcQEwHMuxRCXGLmZcugTma1Wm13GIbrhQDDg/QMAHY6RbU3DpVSbWM+BiClPIyILwpifQOAt+bDzJ9stIYdMW+aio8BSCkXhuKbs17MvKq1vmgjmtgUdEWzNSI+BkBEpomcyIkf0VqvuYgT0RUAuJPzGRMfASCiMwDwMOvU6/Xmu92uSbv1IqJzAPDARnwEIAiCx8x8KnFk5mta61vWygAQBMFJZn5iK57PwPvMqf+ulNriIm5sC4ZRYdqzcQdV0Gw2NwohfmY2XiqlDroC5OZAqXiaASLaMyyxRNPKuQjQQCBiW2u9YvMAgwzka5+Zb9oGsBGZZpMA7ELE9YxhpJRamjW4jf8AwPf9DY1G40/igIivoyg6YBNgVpu0FRPRKwBYGAb83e/393Y6HauWOwtEFsDM7vOZLNyLoujCLMFtfFMAKeVRRHyecyq91dqIlB7CxEBKeRsRr440CsS7URRdnlVokv/YOM6dhcRvTQhxPY7jN1rrH1XCFF5IiOgLAGydIPQOAD7m9xDxlxDibBiGX10AJ17JikZzWWBmdh7dUy+lUsplRDR3wsUycbNfOUAiSkTHEPE4M5sBtWPC6/nMzIe01h9sYNNydzH+F7Z/AWqi/yEtgkl8AAAAAElFTkSuQmCC\"","import { createContext } from 'react'\nexport const ScaleContext = createContext<number>(1)\nexport const BackgroundContext = createContext<any>(null)","import { MouseEvent as MouseEventType } from 'react'\n\nexport class MouseEvents {\n  constructor (e: MouseEventType<HTMLElement>, handleMove: (payload: any) => void, handleUp?: () => void) {\n    this.mouseDown(e)\n    this.handleMove = handleMove\n    handleUp && (this.handleUp = handleUp)\n  }\n  \n  private handleMove = (payload: any) => {}\n  private handleUp = () => {}\n\n  private startCoords = {\n    x: 0,\n    y: 0\n  }\n\n  private preCoords = {\n    x: 0,\n    y: 0\n  }\n\n  private mouseUp = () => {\n    document.onmousemove = null\n    document.onmouseup = null\n    this.handleUp()\n  }\n\n  private mouseMove = (event: any) => {\n    const diffX = event.clientX - this.preCoords.x\n    const diffY = event.clientY - this.preCoords.y\n    const preCoords = {\n      x: this.preCoords.x,\n      y: this.preCoords.y\n    }\n    this.handleMove({\n      diff: {\n        x: diffX,\n        y: diffY\n      },\n      startCoords: this.startCoords,\n      curCoords: this.preCoords,\n      preCoords: preCoords\n    })\n    this.preCoords = {\n      x: event.clientX,\n      y: event.clientY\n    }\n  }\n\n  private mouseDown = (e: MouseEventType<HTMLElement>) => {\n    this.startCoords = {\n      x: e.clientX,\n      y: e.clientY\n    }\n    this.preCoords = {\n      x: e.clientX,\n      y: e.clientY\n    }\n    document.onmousemove = this.mouseMove\n    document.onmouseup = this.mouseUp\n  }\n}","import { Layer, POINT_TYPE, Coords } from 'types'\nimport { getCenterCoords, calcRotatedCoords } from 'utils'\n\nconst MIN_SIZE = {\n  width: 10,\n  height: 10\n}\n\n/**\n * 无旋转处理\n * @param layer 图层信息\n * @param point 拖动的点类型\n * @param diff 鼠标上次和当前移动的xy差值\n * @param scale 画布缩放\n * @param lockRatio 是否锁定比例\n * @returns \n */\nexport function normalResize (layer: Layer, point: POINT_TYPE, diff: Coords, scale: number, lockRatio: boolean): Layer {\n  const whRatio = layer.width / layer.height\n  let { x: newX, y: newY } = layer.position\n  let { width: newWidth, height: newHeight } = layer\n  const { x, y } = diff\n  switch (point) {\n    case POINT_TYPE.TL: {\n      const height = layer.height\n      newWidth -= x / scale\n      newX += x / scale\n      if (lockRatio) {\n        newHeight = newWidth / whRatio\n      } else {\n        newHeight -= y / scale\n      }\n      newY -= newHeight - height\n      break\n    }\n    case POINT_TYPE.TR: {\n      const height = layer.height\n      newWidth += x / scale\n      if (lockRatio) {\n        newHeight = newWidth / whRatio\n      } else {\n        newHeight -= y / scale\n      }\n      newY -= newHeight - height\n      break\n    }\n    case POINT_TYPE.BL: {\n      newWidth -= x / scale\n      newX += x / scale\n      if (lockRatio) {\n        newHeight = newWidth / whRatio\n      } else {\n        newHeight += y / scale\n      }\n      break\n    }\n    case POINT_TYPE.BR: {\n      newWidth += x / scale\n      if (lockRatio) {\n        newHeight = newWidth / whRatio\n      } else {\n        newHeight += y / scale\n      }\n      break\n    }\n    case POINT_TYPE.T: {\n      newHeight -= y / scale\n      newY += y / scale\n      break\n    }\n    case POINT_TYPE.B: {\n      newHeight += y / scale\n      break\n    }\n    case POINT_TYPE.L: {\n      newWidth -= x / scale\n      newX += x / scale\n      break\n    }\n    case POINT_TYPE.R: {\n      newWidth += x / scale\n      break\n    }\n  }\n\n  if ((newWidth > MIN_SIZE.width && newHeight > MIN_SIZE.height) || newWidth > layer.width || newHeight > layer.height) {\n    if (newWidth > MIN_SIZE.width) {\n      layer.width = newWidth\n      layer.position.x = newX\n    }\n    if (newHeight > MIN_SIZE.height) {\n      layer.height = newHeight\n      layer.position.y = newY\n    }\n  }\n\n  return layer\n}\n\n/**\n * 有旋转处理\n * @param point 拖动的点类型\n * @param curPoint 鼠标相对于画布左上角的坐标\n * @param symmetricPoint 对称点\n * @param pointCenter 当前拖动的点/边元素的中心位置\n * @param info 图层信息props\n * @param layer 最新的图层信息\n * @param whRatio 宽高比\n * @param scale 画布缩放值\n * @param lockRatio 是否锁定比例\n * @returns 返回调整后的图层信息\n */\nexport function rotateResize (point: POINT_TYPE, curPoint: Coords, symmetricPoint: Coords, pointCenter: Coords, info: Layer, layer: Layer, whRatio: number, scale: number, lockRatio: boolean): Layer {\n  switch (point) {\n    case POINT_TYPE.TL: {\n      // 根据鼠标当前位置和对称点获取最新中心点\n      let newCenterPoint = getCenterCoords(curPoint, symmetricPoint)\n      // 获取旋转前的左上角坐标\n      let newOriginCurPoint = calcRotatedCoords(curPoint, newCenterPoint, -info.rotate)\n      // 获取旋转前的对称点坐标\n      let newOriginSymmetricPoint = calcRotatedCoords(symmetricPoint, newCenterPoint, -info.rotate)\n\n      let newWidth = newOriginSymmetricPoint.x - newOriginCurPoint.x\n      let newHeight = newOriginSymmetricPoint.y - newOriginCurPoint.y\n\n      if (lockRatio) {\n        // 获取等比缩放计算后的坐标\n        if (newWidth / newHeight > whRatio) {\n          newOriginCurPoint.x += Math.abs(newWidth - newHeight * whRatio)\n        } else {\n          newOriginCurPoint.y += Math.abs(newHeight - newWidth / whRatio)\n        }\n\n        // 由于现在求的未旋转前的坐标是以没按比例缩减宽高前的坐标来计算的\n        // 所以缩减宽高后，需要按照原来的中心点旋转回去，获得缩减宽高并旋转后对应的坐标\n        // 然后以这个坐标和对称点获得新的中心点，并重新计算未旋转前的坐标\n        const latestOriginCurPoint = calcRotatedCoords(newOriginCurPoint, newCenterPoint, info.rotate)\n        newCenterPoint = getCenterCoords(latestOriginCurPoint, symmetricPoint)\n        newOriginCurPoint = calcRotatedCoords(latestOriginCurPoint, newCenterPoint, -info.rotate)\n        newOriginSymmetricPoint = calcRotatedCoords(symmetricPoint, newCenterPoint, -info.rotate)\n\n        newWidth = newOriginSymmetricPoint.x - newOriginCurPoint.x\n        newHeight = newOriginSymmetricPoint.y - newOriginCurPoint.y\n      }\n\n      if (newWidth / scale > MIN_SIZE.width && newHeight / scale > MIN_SIZE.height) {\n        layer.width = newWidth / scale\n        layer.height = newHeight / scale\n        layer.position.y = newOriginCurPoint.y / scale\n        layer.position.x = newOriginCurPoint.x / scale\n      }\n      break\n    }\n\n    case POINT_TYPE.TR: {\n      let newCenterPoint = getCenterCoords(curPoint, symmetricPoint)\n      // 获取旋转前的右上角坐标\n      let newOriginCurPoint = calcRotatedCoords(curPoint, newCenterPoint, -info.rotate)\n      let newOriginSymmetricPoint = calcRotatedCoords(symmetricPoint, newCenterPoint, -info.rotate)\n\n      let newWidth = newOriginCurPoint.x - newOriginSymmetricPoint.x\n      let newHeight = newOriginSymmetricPoint.y - newOriginCurPoint.y\n\n      if (lockRatio) {\n        if (newWidth / newHeight > whRatio) {\n          newOriginCurPoint.x -= Math.abs(newWidth - newHeight * whRatio)\n        } else {\n          newOriginCurPoint.y += Math.abs(newHeight - newWidth / whRatio)\n        }\n\n        const latestOriginCurPoint = calcRotatedCoords(newOriginCurPoint, newCenterPoint, info.rotate)\n        newCenterPoint = getCenterCoords(latestOriginCurPoint, symmetricPoint)\n        newOriginCurPoint = calcRotatedCoords(latestOriginCurPoint, newCenterPoint, -info.rotate)\n        newOriginSymmetricPoint = calcRotatedCoords(symmetricPoint, newCenterPoint, -info.rotate)\n\n        newWidth = newOriginCurPoint.x - newOriginSymmetricPoint.x\n        newHeight = newOriginSymmetricPoint.y - newOriginCurPoint.y\n      }\n\n      if (newWidth / scale > MIN_SIZE.width && newHeight / scale > MIN_SIZE.height) {\n        layer.width = newWidth / scale\n        layer.height = newHeight / scale\n        layer.position.y = newOriginCurPoint.y / scale\n        layer.position.x = newOriginSymmetricPoint.x / scale\n      }\n      break\n    }\n\n    case POINT_TYPE.BR: {\n      let newCenterPoint = getCenterCoords(curPoint, symmetricPoint)\n      // 获取旋转前的右下角坐标\n      let newOriginCurPoint = calcRotatedCoords(curPoint, newCenterPoint, -info.rotate)\n      let newOriginSymmetricPoint = calcRotatedCoords(symmetricPoint, newCenterPoint, -info.rotate)\n\n      let newWidth = newOriginCurPoint.x - newOriginSymmetricPoint.x\n      let newHeight = newOriginCurPoint.y - newOriginSymmetricPoint.y\n\n      if (lockRatio) {\n        if (newWidth / newHeight > whRatio) {\n          newOriginCurPoint.x -= Math.abs(newWidth - newHeight * whRatio)\n        } else {\n          newOriginCurPoint.y -= Math.abs(newHeight - newWidth / whRatio)\n        }\n\n        const latestOriginCurPoint = calcRotatedCoords(newOriginCurPoint, newCenterPoint, info.rotate)\n        newCenterPoint = getCenterCoords(latestOriginCurPoint, symmetricPoint)\n        newOriginCurPoint = calcRotatedCoords(latestOriginCurPoint, newCenterPoint, -info.rotate)\n        newOriginSymmetricPoint = calcRotatedCoords(symmetricPoint, newCenterPoint, -info.rotate)\n\n        newWidth = newOriginCurPoint.x - newOriginSymmetricPoint.x\n        newHeight = newOriginCurPoint.y - newOriginSymmetricPoint.y\n      }\n\n      if (newWidth / scale > MIN_SIZE.width && newHeight / scale > MIN_SIZE.height) {\n        layer.width = newWidth / scale\n        layer.height = newHeight / scale\n        layer.position.y = newOriginSymmetricPoint.y / scale\n        layer.position.x = newOriginSymmetricPoint.x / scale\n      }\n      break\n    }\n\n    case POINT_TYPE.BL: {\n      let newCenterPoint = getCenterCoords(curPoint, symmetricPoint)\n      // 获取旋转前的左下角坐标\n      let newOriginCurPoint = calcRotatedCoords(curPoint, newCenterPoint, -info.rotate)\n      let newOriginSymmetricPoint = calcRotatedCoords(symmetricPoint, newCenterPoint, -info.rotate)\n\n      let newWidth = newOriginSymmetricPoint.x - newOriginCurPoint.x\n      let newHeight = newOriginCurPoint.y - newOriginSymmetricPoint.y\n\n      if (lockRatio) {\n        if (newWidth / newHeight > whRatio) {\n          newOriginCurPoint.x += Math.abs(newWidth - newHeight * whRatio)\n        } else {\n          newOriginCurPoint.y -= Math.abs(newHeight - newWidth / whRatio)\n        }\n\n        const latestOriginCurPoint = calcRotatedCoords(newOriginCurPoint, newCenterPoint, info.rotate)\n        newCenterPoint = getCenterCoords(latestOriginCurPoint, symmetricPoint)\n        newOriginCurPoint = calcRotatedCoords(latestOriginCurPoint, newCenterPoint, -info.rotate)\n        newOriginSymmetricPoint = calcRotatedCoords(symmetricPoint, newCenterPoint, -info.rotate)\n\n        newWidth = newOriginSymmetricPoint.x - newOriginCurPoint.x\n        newHeight = newOriginCurPoint.y - newOriginSymmetricPoint.y\n      }\n\n      if (newWidth / scale > MIN_SIZE.width && newHeight / scale > MIN_SIZE.height) {\n        layer.width = newWidth / scale\n        layer.height = newHeight / scale\n        layer.position.y = newOriginSymmetricPoint.y / scale\n        layer.position.x = newOriginCurPoint.x / scale\n      }\n      break\n    }\n\n    case POINT_TYPE.T:\n    case POINT_TYPE.B: {\n      // 由于用户拉伸时是以任意角度拉伸的，所以在求得旋转前的坐标时，只取 y 坐标（这里的 x 坐标可能是任意值），x 坐标用 pointCenter 的。\n      // 这个中心点（第二个参数）用 pointCenter, center, symmetricPoint 都可以，只要他们在一条直线上就行\n      const newOriginCurPoint = calcRotatedCoords(curPoint, pointCenter, -info.rotate)\n\n      // 算出旋转前 y 坐标，再用 initCurPoint 的 x 坐标，重新计算它们旋转后对应的坐标\n      const latestCurPoint = calcRotatedCoords({\n        x: pointCenter.x,\n        y: newOriginCurPoint.y\n      }, pointCenter, info.rotate)\n\n      // 用旋转后的坐标和对称点算出新的高度（勾股定理）\n      const newHeight = Math.sqrt((latestCurPoint.x - symmetricPoint.x) ** 2 + (latestCurPoint.y - symmetricPoint.y) ** 2)\n\n      const newCenter = {\n        x: latestCurPoint.x - (latestCurPoint.x - symmetricPoint.x) / 2,\n        y: latestCurPoint.y + (symmetricPoint.y - latestCurPoint.y) / 2\n      }\n\n      // 是否反向拉伸了\n      let isReverse = false\n      const angle = (info.rotate + 360) % 360\n      // 禁止反向拉伸\n      if (point === POINT_TYPE.T) {\n        if ((angle >= 0 && angle <= 90) || (angle >= 270 && angle <= 360)) {\n          if (latestCurPoint.y >= symmetricPoint.y) {\n            isReverse = true\n          }\n        } else if (latestCurPoint.y <= symmetricPoint.y) {\n          isReverse = true\n        }\n      }\n      if (point === POINT_TYPE.B) {\n        if (angle >= 90 && angle <= 270) {\n          if (latestCurPoint.y >= symmetricPoint.y) {\n            isReverse = true\n          }\n        } else if (latestCurPoint.y <= symmetricPoint.y) {\n          isReverse = true\n        }\n      }\n\n      if (newHeight / scale > MIN_SIZE.height && !isReverse) {\n        layer.height = newHeight / scale\n        layer.position.y = (newCenter.y - (newHeight / 2)) / scale\n        layer.position.x = newCenter.x / scale - (layer.width / 2)\n      }\n      break\n    }\n\n    case POINT_TYPE.L:\n    case POINT_TYPE.R: {\n      const newOriginCurPoint = calcRotatedCoords(curPoint, pointCenter, -info.rotate)\n\n      const latestCurPoint = calcRotatedCoords({\n        x: newOriginCurPoint.x,\n        y: pointCenter.y\n      }, pointCenter, info.rotate)\n\n      const newWidth = Math.sqrt((latestCurPoint.x - symmetricPoint.x) ** 2 + (latestCurPoint.y - symmetricPoint.y) ** 2)\n\n      const newCenter = {\n        x: latestCurPoint.x - (latestCurPoint.x - symmetricPoint.x) / 2,\n        y: latestCurPoint.y + (symmetricPoint.y - latestCurPoint.y) / 2\n      }\n\n      // 是否反向拉伸了\n      let isReverse = false\n      const angle = (info.rotate + 360) % 360\n      // 禁止反向拉伸\n      if (point === POINT_TYPE.L) {\n        if ((angle >= 0 && angle <= 90) || (angle >= 270 && angle <= 360)) {\n          if (latestCurPoint.x >= symmetricPoint.x) {\n            isReverse = true\n          }\n        } else if (latestCurPoint.x <= symmetricPoint.x) {\n          isReverse = true\n        }\n      }\n      if (point === POINT_TYPE.R) {\n        if (angle >= 90 && angle <= 270) {\n          if (latestCurPoint.x >= symmetricPoint.x) {\n            isReverse = true\n          }\n        } else if (latestCurPoint.x <= symmetricPoint.x) {\n          isReverse = true\n        }\n      }\n\n      if (newWidth / scale > MIN_SIZE.width && !isReverse) {\n        layer.width = newWidth / scale\n        layer.position.y = newCenter.y / scale - (layer.height / 2)\n        layer.position.x = (newCenter.x - (newWidth / 2)) / scale\n      }\n      break\n    }\n  }\n\n  return layer\n}","import { Layer, POINT_TYPE } from 'types'\n\n// 计算处理图片裁剪\nexport const clipImage = (layer: Layer, point: POINT_TYPE, oldWidth: number, oldHeight: number): Layer => {\n  // 判断是否有翻转，翻转后方向互换\n  if (layer.reverse?.x === -1) {\n    if (point === POINT_TYPE.L) {\n      point = POINT_TYPE.R\n    } else if (point === POINT_TYPE.R) {\n      point = POINT_TYPE.L\n    }\n  }\n  if (layer.reverse?.y === -1) {\n    if (point === POINT_TYPE.T) {\n      point = POINT_TYPE.B\n    } else if (point === POINT_TYPE.B) {\n      point = POINT_TYPE.T\n    }\n  }\n  if (layer.clip) {\n    const imageWhRatio = layer.clip.pre.width / layer.clip.pre.height\n    switch (point) {\n      case POINT_TYPE.BR:\n      case POINT_TYPE.BL:\n      case POINT_TYPE.TL:\n      case POINT_TYPE.TR: {\n        // 全部等比例伸缩\n        const ratio = layer.width / oldWidth\n        layer.clip.width *= ratio\n        layer.clip.height *= ratio\n        layer.clip.top *= ratio\n        layer.clip.left *= ratio\n        layer.clip.right *= ratio\n        layer.clip.bottom *= ratio\n        break\n      }\n      case POINT_TYPE.R: {\n        // 伸缩\n        if (layer.width + layer.clip.left > layer.clip.pre.width) {\n          layer.clip.left *= layer.width / oldWidth\n          layer.clip.top *= layer.width / oldWidth\n          const newWidth = layer.clip.left + layer.width\n          layer.clip.width = newWidth\n          layer.clip.height = newWidth / imageWhRatio\n        // 裁剪\n        } else {\n          layer.clip.left = layer.clip.pre.left\n          layer.clip.top = layer.clip.pre.top\n          layer.clip.width = layer.clip.pre.width\n          layer.clip.height = layer.clip.pre.height\n        }\n        break\n      }\n      case POINT_TYPE.L: {\n        // 伸缩\n        if (layer.width + layer.clip.right > layer.clip.pre.width) {\n          layer.clip.right *= layer.width / oldWidth\n          const newWidth = layer.clip.right + layer.width\n          layer.clip.width = newWidth\n          layer.clip.left = 0\n          layer.clip.top *= layer.width / oldWidth\n          layer.clip.height = newWidth / imageWhRatio\n        // 裁剪\n        } else {\n          layer.clip.left = layer.clip.pre.width - layer.clip.pre.right - layer.width\n          layer.clip.top = layer.clip.pre.top\n          layer.clip.width = layer.clip.pre.width\n          layer.clip.height = layer.clip.pre.height\n          layer.clip.right = layer.clip.pre.right\n          layer.clip.bottom = layer.clip.pre.bottom\n        }\n        break\n      }\n      case POINT_TYPE.B: {\n        // 伸缩\n        if (layer.height + layer.clip.top > layer.clip.pre.height) {\n          layer.clip.top *= layer.height / oldHeight\n          layer.clip.left *= layer.height / oldHeight\n          const newHeight = layer.clip.top + layer.height\n          layer.clip.height = newHeight\n          layer.clip.width = newHeight * imageWhRatio\n        // 裁剪\n        } else {\n          layer.clip.left = layer.clip.pre.left\n          layer.clip.top = layer.clip.pre.top\n          layer.clip.width = layer.clip.pre.width\n          layer.clip.height = layer.clip.pre.height\n        }\n        break\n      }\n      case POINT_TYPE.T: {\n        // 伸缩\n        if (layer.height + layer.clip.bottom > layer.clip.pre.height) {\n          layer.clip.bottom *= layer.height / oldHeight\n          const newHeight = layer.clip.bottom + layer.height\n          layer.clip.height = newHeight\n          layer.clip.top = 0\n          layer.clip.left *= layer.height / oldHeight\n          layer.clip.width = newHeight * imageWhRatio\n        // 裁剪\n        } else {\n          layer.clip.top = layer.clip.pre.height - layer.clip.pre.bottom - layer.height\n          layer.clip.left = layer.clip.pre.left\n          layer.clip.width = layer.clip.pre.width\n          layer.clip.height = layer.clip.pre.height\n          layer.clip.right = layer.clip.pre.right\n          layer.clip.bottom = layer.clip.pre.bottom\n        }\n        break\n      }\n    }\n  }\n  return layer\n}\n\n// 更新上一次的图片的裁剪信息，保存在pre对象里\nexport const updateImageClip = (layer: Layer): Layer => {\n  if (layer.clip) {\n    layer.clip.pre.left = layer.clip.left\n    layer.clip.pre.top = layer.clip.top\n    layer.clip.pre.right = layer.clip.width - layer.clip.left - layer.width\n    layer.clip.pre.bottom = layer.clip.height - layer.clip.top - layer.height\n    layer.clip.pre.width = layer.clip.width\n    layer.clip.pre.height = layer.clip.height\n    layer.clip.right = layer.clip.pre.right\n    layer.clip.bottom = layer.clip.pre.bottom\n  }\n  return layer\n}","export default __webpack_public_path__ + \"static/media/rotate.a7cc796d.svg\";","export default __webpack_public_path__ + \"static/media/lock.7263c59f.svg\";","import { Layer, POINT_TYPE, Coords } from 'types'\nimport { MouseEvent, useContext, useState, useEffect, useCallback } from 'react'\nimport styled from '@emotion/styled'\nimport { ScaleContext } from 'store/context'\nimport { MouseEvents } from 'utils/mouseEvent'\nimport { normalResize, rotateResize } from 'utils/resizeLayer'\nimport { clipImage, updateImageClip } from 'utils/clipImage'\nimport rotateIcon from 'assets/rotate.svg'\nimport lockIcon from 'assets/lock.svg'\nimport { templateStore } from 'store/template'\nimport { cloneDeep } from 'lodash'\nimport { observer } from 'mobx-react'\n\n// 初始的指针角度（左上、上、右上、右）\nconst INIT_ANGLE = [0, 45, 90, 135]\n// 角度范围对应的指针样式\nconst ANGLE_TO_CURSOR = [\n  { start: 0, end: 23, cursor: 'nwse-resize' },\n  { start: 338, end: 360, cursor: 'nwse-resize' },\n  { start: 23, end: 68, cursor: 'ns-resize' },\n  { start: 68, end: 113, cursor: 'nesw-resize' },\n  { start: 113, end: 158, cursor: 'ew-resize' },\n  { start: 158, end: 203, cursor: 'nwse-resize' },\n  { start: 203, end: 248, cursor: 'ns-resize' },\n  { start: 248, end: 293, cursor: 'nesw-resize' },\n  { start: 293, end: 338, cursor: 'ew-resize' }\n]\n\n// 编辑框\nexport default observer(({ info }: { info: Layer; }) => {\n  const scale = useContext(ScaleContext)\n\n  const { layers, setLayer, isMoving, setIsMoving } = templateStore\n\n  // 鼠标样式\n  const [cursors, setCursors] = useState<string[]>([])\n\n  // 调整大小 无旋转\n  const resizeNormal = (e: MouseEvent<HTMLElement>, point: POINT_TYPE) => {\n    const idx = layers.findIndex(layer => layer.id === info.id)\n\n    if (idx > -1) {\n      new MouseEvents(e, (payload) => {\n        const layer = cloneDeep(layers[idx])\n\n        const oldHeight = layer.height\n        const oldWidth = layer.width\n\n        // 普通拖拽框大小\n        let res = normalResize(layer, point, payload.diff, scale, true)\n\n        // 处理文本框缩放\n        if (res.type === 'text') {\n          if (res.height !== oldHeight && res.scale) {\n            res.scale *= res.height / oldHeight\n          }\n        }\n        // 处理图片裁剪\n        if (res.type === 'image') {\n          res = clipImage(res, point, oldWidth, oldHeight)\n        }\n\n        setLayer(res)\n        setIsMoving(true)\n      }, () => {\n        let layer = cloneDeep(layers[idx])\n        if (layer.type === 'image') {\n          // 更新图片裁剪信息\n          layer = updateImageClip(layer)\n          setLayer(layer)\n        }\n        setIsMoving(false)\n      })\n    }\n  }\n\n  // 调整大小 有旋转\n  const resizeWithRotate = (e: MouseEvent<HTMLElement>, point: POINT_TYPE) => {\n    // 图层相对于画布左上角的中心点\n    const center = {\n      x: (info.position.x + info.width / 2) * scale,\n      y: (info.position.y + info.height / 2) * scale\n    }\n\n    // 获取边框圆点中心点\n    const pointRect = (e.target as HTMLElement)?.getBoundingClientRect()\n    const canvasRect = (document.querySelector('#layerControl') as HTMLElement)?.getBoundingClientRect()\n    const pointCenter = {\n      x: pointRect.left - Number(canvasRect.left) + pointRect.width / 2,\n      y: pointRect.top - Number(canvasRect.top) + pointRect.height / 2\n    }\n\n    // 获取对称点\n    const symmetricPoint = {\n      x: center.x - (pointCenter.x - center.x),\n      y: center.y - (pointCenter.y - center.y)\n    }\n\n    const whRatio = info.width / info.height\n    const idx = layers.findIndex(layer => layer.id === info.id)\n\n    new MouseEvents(e, ({ curCoords }: { curCoords: Coords }) => {\n      const layer = cloneDeep(layers[idx])\n\n      const curPoint = {\n        x: curCoords.x - Number(canvasRect.left),\n        y: curCoords.y - Number(canvasRect.top)\n      }\n\n      const oldHeight = layer.height\n      const oldWidth = layer.width\n\n      // 处理旋转的拖拽\n      let res = rotateResize(point, curPoint, symmetricPoint, pointCenter, info, layer, whRatio, scale, true)\n\n      // 处理文本框缩放\n      if (res.type === 'text') {\n        if (res.height !== oldHeight && res.scale) {\n          res.scale *= res.height / oldHeight\n        }\n      }\n      // 处理图片裁剪\n      if (res.type === 'image') {\n        res = clipImage(res, point, oldWidth, oldHeight)\n      }\n\n      setLayer(res)\n      setIsMoving(true)\n    }, () => {\n      let layer = cloneDeep(layers[idx])\n      if (layer.type === 'image') {\n        // 更新图片裁剪信息\n        layer = updateImageClip(layer)\n        setLayer(layer)\n      }\n      setIsMoving(false)\n    })\n  }\n\n  // 调整大小\n  const resize = (e: MouseEvent<HTMLElement>, point: POINT_TYPE) => {\n    e.stopPropagation()\n    if (info.rotate === 0) {\n      resizeNormal(e, point)\n    } else {\n      resizeWithRotate(e, point)\n    }\n  }\n\n  // 旋转\n  const rotate = (e: MouseEvent<HTMLElement>) => {\n    e.stopPropagation()\n    const borderEl = (e.target as HTMLElement).closest('.border-control')\n    if (borderEl) {\n      const rect = borderEl.getBoundingClientRect()\n      const rotateCenterPoint = {\n        x: rect.left + rect.width / 2,\n        y: rect.top + rect.height / 2\n      }\n      new MouseEvents(e, ({ curCoords }: { curCoords: Coords }) => {\n        const offsetY = curCoords.y - rotateCenterPoint.y\n        const offsetX = curCoords.x - rotateCenterPoint.x\n        // 当前距离x轴的角度(x轴起逆时针方向至该边)\n        const angle = Math.atan2(offsetY, offsetX) * 180 / Math.PI\n\n        const idx = layers.findIndex(layer => layer.id === info.id)\n        const layer = cloneDeep(layers[idx])\n        layer.rotate = (angle - 90 + 360) % 360\n\n        setLayer(layer)\n        setIsMoving(true)\n      }, () => {\n        setIsMoving(false)\n      })\n    }\n  }\n\n  // 计算8个圆点的指针样式，按顺序分别为 左上（右下）、上（下）、右上（左下）、右（左）\n  const calcCursors = useCallback(() => {\n    let angle = info.rotate\n    if (angle < 0) {\n      angle += 360\n    }\n    const cursors: string[] = []\n    INIT_ANGLE.forEach((a) => {\n      const newAngle = (a + angle) % 360\n      const item = ANGLE_TO_CURSOR.find(i => i.start <= newAngle && i.end >= newAngle)\n      if (item) {\n        cursors.push(item.cursor)\n      }\n    })\n    setCursors(cursors)\n  }, [info.rotate])\n\n  useEffect(() => {\n    calcCursors()\n  }, [calcCursors])\n\n  return <BorderEl \n    style={{\n      width: info.width * scale,\n      height: info.height * scale,\n      transform: `translate(${info.position.x * scale}px, ${info.position.y * scale}px) rotate(${info.rotate}deg)`\n    }}\n    className={['border-control', isMoving ? 'moving' : ''].join(' ')}\n  >\n    {info.isLocked ?\n      <LockIcon icon={lockIcon} rotate={info.rotate} /> :\n      <>\n        <PointBR style={{ cursor: cursors[0] }} onMouseDown={e => resize(e, POINT_TYPE.BR)} />\n        {info.width * scale > 30 && info.height * scale > 30 && <>\n            <PointTL style={{ cursor: cursors[0] }} onMouseDown={e => resize(e, POINT_TYPE.TL)} />\n            <PointTR style={{ cursor: cursors[2] }} onMouseDown={e => resize(e, POINT_TYPE.TR)} />\n            <PointBL style={{ cursor: cursors[2] }} onMouseDown={e => resize(e, POINT_TYPE.BL)} />\n            <PointL style={{ cursor: cursors[3] }} onMouseDown={e => resize(e, POINT_TYPE.L)} />\n            <PointR style={{ cursor: cursors[3] }} onMouseDown={e => resize(e, POINT_TYPE.R)} />\n            { info.type !== 'text' && <PointT style={{ cursor: cursors[1] }} onMouseDown={e => resize(e, POINT_TYPE.T)} /> }\n            { info.type !== 'text' && <PointB style={{ cursor: cursors[1] }} onMouseDown={e => resize(e, POINT_TYPE.B)} /> }\n          </>\n        }\n        <RotateIcon className='rotate-point' icon={rotateIcon} onMouseDown={rotate} />\n      </>\n    }\n  </BorderEl>\n})\n\nconst BorderEl = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n\n  &.moving .rotate-point {\n    opacity: 0;\n  }\n\n  &.moving span {\n    opacity: 0;\n  }\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n    border: 2px solid #00c4cc;\n  }\n`\n\nconst Point = styled.span`\n  position: absolute;\n  display: block;\n  background: transparent;\n  z-index: 1;\n  pointer-events: auto;\n  width: 18px;\n  height: 18px;\n  user-select: none;\n  transition: opacity 200ms;\n\n  ::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: inline-block;\n    width: 12px;\n    height: 12px;\n    border-radius: 6px;\n    background: #fff;\n    box-shadow: 0 0 5px 1px rgb(57 76 96 / 15%), 0 0 0 1px rgb(53 71 90 / 20%);\n  }\n`\n\nconst PointTL = styled(Point)`\n  top: -9px;\n  left: -9px;\n  cursor: nwse-resize;\n`\n\nconst PointTR = styled(Point)`\n  top: -9px;\n  right: -9px;\n  cursor: nesw-resize;\n`\n\nconst PointBL = styled(Point)`\n  bottom: -9px;\n  left: -9px;\n  cursor: nesw-resize;\n`\n\nconst PointBR = styled(Point)`\n  bottom: -9px;\n  right: -9px;\n  cursor: nwse-resize;\n`\n\nconst PointT = styled(Point)`\n  width: calc(100% - 24px);\n  height: 12px;\n  top: -6px;\n  left: 12px;\n  cursor: ns-resize;\n\n  ::before {\n    width: 16px;\n    height: 4px;\n  }\n`\n\nconst PointB = styled(Point)`\n  width: calc(100% - 24px);\n  height: 12px;\n  bottom: -6px;\n  left: 12px;\n  cursor: ns-resize;\n\n  ::before {\n    width: 16px;\n    height: 4px;\n  }\n`\n\nconst PointL = styled(Point)`\n  width: 12px;\n  height: calc(100% - 24px);\n  top: 12px;\n  left: -6px;\n  cursor: ew-resize;\n\n  ::before {\n    width: 4px;\n    height: 16px;\n  }\n`\n\nconst PointR = styled(Point)`\n  width: 12px;\n  height: calc(100% - 24px);\n  top: 12px;\n  right: -6px;\n  cursor: ew-resize;\n\n  ::before {\n    width: 4px;\n    height: 16px;\n  }\n`\n\nconst RotateIcon = styled.div<{icon: string}>(\n  {\n    position: 'absolute',\n    left: '50%',\n    bottom: '-50px',\n    width: '20px',\n    height: '20px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    transform: 'translate(-50%, -50%)',\n    pointerEvents: 'auto',\n    borderRadius: '50%',\n    boxShadow: '0 0 5px 1px rgb(57 76 96 / 15%), 0 0 0 1px rgb(57 76 96 / 15%)',\n    userSelect: 'none',\n    cursor: 'grab'\n  },\n  props => ({\n    background: `#fff url(${props.icon}) no-repeat center / 18px 18px`\n  })\n)\n\nconst LockIcon = styled.div<{icon: string; rotate: number}>(\n  {\n    position: 'absolute',\n    right: '0',\n    bottom: '0',\n    width: '20px',\n    height: '20px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    pointerEvents: 'auto',\n    borderRadius: '50%',\n    boxShadow: '0 0 5px 1px rgb(57 76 96 / 15%), 0 0 0 1px rgb(57 76 96 / 15%)',\n    userSelect: 'none',\n    zIndex: '1'\n  },\n  props => ({\n    background: `#fff url(${props.icon}) no-repeat center / 13px 13px`,\n    transform: `translate(50%, 50%) rotate(${-props.rotate}deg)`\n  })\n)","import { useContext } from 'react'\nimport styled from '@emotion/styled'\nimport { Layer } from 'types'\nimport { ScaleContext } from 'store/context'\n\nexport default function HoverBorder ({ info }: { info: Layer; }) {\n  const scale = useContext(ScaleContext)\n\n  return <BorderEl \n    style={{\n      width: info.width * scale,\n      height: info.height * scale,\n      transform: `translate(${info.position.x * scale}px, ${info.position.y * scale}px) rotate(${info.rotate}deg)`\n    }}\n  />\n}\n\nconst BorderEl = styled.div`\nposition: absolute;\ntop: 0;\nleft: 0;\npointer-events: none;\n\n&:after {\n  content: '';\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  right: -1px;\n  bottom: -1px;\n  border: 2px solid #00c4cc;\n}\n`","import { MouseEvent as MouseEventType, useContext } from 'react'\nimport { createPortal } from 'react-dom'\nimport styled from '@emotion/styled'\nimport { Layer as LayerType } from 'types'\nimport { ScaleContext, BackgroundContext } from 'store/context'\nimport { MouseEvents } from 'utils/mouseEvent'\nimport { helpLine } from 'utils/helpLine'\nimport Border from './Border'\nimport HoverBorder from './HoverBorder'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { cloneDeep } from 'lodash'\n\n// 图层\nexport default observer(({ children, info }: { children: JSX.Element, info: LayerType }) => {\n  const scale = useContext(ScaleContext)\n  const { template, layers, setLayer, selectLayer, hoverLayer, isMoving, setIsMoving } = templateStore\n\n  // 设置背景选中状态\n  const { setIsSelectedBackground } = useContext(BackgroundContext)\n\n  // 辅助线\n  const { getRect: helpLineRect, init: initHelpLine, move: helpLinePipe } = helpLine()\n\n  // 更新图层位置\n  const updatePosition = ({ diff }: { diff: { x: number; y: number; } }) => {\n    const layer = cloneDeep(info)\n\n    const newPosition = helpLinePipe({\n      x: helpLineRect().x + diff.x / scale,\n      y: helpLineRect().y + diff.y / scale\n    })\n\n    layer.position = newPosition\n\n    setLayer(layer)\n    setIsMoving(true)\n  }\n\n  // 隐藏辅助线\n  const hideLine = () => {\n    const vLineEl = document.querySelector('#verticalLine') as HTMLElement\n    vLineEl.style.visibility = 'hidden'\n    const hLineEl = document.querySelector('#horizontalLine') as HTMLElement\n    hLineEl.style.visibility = 'hidden'\n    setIsMoving(false)\n  }\n\n  // 选中图层\n  const onSelectLayer = (e: MouseEventType<HTMLDivElement>) => {\n    e.stopPropagation()\n    if (info.isEditing) return\n    selectLayer(info.id)\n    setIsSelectedBackground(false)\n    // 锁定了就不给拖动\n    if (info.isLocked) return\n    // 初始化拖拽事件\n    new MouseEvents(e, updatePosition, hideLine)\n    // 初始化辅助线数据\n    initHelpLine({\n      ...info.position,\n      width: info.width,\n      height: info.height,\n      rotate: info.rotate\n    }, info.id, layers, scale, { ...template.global })\n  }\n\n  // 鼠标移入图层\n  const onLayerMouseEnter = (e: MouseEventType<HTMLDivElement>) => {\n    e.stopPropagation()\n    hoverLayer(info.id)\n  }\n\n  // 鼠标移出图层\n  const onLayerMouseOut = (e: MouseEventType<HTMLDivElement>) => {\n    e.stopPropagation()\n    hoverLayer()\n  }\n\n  return <LayerWrapper\n    style={{\n      width: info.width,\n      height: info.height,\n      transform: `translate(${info.position.x}px, ${info.position.y}px) rotate(${info.rotate}deg)`,\n      opacity: info.opacity,\n      zIndex: info.zIndex\n    }}\n    onMouseDown={onSelectLayer}\n    onMouseEnter={onLayerMouseEnter}\n    onMouseOut={onLayerMouseOut}\n    className={[isMoving ? 'moving' : '', info.isEditing ? 'edit' : ''].join(' ')}\n  >\n    {/* 图层内容 */}\n    <LayerContent style={{transform: `scale(${info.reverse?.x || 1}, ${info.reverse?.y || 1})`}}>\n      { children }\n    </LayerContent>\n    {/* 拖拽边框 */}\n    {info.isSelected && <TransportBorder>\n      <Border info={info} />\n    </TransportBorder>}\n    {/* 鼠标移入边框 */}\n    {!info.isSelected && !isMoving && info.isHover && <TransportBorder>\n      <HoverBorder info={info} />\n    </TransportBorder>}\n  </LayerWrapper>\n})\n\n// 传送门\nfunction TransportBorder ({ children }: { children: JSX.Element }) {\n  return createPortal(\n    children,\n    document.querySelector('#layerControl') as HTMLDivElement\n  )\n}\n\nconst LayerWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: auto;\n  user-select: none;\n  cursor: default;\n\n  &.moving {\n    cursor: all-scroll;\n  }\n\n  &.edit {\n    cursor: text;\n  }\n`\n\nconst LayerContent = styled.div`\n  width: 100%;\n  height: 100%;\n  transition: transform 250ms;\n`","import { Layer } from 'types'\n\ninterface Rect {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotate: number;\n}\n\ninterface RealRect extends Omit<Rect, 'rotate'> {}\n\ninterface Size {\n  width: number;\n  height: number;\n}\n\ninterface Coord {\n  x: number;\n  y: number;\n}\n\nexport function helpLine () {\n  // 当前图层位置信息\n  let rect: Rect = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    rotate: 0\n  }\n\n  // 当前图层实际DOM的位置信息\n  let realRect: RealRect = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n  }\n\n  // 当前图层ID\n  let layerId = ''\n  // 所有的图层数据\n  let allLayers: Layer[] = []\n  // 缩放值\n  let scale = 1\n  // 画布尺寸\n  let canvasSize: Size = {\n    width: 0,\n    height: 0\n  }\n  // 吸附距离\n  let diff = 4\n\n  const vLineEl = document.querySelector('#verticalLine') as HTMLElement\n  const hLineEl = document.querySelector('#horizontalLine') as HTMLElement\n  let vType: 0 | 1 | 2 = 0 // 垂直线位置-0左1中2右\n  let hType: 0 | 1 | 2 = 0 // 水平线位置-0上1中2下\n\n  // 初始化数据\n  const init = (data: Rect, id: string, layers: Layer[], scl: number, size: Size) => {\n    rect = data\n    layerId = id\n    allLayers = layers\n    scale = scl\n    diff = 4 / scale\n    canvasSize = size\n\n    // 获取旋转后的真实元素位置信息\n    const rad = rect.rotate * Math.PI / 180\n    const newWidth = Math.abs(rect.width * Math.cos(rad)) + Math.abs(rect.height * Math.sin(rad))\n    const newHeight = Math.abs(rect.height * Math.cos(rad)) + Math.abs(rect.width * Math.sin(rad))\n    realRect.width = newWidth\n    realRect.height = newHeight\n    realRect.x = rect.x + (rect.width - newWidth) / 2\n    realRect.y = rect.y - (newHeight - rect.height) / 2\n  }\n\n  // 移动吸附\n  const move = ({ x, y }: Coord): Coord => {\n    rect.x = x\n    rect.y = y\n\n    const res: Coord = {\n      x: rect.x,\n      y: rect.y\n    }\n\n    // 更新真实元素位置信息\n    realRect.x = rect.x + (rect.width - realRect.width) / 2\n    realRect.y = rect.y - (realRect.height - rect.height) / 2\n\n    // 遍历所有图层，与当前图层两两对比\n    allLayers.forEach(l => {\n      // 获取其他图层真实的元素定位\n      const rad = l.rotate * Math.PI / 180\n      const newWidth = Math.abs(l.width * Math.cos(rad)) + Math.abs(l.height * Math.sin(rad))\n      const newHeight = Math.abs(l.height * Math.cos(rad)) + Math.abs(l.width * Math.sin(rad))\n      const newX = l.position.x + (l.width - newWidth) / 2\n      const newY = l.position.y - (newHeight - l.height) / 2\n\n      if (l.id !== layerId) {\n        // x 垂直线\n        vLineHandle(newX + newWidth, res) // 对象图层右\n        vLineHandle(newX + newWidth / 2, res) // 对象图层中\n        vLineHandle(newX, res) // 对象图层左\n\n        // y 水平线\n        hLineHandle(newY + newHeight, res) // 对象图层下\n        hLineHandle(newY + newHeight / 2, res) // 对象图层中\n        hLineHandle(newY, res) // 对象图层上\n      }\n    })\n\n    // 与画布对齐\n    // x 垂直线\n    vLineHandle(canvasSize.width, res) // 画布右\n    vLineHandle(canvasSize.width / 2, res) // 画布中\n    vLineHandle(0, res) // 画布左\n    // y 水平线\n    hLineHandle(canvasSize.height, res) // 画布下\n    hLineHandle(canvasSize.height / 2, res) // 画布中\n    hLineHandle(0, res) // 画布上\n\n    // 渲染辅助线DOM\n    renderLine(res)\n\n    return res\n  }\n\n  // 垂直线\n  const vLineHandle = (targetX: number, res: Coord) => {\n    // 右\n    if (Math.abs(targetX - (realRect.x + realRect.width)) <= diff) {\n      res.x = targetX - rect.width \n      res.x += (rect.width - realRect.width) / 2\n      vType = 2\n    }\n    // 中\n    if (Math.abs(targetX - (realRect.x + realRect.width / 2)) <= diff) {\n      res.x = targetX - rect.width / 2\n      vType = 1\n    }\n    // 左\n    if (Math.abs(targetX - realRect.x) <= diff) {\n      res.x = targetX\n      res.x -= (rect.width - realRect.width) / 2\n      vType = 0\n    }\n  }\n\n  // 水平线\n  const hLineHandle = (targetY: number, res: Coord) => {\n    // 下\n    if (Math.abs(targetY - (realRect.y + realRect.height)) <= diff) {\n      res.y = targetY - rect.height\n      res.y -= (realRect.height - rect.height) / 2\n      hType = 2\n    }\n    // 中\n    if (Math.abs(targetY - (realRect.y + realRect.height / 2)) <= diff) {\n      res.y = targetY - rect.height / 2\n      hType = 1\n    }\n    // 上\n    if (Math.abs(targetY - realRect.y) <= diff) {\n      res.y = targetY\n      res.y += (realRect.height - rect.height) / 2\n      hType = 0\n    }\n  }\n\n  // 渲染辅助线DOM\n  const renderLine = (res: Coord) => {\n    if (vLineEl && hLineEl) {\n      // TODO: 当前位置刚好在线上，条件不满足\n      if (res.x !== rect.x) {\n        let vLine = 0\n        if (vType === 0) vLine = res.x + (rect.width - realRect.width) / 2\n        if (vType === 1) vLine = res.x + rect.width / 2\n        if (vType === 2) vLine = res.x + (rect.width - realRect.width) / 2 + realRect.width\n        vLineEl.style.transform = `translateX(${vLine * scale}px)`\n        vLineEl.style.visibility = 'visible'\n      } else {\n        vLineEl.style.visibility = 'hidden'\n      }\n      if (res.y !== rect.y) {\n        let hLine = 0\n        if (hType === 0) hLine = res.y - (realRect.height - rect.height) / 2\n        if (hType === 1) hLine = res.y + rect.height / 2\n        if (hType === 2) hLine = res.y - (realRect.height - rect.height) / 2 + realRect.height\n        hLineEl.style.transform = `translateY(${hLine * scale}px)`\n        hLineEl.style.visibility = 'visible'\n      } else {\n        hLineEl.style.visibility = 'hidden'\n      }\n    }\n  }\n\n  const getRect = () => {\n    return rect\n  }\n\n  return {\n    getRect,\n    init,\n    move\n  }\n}","import 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport Quill from 'quill'\nimport { observer } from 'mobx-react'\nimport styled from '@emotion/styled'\nimport { FontStyle } from 'types'\nimport { Layer } from 'types'\nimport { useCallback, useEffect, useRef, useState, useContext } from 'react'\nimport { templateStore } from 'store/template'\nimport { cloneDeep } from 'lodash'\nimport { ScaleContext } from 'store/context'\n\nexport default observer(({ layer }: { layer: Layer }) => {\n  const editorRef = useRef<HTMLDivElement>(null)\n\n  const { setEditStatus, setLayer, needUpdateLayerHeight, setNeedUpdateLayerHeight, isMoving } = templateStore\n  const scale = useContext(ScaleContext)\n\n  // quill实例\n  let [editor, setEditor] = useState<Quill | null>(null)\n\n  // 画布的DOM信息\n  const canvasRect = (document.querySelector('#textControl') as HTMLElement)?.getBoundingClientRect()\n\n  // 文本内容变化\n  const onTextChange = useCallback(() => {\n    if (editor) {\n      const _layer = cloneDeep(layer)\n      const text = editor.getText()\n      _layer.source.content = text\n\n      if (editorRef.current) {\n        // 文本换行了，更新图层最新高度和位置\n        const rect = editorRef.current.getBoundingClientRect()\n        const rad = (layer.rotate % 180) * Math.PI / 180\n        const newHeight = Math.abs((rect.height - layer.width * scale * Math.sin(rad)) / Math.cos(rad))\n\n        // 高度不一致表示换行/减行\n        if (newHeight / scale !== layer.height) {\n          _layer.height = newHeight / scale\n\n          const center = {\n            x: rect.left + rect.width / 2 - canvasRect.left,\n            y: rect.top + rect.height / 2 - canvasRect.top\n          }\n          const newX = center.x / scale - (layer.width / 2)\n          const newY = (center.y - (newHeight / 2)) / scale\n\n          _layer.position = {\n            x: newX,\n            y: newY\n          }\n        }\n      }\n      setLayer(_layer)\n    }\n  }, [editor, layer, setLayer, scale, canvasRect])\n\n  // 字体大小改变了，高度也要更新\n  useEffect(() => {\n    if (needUpdateLayerHeight && editorRef.current) {\n      const _layer = cloneDeep(layer)\n      const rect = editorRef.current.getBoundingClientRect()\n      const rad = (layer.rotate % 180) * Math.PI / 180\n      const newHeight = Math.abs((rect.height - layer.width * scale * Math.sin(rad)) / Math.cos(rad))\n\n      // 高度不一致表示换行/减行\n      if (newHeight / scale !== layer.height) {\n        _layer.height = newHeight / scale\n\n        const center = {\n          x: rect.left + rect.width / 2 - canvasRect.left,\n          y: rect.top + rect.height / 2 - canvasRect.top\n        }\n        const newX = center.x / scale - (layer.width / 2)\n        const newY = (center.y - (newHeight / 2)) / scale\n\n        _layer.position = {\n          x: newX,\n          y: newY\n        }\n        setLayer(_layer)\n      }\n      setNeedUpdateLayerHeight(false)\n    }\n  }, [canvasRect, layer, needUpdateLayerHeight, scale, setLayer, setNeedUpdateLayerHeight])\n\n  // 拖拽改变文本框宽度时，更新图层最新高度\n  // TODO: 位置会偏移\n  useEffect(() => {\n    // isMoving表示拖拽\n    if (isMoving && editorRef.current) {\n      const rect = editorRef.current.getBoundingClientRect()\n      const rad = (layer.rotate % 180) * Math.PI / 180\n      const newHeight = Math.abs((rect.height - layer.width * scale * Math.sin(rad)) / Math.cos(rad))\n\n      // 高度不一致表示换行/减行\n      if (Math.abs(newHeight / scale - layer.height) > 1) {\n        const _layer = cloneDeep(layer)\n        _layer.height = newHeight / scale\n        setLayer(_layer)\n      }\n    }\n  }, [layer, scale, isMoving, canvasRect, setLayer])\n\n  // 进入编辑状态\n  const onEditText = () => {\n    setEditStatus(layer.id)\n  }\n\n  // 初始化quill实例\n  useEffect(() => {\n    if (editorRef.current && !editor) {\n      const instance = new Quill(editorRef.current)\n      setEditor(instance)\n    }\n  }, [editor])\n\n  // 设置文本内容\n  useEffect(() => {\n    if (editor && layer.source.content && editor.getText() !== layer.source.content) {\n      editor.setText(layer.source.content)\n    }\n  }, [editor, layer.source.content])\n\n  // 设置编辑状态\n  useEffect(() => {\n    if (editor) {\n      editor.enable(layer.isEditing)\n      layer.isEditing && editor.setSelection(0, 1000)\n    }\n  }, [editor, layer.isEditing])\n\n  useEffect(() => {\n    if (editor) {\n      editor.on('text-change', onTextChange)\n    }\n    return () => {\n      editor?.off('text-change', onTextChange)\n    }\n  }, [editor, onTextChange])\n\n  return <TextWrapper\n    style={{\n      transform: `scale(${layer.scale})`,\n      width: `${layer.width / (layer.scale || 1)}px`,\n      height: `${layer.height / (layer.scale || 1)}px`\n    }}\n  >\n    <Text\n      data={layer.style as FontStyle}\n      onDoubleClick={onEditText}\n    >\n      <Editor ref={editorRef} spellCheck=\"false\" />\n    </Text>\n  </TextWrapper>\n})\n\nconst TextWrapper = styled.div`\n  transform-origin: 0 0;\n`\n\nconst Text = styled.div<{data: FontStyle}>(\n  {},\n  props => ({\n    fontFamily: `\"${props.data.font}\"`,\n    fontSize: props.data.fontSize,\n    color: props.data.color,\n    lineHeight: props.data.lineHeight,\n    textAlign: props.data.textAlign,\n    fontWeight: props.data.fontWeight,\n    textDecorationLine: props.data.underline ? 'underline' : 'none'\n  })\n)\n\nconst Editor = styled.div`\n  font-family: inherit;\n  font-size: inherit;\n\n  .ql-editor {\n    padding: 0;\n    overflow: visible;\n    font-family: inherit;\n    line-height: inherit;\n    text-align: inherit;\n    white-space: break-spaces;\n    /* user-select: text; */\n    line-break: anywhere;\n\n    &>* {\n      cursor: inherit;\n    }\n  }\n`","import { observer } from 'mobx-react'\nimport styled from '@emotion/styled'\nimport { Layer } from 'types'\nimport { templateStore } from 'store/template'\nimport { MouseEvent } from 'react'\n\nexport default observer(({ layer }: { layer: Layer }) => {\n  const { setEditStatus } = templateStore\n\n  const onClipImage = (e: MouseEvent) => {\n    e.stopPropagation()\n    setEditStatus(layer.id)\n\n  }\n\n  return (\n    <ImgWrapper onDoubleClick={onClipImage}>\n      <div style={{\n        position: 'absolute',\n        width: `${layer.clip?.width}px`,\n        height: `${layer.clip?.height}px`,\n        transform: `translate(-${layer.clip?.left}px, -${layer.clip?.top}px)`\n      }}>\n        <Img src={layer.source.imageUrl} draggable=\"false\" />\n      </div>\n    </ImgWrapper>\n  )\n})\n\nconst ImgWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`\n\nconst Img = styled.img`\n  width: 100%;\n  height: 100%;\n`","export default __webpack_public_path__ + \"static/media/resize.771f2b8f.svg\";","import { observer } from 'mobx-react'\nimport styled from '@emotion/styled'\nimport { Layer, POINT_TYPE, Coords } from 'types'\nimport { templateStore } from 'store/template'\nimport { ScaleContext } from 'store/context'\nimport { MouseEvent, useContext, useEffect, useState } from 'react'\nimport { MouseEvents } from 'utils/mouseEvent'\nimport { normalResize, rotateResize } from 'utils/resizeLayer'\nimport resizeIcon from 'assets/resize.svg'\nimport { cloneDeep } from 'lodash'\nimport { CheckOutlined, CloseOutlined } from '@ant-design/icons'\nimport { createPortal } from 'react-dom'\n\nlet preLayer: Partial<Layer> = {}\n\nexport default observer(({ info }: { info: Layer }) => {\n  const { template, setLayer, resetEditStatus } = templateStore\n  const scale = useContext(ScaleContext)\n\n  const [layer, setLayerInfo] = useState(info)\n\n  const confirm = (e: MouseEvent) => {\n    e.stopPropagation()\n    setLayer(layer)\n    resetEditStatus()\n  }\n\n  const cancel = (e: MouseEvent) => {\n    e.stopPropagation()\n    resetEditStatus()\n  }\n\n  const onMaskClick = (e: MouseEvent) => {\n    e.stopPropagation()\n    if ((e.target as HTMLElement).id === 'clipImageMask') {\n      confirm(e)\n    }\n  }\n\n  useEffect(() => {\n    setLayerInfo(info)\n  }, [info])\n\n  const clipHandle = (newLayer: Layer, point: POINT_TYPE) => {\n    const handleTop = () => {\n      if (newLayer.clip) {\n        const clipTop = newLayer.clip.height - newLayer.height - newLayer.clip.bottom\n        if (clipTop >= 0) {\n          newLayer.clip.top = clipTop\n          newLayer.clip.pre.top = clipTop\n        } else {\n          newLayer.height = preLayer.height as number\n          newLayer.position.y = preLayer.position?.y as number\n        }\n      }\n    }\n    const handleLeft = () => {\n      if (newLayer.clip) {\n        const clipLeft = newLayer.clip.width - newLayer.width - newLayer.clip.right\n        if (clipLeft >= 0) {\n          newLayer.clip.left = clipLeft\n          newLayer.clip.pre.left = clipLeft\n        } else {\n          newLayer.width = preLayer.width  as number\n          newLayer.position.x = preLayer.position?.x  as number\n        }\n      }\n    }\n    const handleRight = () => {\n      if (newLayer.clip) {\n        const clipRight = newLayer.clip.width - newLayer.width - newLayer.clip.left\n        if (clipRight >= 0) {\n          newLayer.clip.right = clipRight\n          newLayer.clip.pre.right = clipRight\n        } else {\n          newLayer.width = newLayer.clip.width - newLayer.clip.left\n        }\n      }\n    }\n    const handleBottom = () => {\n      if (newLayer.clip) {\n        const clipBottom = newLayer.clip.height - newLayer.height - newLayer.clip.top\n        if (clipBottom >= 0) {\n          newLayer.clip.bottom = clipBottom\n          newLayer.clip.pre.bottom = clipBottom\n        } else {\n          newLayer.height = newLayer.clip.height - newLayer.clip.top\n        }\n      }\n    }\n    if (newLayer.clip) {\n      switch (point) {\n        case POINT_TYPE.BR: {\n          handleBottom()\n          handleRight()\n          break\n        }\n        case POINT_TYPE.BL: {\n          handleBottom()\n          handleLeft()\n          break\n        }\n        case POINT_TYPE.TL: {\n          handleTop()\n          handleLeft()\n          break\n        }\n        case POINT_TYPE.TR: {\n          handleTop()\n          handleRight()\n          break\n        }\n      }\n    }\n    return newLayer\n  }\n\n  // 调整大小 无旋转\n  const resizeNormal = (e: MouseEvent<HTMLElement>, point: POINT_TYPE) => {\n    const _layer = cloneDeep(layer)\n    new MouseEvents(e, (payload) => {\n      preLayer = cloneDeep(_layer)\n\n      // 普通拖拽框大小\n      const newLayer = normalResize(_layer, point, payload.diff, scale, false)\n      const res = clipHandle(newLayer, point)\n\n      setLayerInfo(Object.assign({}, res))\n    }, () => {\n\n    })\n  }\n\n  // 调整大小 有旋转\n  // TODO: 拖拽优化\n  const resizeWithRotate = (e: MouseEvent<HTMLElement>, point: POINT_TYPE) => {\n    const _layer = cloneDeep(layer)\n\n    // 图层相对于画布左上角的中心点\n    const center = {\n      x: (_layer.position.x + _layer.width / 2) * scale,\n      y: (_layer.position.y + _layer.height / 2) * scale\n    }\n\n    // 获取边框圆点中心点\n    const pointRect = (e.target as HTMLElement)?.getBoundingClientRect()\n    const canvasRect = (document.querySelector('#layerControl') as HTMLElement)?.getBoundingClientRect()\n    const pointCenter = {\n      x: pointRect.left - Number(canvasRect.left) + pointRect.width / 2,\n      y: pointRect.top - Number(canvasRect.top) + pointRect.height / 2\n    }\n\n    // 获取对称点\n    const symmetricPoint = {\n      x: center.x - (pointCenter.x - center.x),\n      y: center.y - (pointCenter.y - center.y)\n    }\n\n    const whRatio = _layer.width / _layer.height\n\n    new MouseEvents(e, ({ curCoords }: { curCoords: Coords; }) => {\n      const curPoint = {\n        x: curCoords.x - Number(canvasRect.left),\n        y: curCoords.y - Number(canvasRect.top)\n      }\n\n      preLayer = cloneDeep(layer)\n\n      // 处理旋转的拖拽\n      const newLayer = rotateResize(point, curPoint, symmetricPoint, pointCenter, _layer, layer, whRatio, scale, false)\n\n      const res = clipHandle(newLayer, point)\n\n      setLayerInfo(Object.assign({}, res))\n    }, () => {\n\n    })\n  }\n\n  // 调整大小\n  const resize = (e: MouseEvent<HTMLElement>, point: POINT_TYPE) => {\n    e.stopPropagation()\n    if (info.rotate === 0) {\n      resizeNormal(e, point)\n    } else {\n      resizeWithRotate(e, point)\n    }\n  }\n\n  // 拖拽图片位置\n  // TODO: 旋转后拖拽优化\n  const onDragImage = (e: MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation()\n    // 初始化拖拽事件\n    new MouseEvents(e, ({ diff }: { diff: Coords }) => {\n      const { clip } = layer\n      if (clip) {\n        const newTop = clip.top - diff.y / scale * (layer.reverse?.y || 1)\n        const newLeft = clip.left - diff.x / scale * (layer.reverse?.x || 1)\n        const newRight = clip.right + diff.x / scale * (layer.reverse?.x || 1)\n        const newBottom = clip.bottom + diff.y / scale * (layer.reverse?.y || 1)\n\n        if (newTop >= 0 && newBottom >= 0) {\n          clip.top = newTop\n          clip.bottom = newBottom\n          clip.pre.top = newTop\n          clip.pre.bottom = newBottom\n          setLayerInfo(Object.assign({}, layer))\n        }\n        if (newRight >= 0 && newLeft >= 0) {\n          clip.left = newLeft\n          clip.right = newRight\n          clip.pre.left = newLeft\n          clip.pre.right = newRight\n          setLayerInfo(Object.assign({}, layer))\n        }\n      }\n    })\n  }\n\n  return (\n    <>\n      <Mask id=\"clipImageMask\" onMouseDown={onMaskClick}>\n        <Wrapper style={{\n          width: template.global.width * scale,\n          height: template.global.height * scale\n        }}>\n          <CanvasContent style={{\n            width: template.global.width,\n            height: template.global.height,\n            transform: `scale(${scale})`\n          }}>\n            {/* 裁剪效果层 */}\n            <LayerWrapper style={{\n              width: layer.width,\n              height: layer.height,\n              transform: `translate(${layer.position.x}px, ${layer.position.y}px) rotate(${layer.rotate}deg) scale(${layer.reverse?.x || 1}, ${layer.reverse?.y || 1})`\n            }}>\n              <ImgWrapper>\n                <div style={{\n                  position: 'absolute',\n                  width: `${layer.clip?.width}px`,\n                  height: `${layer.clip?.height}px`,\n                  transform: `translate(-${layer.clip?.left}px, -${layer.clip?.top}px)`\n                }}>\n                  <Img src={layer.source.imageUrl} draggable=\"false\" />\n                </div>\n              </ImgWrapper>\n            </LayerWrapper>\n          </CanvasContent>\n          {/* 编辑层 */}\n          <LayerControl style={{\n            width: template.global.width * scale,\n            height: template.global.height * scale\n          }}>\n            {/* 裁剪边框 */}\n            <BorderEl \n              className={layer.reverse?.x === -1 || layer.reverse?.y === -1 ? 'hidden' : ''}\n              style={{\n                width: layer.width * scale,\n                height: layer.height * scale,\n                transform: `translate(${layer.position.x * scale}px, ${layer.position.y * scale}px) rotate(${layer.rotate}deg)`\n              }}>\n              {(layer.reverse?.x !== -1 && layer.reverse?.y !== -1) && <>\n                  <AngleTL onMouseDown={e => resize(e, POINT_TYPE.TL)}><img src={resizeIcon} alt=\"\" /></AngleTL>\n                  <AngleTR onMouseDown={e => resize(e, POINT_TYPE.TR)}><img src={resizeIcon} alt=\"\" /></AngleTR>\n                  <AngleBL onMouseDown={e => resize(e, POINT_TYPE.BL)}><img src={resizeIcon} alt=\"\" /></AngleBL>\n                  <AngleBR onMouseDown={e => resize(e, POINT_TYPE.BR)}><img src={resizeIcon} alt=\"\" /></AngleBR>\n                </>\n              }\n              <Line1 /><Line2 /><Line3 /><Line4 />\n            </BorderEl>\n\n            {/* 背景拖动层 */}\n            <LayerWrapper\n              style={{\n                width: layer.width * scale,\n                height: layer.height * scale,\n                transform: `translate(${layer.position.x * scale}px, ${layer.position.y * scale}px) rotate(${layer.rotate}deg) scale(${layer.reverse?.x || 1}, ${layer.reverse?.y || 1})`\n              }}\n              onMouseDown={onDragImage}\n            >\n              <ImgWrapper style={{ overflow: 'visible' }}>\n                <div style={{\n                  position: 'absolute',\n                  width: `${layer.clip && layer.clip.width * scale}px`,\n                  height: `${layer.clip && layer.clip.height * scale}px`,\n                  transform: `translate(-${layer.clip && layer.clip.left * scale}px, -${layer.clip && layer.clip.top * scale}px)`,\n                  border: '2px dashed #00c4cc',\n                  cursor: 'move'\n                }}>\n                  <Img src={layer.source.imageUrl} draggable=\"false\" style={{ opacity: 0.5 }} />\n                </div>\n              </ImgWrapper>\n            </LayerWrapper>\n          </LayerControl>\n        </Wrapper>\n      </Mask>\n      {/* 传送工具栏 */}\n      <TransportToolBar>\n        <ToolBar>\n          <ToolItem onMouseDown={confirm}><CheckOutlined />完成</ToolItem>\n          <ToolItem onMouseDown={cancel}><CloseOutlined />取消</ToolItem>\n        </ToolBar>\n      </TransportToolBar>\n    </>\n  )\n})\n\n// 传送门\nfunction TransportToolBar ({ children }: { children: JSX.Element }) {\n  return createPortal(\n    children,\n    document.querySelector('#toolBar') as HTMLDivElement\n  )\n}\n\nconst Mask = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0,0,0,.3);\n`\n\nconst Wrapper = styled.div`\n  flex: none;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  pointer-events: none;\n`\n\nconst CanvasContent = styled.div`\n  flex: none;\n  position: relative;\n  overflow: visible;\n  background-color: transparent;\n  user-select: none;\n  pointer-events: none;\n`\n\nconst LayerWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: auto;\n  user-select: none;\n  cursor: default;\n\n  &.moving {\n    cursor: all-scroll;\n  }\n`\n\nconst ImgWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`\n\nconst Img = styled.img`\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n`\n\nconst LayerControl = styled(CanvasContent)`\n position: absolute;\n top: 0;\n left: 0;\n`\n\nconst BorderEl = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  z-index: 1;\n\n  &.hidden {\n    &:after {\n      opacity: 0;\n    }\n  }\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n    border: 2px solid #00c4cc;\n  }\n`\n\nconst Line = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 100%;\n  background-color: #fff;\n`\n\nconst Line1 = styled(Line)`\n  left: 33%;\n  transform: scaleX(.7);\n`\n\nconst Line2 = styled(Line)`\n  left: 66%;\n  transform: scaleX(.7);\n`\n\nconst Line3 = styled(Line)`\n  top: 33%;\n  width: 100%;\n  height: 1px;\n  transform: scaleY(.7);\n`\n\nconst Line4 = styled(Line)`\n  top: 66%;\n  width: 100%;\n  height: 1px;\n  transform: scaleY(.7);\n`\n\nconst ResizeAngle = styled.span`\n  position: absolute;\n  display: block;\n  background: transparent;\n  z-index: 1;\n  pointer-events: auto;\n  width: 22px;\n  height: 22px;\n  user-select: none;\n\n  img {\n    width: 14px;\n    height: 14px;\n    pointer-events: none;\n  }\n`\n\nconst AngleTL = styled(ResizeAngle)`\n  top: -11px;\n  left: -11px;\n  transform: rotate(180deg);\n  cursor: nwse-resize;\n`\n\nconst AngleTR = styled(ResizeAngle)`\n  top: -11px;\n  right: -11px;\n  transform: rotate(-90deg);\n  cursor: nesw-resize;\n`\n\nconst AngleBL = styled(ResizeAngle)`\n  left: -11px;\n  bottom: -11px;\n  transform: rotate(90deg);\n  cursor: nesw-resize;\n`\n\nconst AngleBR = styled(ResizeAngle)`\n  bottom: -11px;\n  right: -11px;\n  cursor: nwse-resize;\n`\n\nconst ToolBar = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  padding-left: 10px;\n  z-index: 1;\n  background-color: #fff;\n`\n\nconst ToolItem = styled.div`\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  padding: 4px 10px;\n  font-size: 16px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &:hover {\n    background-color: rgba(64,87,109,.07);\n  }\n\n  span {\n    margin-right: 8px;\n  }\n`","import { observer } from 'mobx-react'\nimport styled from '@emotion/styled'\nimport { Layer } from 'types'\n\nexport default observer(({ layer }: { layer: Layer }) => {\n  return <Rect style={{\n    borderWidth: layer.rectInfo?.borderWidth,\n    borderColor: layer.rectInfo?.borderColor,\n    borderStyle: layer.rectInfo?.borderStyle,\n    backgroundColor: layer.rectInfo?.fill\n  }}/>\n})\n\nconst Rect = styled.div`\n  width: 100%;\n  height: 100%;\n  border-style: solid;\n`\n","import { observer } from 'mobx-react'\nimport styled from '@emotion/styled'\nimport { Layer } from 'types'\n\nexport default observer(({ layer }: { layer: Layer }) => {\n  return <Circle style={{\n    borderWidth: layer.circleInfo?.borderWidth,\n    borderColor: layer.circleInfo?.borderColor,\n    borderStyle: layer.circleInfo?.borderStyle,\n    backgroundColor: layer.circleInfo?.fill\n  }}/>\n})\n\nconst Circle = styled.div`\n  width: 100%;\n  height: 100%;\n  border-style: solid;\n  border-radius: 50%;\n`\n","import React, { useContext, MouseEvent, DragEvent } from 'react'\nimport styled from '@emotion/styled'\nimport { ScaleContext, BackgroundContext } from 'store/context'\nimport Layer from './layer/Layer'\nimport { LAYER_TYPE } from 'types'\nimport { ImageItem } from 'types/image'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { toJS } from 'mobx'\nimport TextEditor from './layer/TextEditor'\nimport ImageLayer from './layer/Image'\nimport ClipImage from './ClipImage'\nimport Rect from './layer/shapes/Rect'\nimport Circle from './layer/shapes/Circle'\nimport { createPortal } from 'react-dom'\nimport { createImage, createRect, createCircle } from 'utils/createNewLayer'\n\ninterface Props {\n  width: number;\n  height: number;\n  scale: number;\n}\n\n// 拖拽图片时鼠标的位置\nconst dragCursorPosition = {\n  x: 0,\n  y: 0\n}\n\n// 画布\nexport default observer(() => {\n  const { template, layers, addLayer, resetSelectStatus, setLayerType } = templateStore\n  const { global, background } = template\n\n  const scale = useContext(ScaleContext)\n  const {isSelectedBackground, setIsSelectedBackground} = useContext<{\n    isSelectedBackground: boolean;\n    setIsSelectedBackground: React.Dispatch<React.SetStateAction<boolean>>\n  }>(BackgroundContext)\n\n  // 选中背景\n  const selectBackground = (e: MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation()\n    setIsSelectedBackground(true)\n    resetSelectStatus()\n    setLayerType(LAYER_TYPE.BACKGROUND)\n  }\n\n  // 拖拽释放\n  const onDropCapture = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    const getPosition = (width: number, height: number) => {\n      const canvasRect = (document.querySelector('#layerControl') as HTMLElement)?.getBoundingClientRect()\n      const x = dragCursorPosition.x - canvasRect.left\n      const y = dragCursorPosition.y - canvasRect.top\n      return {\n        x: x / scale - width / 2,\n        y: y / scale - height / 2\n      }\n    }\n    // 使用图片\n    const onUseImage = (width: number, height: number, url: string) => {\n      const position = getPosition(width, height)\n      const zIndex = layers.length ? layers[layers.length - 1].zIndex + 1 : 1\n      const newLayer = createImage(width, height, url, position, zIndex)\n      resetSelectStatus()\n      addLayer(newLayer)\n    }\n    // 使用矩形\n    const onUseRect = () => {\n      const size = {\n        width: 200,\n        height: 200\n      }\n      const position = getPosition(size.width, size.height)\n      const zIndex = layers.length ? layers[layers.length - 1].zIndex + 1 : 1\n      const newLayer = createRect(size.width, size.height, position, zIndex)\n      resetSelectStatus()\n      addLayer(newLayer)\n    }\n    // 使用圆形\n    const onUseCircle = () => {\n      const size = {\n        width: 200,\n        height: 200\n      }\n      const position = getPosition(size.width, size.height)\n      const zIndex = layers.length ? layers[layers.length - 1].zIndex + 1 : 1\n      const newLayer = createCircle(size.width, size.height, position, zIndex)\n      resetSelectStatus()\n      addLayer(newLayer)\n    }\n\n    // 本地图片拖拽\n    if (e.dataTransfer.files.length > 0) {\n      const files = e.dataTransfer.files\n      if (!/image\\//.test(files[0].type)) return\n      const reader = new FileReader()\n      reader.readAsDataURL(files[0])\n      reader.onload = el => {\n        const url = el.target?.result\n        if (typeof url === 'string') {\n          const img = new Image()\n          img.src = url\n          img.onload = () => {\n            onUseImage(img.width, img.height, url)\n          }\n        }\n      }\n    } else {\n      // 侧边栏图片\n      let image: ImageItem | null = null\n      if (e.dataTransfer?.getData('image')) {\n        try {\n          image = JSON.parse(e.dataTransfer?.getData('image'))\n        } catch (e) { console.log(e) }\n      }\n      // 使用图片\n      if (image) {\n        onUseImage(image.webformatWidth, image.webformatHeight, image.webformatURL)\n      }\n      // 使用矩形\n      const isRect = !!e.dataTransfer?.getData('rect')\n      if (isRect) {\n        onUseRect()\n      }\n      // 使用圆形\n      const isCircle = !!e.dataTransfer?.getData('circle')\n      if (isCircle) {\n        onUseCircle()\n      }\n    }\n  }\n\n  const onDragOver = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    dragCursorPosition.x = e.pageX\n    dragCursorPosition.y = e.pageY\n  }\n\n  return <Wrapper width={global.width} height={global.height} scale={scale}>\n    <CanvasContent\n      id=\"canvasContent\"\n      style={{ width: global.width, height: global.height, transform: `scale(${scale})` }}\n      onDrop={onDropCapture} onDragOver={onDragOver}>\n      <Background color={background.color} onClick={selectBackground} />\n      {\n        template.layers.map(layer => {\n          // 图片\n          if (layer.type === 'image') {\n            return layer.isEditing ?\n            <TransportImage key={layer.id}>\n              <ClipImage info={toJS(layer)} />\n            </TransportImage>\n            :\n            <Layer key={layer.id} info={layer}>\n              <ImageLayer layer={toJS(layer)} />\n            </Layer>\n          }\n          // 文字\n          if (layer.type === 'text') {\n            return layer.isEditing ?\n            <TransportEditor key={layer.id}>\n              <Layer info={layer}>\n                <TextEditor layer={toJS(layer)} />\n              </Layer>\n            </TransportEditor>\n            :\n            <Layer key={layer.id} info={layer}>\n              <TextEditor layer={toJS(layer)} />\n            </Layer>\n          }\n          // 矩形\n          if (layer.type === 'rect') {\n            return <Layer key={layer.id} info={layer}>\n              <Rect layer={toJS(layer)} />\n            </Layer>\n          }\n          // 圆形\n          if (layer.type === 'circle') {\n            return <Layer key={layer.id} info={layer}>\n              <Circle layer={toJS(layer)} />\n            </Layer>\n          }\n          return <></>\n        })\n      }\n    </CanvasContent>\n    {/* 编辑框传送点 */}\n    <LayerControl id=\"layerControl\" width={global.width} height={global.height} scale={scale}>\n        {isSelectedBackground && <BackgroundBorder />}\n        {/* 垂直辅助线 */}\n        <VLine id=\"verticalLine\" />\n        {/* 水平辅助线 */}\n        <HLine id=\"horizontalLine\" />\n    </LayerControl>\n    {/* 点前编辑的文本传送点 */}\n    <TextControl id=\"textControl\" style={{ width: global.width, height: global.height, transform: `scale(${scale})` }} />\n  </Wrapper>\n})\n\n// 文字传送门\nfunction TransportEditor ({ children }: { children: JSX.Element }) {\n  return createPortal(\n    children,\n    document.querySelector('#textControl') as HTMLDivElement\n  )\n}\n\n// 图片传送门\nfunction TransportImage ({ children }: { children: JSX.Element }) {\n  return createPortal(\n    children,\n    document.querySelector('#editorContainer') as HTMLDivElement\n  )\n}\n\nconst Background = styled.div<{ color: string; }>(\n  {\n    position: 'relative',\n    zIndex: -1,\n    width: '100%',\n    height: '100%'\n  },\n  props => ({\n    backgroundColor: props.color\n  })\n)\n\nconst Wrapper = styled.div<Props>(\n  {\n    flex: 'none',\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    margin: 'auto',\n    pointerEvents: 'none'\n  },\n  props => ({\n    width: props.width * props.scale + 100,\n    height: props.height * props.scale + 100\n  })\n)\n\nconst CanvasContent = styled.div`\n  flex: none;\n  position: relative;\n  overflow: hidden;\n  background-color: #fff;\n  user-select: none;\n  pointer-events: auto;\n`\n\nconst TextControl = styled(CanvasContent)`\n  position: absolute;\n  top: 50;\n  left: 50;\n  z-index: 1;\n  pointer-events: none;\n  overflow: visible;\n  background-color: transparent;\n`\n\nconst LayerControl = styled.div<Props>(\n  {\n    position: 'absolute',\n    top: 50,\n    left: 50,\n    zIndex: 2,\n    pointerEvents: 'none'\n  },\n  props => ({\n    width: props.width * props.scale,\n    height: props.height * props.scale\n  })\n)\n\nconst BackgroundBorder = styled.div`\n  position: absolute;\n  top: -1px;\n  left: -1px;\n  right: -1px;\n  bottom: -1px;\n  border: 2px solid #00c4cc;\n  background: transparent;\n  pointer-events: none;\n`\n\nconst VLine = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  border-left: 1px dashed #c228ff;\n  visibility: hidden;\n  z-index: 2;\n`\n\nconst HLine = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 0;\n  border-top: 1px dashed #c228ff;\n  visibility: hidden;\n  z-index: 2;\n`","import styled from '@emotion/styled'\n\nexport const ToolItem = styled.div`\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  padding: 4px;\n  border-radius: 4px;\n  cursor: pointer;\n\n  &.active {\n    background-color: rgba(57,76,96,.15);\n  }\n\n  &:hover {\n    background-color: rgba(64,87,109,.07);\n  }\n\n  .text {\n    padding: 0 10px;\n    font-size: 16px;\n  }\n\n  input[type=\"search\"] {\n    text-align: center;\n  }\n`\n\nexport const ColorItem = styled.div`\n  width: 28px;\n  height: 28px;\n  border: 2px solid #666;\n  border-radius: 4px;\n`","\n// 预设字体列表\nexport const FONT_LIST: Array<{\n  name: string;\n  value: string\n}> = [\n  {\n    name: '宋体',\n    value: 'SimSun'\n  },\n  {\n    name: '黑体',\n    value: 'SimHei'\n  },\n  {\n    name: '微软雅黑',\n    value: 'Microsoft Yahei'\n  },\n  {\n    name: '楷体',\n    value: 'KaiTi'\n  },\n  {\n    name: '华文楷体',\n    value: 'STKaiti'\n  },\n  {\n    name: '翩翩体-简',\n    value: 'Hanzipen SC'\n  },\n  {\n    name: '娃娃体-简',\n    value: 'Wawati SC'\n  },\n  {\n    name: '圆体-简',\n    value: 'Yuanti SC'\n  },\n  {\n    name: '兰亭黑-简',\n    value: 'Lantinghei SC'\n  }\n]\n\n// 字体大小\nexport const FONTSIZE_LIST = [6,8,10,12,14,16,18,20,22,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144]\n\nexport const CANVAS_SIZE_LIST = [\n  {\n    width: 1280,\n    height: 720,\n    label: '1280px × 720px',\n    value: '1'\n  },\n  {\n    width: 720,\n    height: 1280,\n    label: '720px × 1280px',\n    value: '2'\n  },\n  {\n    width: 1024,\n    height: 768,\n    label: '1024px × 768px',\n    value: '3'\n  },\n  {\n    width: 768,\n    height: 1024,\n    label: '768px × 1024px',\n    value: '4'\n  },\n  {\n    width: 1920,\n    height: 1080,\n    label: '1920px × 1080px',\n    value: '5'\n  },\n]","import { ToolItem } from './style'\nimport { Popover, Radio, Space, InputNumber, RadioChangeEvent } from 'antd'\nimport { isNumber } from 'lodash'\nimport { templateStore } from 'store/template'\nimport { useState, useEffect } from 'react'\nimport { CANVAS_SIZE_LIST } from 'utils/const'\nimport { observer } from 'mobx-react'\n\n// 画布尺寸\nexport default observer(() => {\n  const { template, setCanvasSize } = templateStore\n\n  const canvasWidth = template.global.width\n  const canvasHeight = template.global.height\n\n  const [selectValue, setSelectValue] = useState('1')\n\n  useEffect(() => {\n    const res = CANVAS_SIZE_LIST.find(i => i.width === canvasWidth && i.height === canvasHeight && i.value !== selectValue)\n    if (res) {\n      setSelectValue(res.value)\n    } else if (selectValue !== '6') {\n      setSelectValue('6')\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // 画布宽度修改\n  const onChangeWidth = (val: number) => {\n    if (isNumber(val) && val > 0) {\n      setCanvasSize({\n        width: val,\n        height: canvasHeight\n      })\n    }\n  }\n\n  // 画布高度修改\n  const onChangeHeight = (val: number) => {\n    if (isNumber(val) && val > 0) {\n      setCanvasSize({\n        width: canvasWidth,\n        height: val\n      })\n    }\n  }\n\n  // 选择画布尺寸\n  const onCanvasSizeChange = (e: RadioChangeEvent) => {\n    setSelectValue(e.target.value)\n    const res = CANVAS_SIZE_LIST.find(i => i.value === e.target.value)\n    if (res) {\n      setCanvasSize({\n        width: res.width,\n        height: res.height\n      })\n    }\n  }\n\n  // 画布尺寸列表\n  const CanvasSizeOptions = (\n    <>\n      <Radio.Group onChange={onCanvasSizeChange} value={selectValue}>\n        <Space direction=\"vertical\">\n          {CANVAS_SIZE_LIST.map(i => <Radio key={i.value} value={i.value}>{i.label}</Radio>)}\n          <Radio value={'6'}>\n            自定义\n            {selectValue === '6' ? <div style={{ marginTop: 10 }}>\n              <InputNumber value={canvasWidth} size=\"small\" placeholder=\"宽\" style={{ width: 100, marginRight: 10 }} onChange={onChangeWidth} />×\n              <InputNumber value={canvasHeight} size=\"small\" placeholder=\"高\" style={{ width: 100, marginLeft: 10, marginRight: 10 }} onChange={onChangeHeight} /> 像素\n            </div> : null}\n          </Radio>\n        </Space>\n      </Radio.Group>\n    </>\n  )\n\n  return (\n    <ToolItem>\n      <Popover\n        content={CanvasSizeOptions}\n        trigger=\"click\"\n        placement=\"bottomLeft\"\n      >\n        <span className=\"text\">画布尺寸</span>\n      </Popover>\n    </ToolItem>\n  )\n})","import { ToolItem } from './style'\nimport { Popconfirm } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\n\n// 清空画布\nexport default observer(() => {\n  const { setLayers } = templateStore\n\n  // 清空画布\n  const onClear = () => {\n    setLayers([])\n  }\n\n  return (\n    <ToolItem>\n      <Popconfirm\n        placement=\"bottomRight\"\n        title=\"确定清空画布？\"\n        onConfirm={onClear}\n        okText=\"清空\"\n        cancelText=\"取消\"\n      >\n        <span className=\"text\">清空画布</span>\n      </Popconfirm>\n    </ToolItem>\n  )\n})","import { ToolItem, ColorItem } from './style'\nimport { Popover } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { ChromePicker, ColorResult } from 'react-color'\n\n// 画布背景颜色\nexport default observer(() => {\n  const { template, setBackgroundColor } = templateStore\n\n  const color = template.background.color\n\n  // 选择颜色\n  const onColorChange = (clr: ColorResult) => {\n    const rgba = `rgba(${clr.rgb.r}, ${clr.rgb.g}, ${clr.rgb.b}, ${clr.rgb.a})`\n    setBackgroundColor(rgba)\n  }\n\n  return (\n    <ToolItem>\n      <Popover\n        content={<ChromePicker color={color} onChange={onColorChange} />}\n        trigger=\"click\"\n        placement=\"bottomLeft\"\n      >\n        <ColorItem style={{ backgroundColor: color }} />\n      </Popover>\n    </ToolItem>\n  )\n})","import { ToolItem, ColorItem } from '../style'\nimport { Popover } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { ChromePicker, ColorResult } from 'react-color'\nimport { cloneDeep } from 'lodash'\n\n// 文字颜色\nexport default observer(() => {\n  const { activeLayer, setLayer } = templateStore\n\n  const color = activeLayer?.style?.color || ''\n\n  // 选择颜色\n  const onColorChange = (clr: ColorResult) => {\n    const rgba = `rgba(${clr.rgb.r}, ${clr.rgb.g}, ${clr.rgb.b}, ${clr.rgb.a})`\n    const layer = cloneDeep(activeLayer)\n    if (layer?.type === 'text' && layer.style) {\n      layer.style.color = rgba\n      setLayer(layer)\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Popover\n        content={<ChromePicker color={color} onChange={onColorChange} />}\n        trigger=\"click\"\n        placement=\"bottomLeft\"\n      >\n        <ColorItem style={{ backgroundColor: color }} />\n      </Popover>\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { Select } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { FONT_LIST } from 'utils/const'\nimport { cloneDeep } from 'lodash'\n\nconst { Option } = Select\n\n// 文字类型\nexport default observer(() => {\n  const { activeLayer, setLayer } = templateStore\n\n  // 当前字体\n  const font = activeLayer?.style?.font || ''\n\n  // 选择字体\n  const onFontChange = (val: string) => {\n    const layer = cloneDeep(activeLayer)\n    if (layer?.type === 'text' && layer.style) {\n      layer.style.font = val\n      setLayer(layer)\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Select\n        value={font}\n        style={{ width: 140 }}\n        placeholder=\"选择字体\"\n        onChange={onFontChange}\n      >\n        {FONT_LIST.map(f => <Option key={f.value} value={f.value}><span style={{ fontFamily: f.value }}>{f.name}</span></Option>)}\n      </Select>\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { Select } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { FONTSIZE_LIST } from 'utils/const'\nimport { cloneDeep } from 'lodash'\n\nconst { Option } = Select\n\n// 文字大小\nexport default observer(() => {\n  const { activeLayer, setLayer, setNeedUpdateLayerHeight } = templateStore\n\n  const layerScale = activeLayer?.scale || 1\n  // 当前字体\n  const fontSize = activeLayer?.style?.fontSize || 0\n\n  // 改变字体大小\n  const onFontsizeChange = (val: string) => {\n    const size = Number(val)\n    if (!isNaN(size)) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.type === 'text' && layer.style) {\n        layer.style.fontSize = size / layerScale\n        setLayer(layer)\n        setNeedUpdateLayerHeight(true)\n      }\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Select\n        value={(fontSize * layerScale).toFixed(0)}\n        style={{ width: 100, textAlign: 'center' }}\n        placeholder=\"字体大小\"\n        onChange={onFontsizeChange}\n      >\n        {FONTSIZE_LIST.map(size => <Option key={size} value={size}>{size}</Option>)}\n      </Select>\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { BoldOutlined } from '@ant-design/icons'\nimport { cloneDeep } from 'lodash'\n\n// 字体加粗\nexport default observer(() => {\n  const { activeLayer, setLayer } = templateStore\n\n  // 当前字体粗细\n  const fontWeight = activeLayer?.style?.fontWeight || 400\n\n  // 改变字体粗细\n  const onWeightChange = () => {\n    const layer = cloneDeep(activeLayer)\n    if (layer?.type === 'text' && layer.style) {\n      layer.style.fontWeight = layer.style.fontWeight === 700 ? 400 : 700\n      setLayer(layer)\n    }\n  }\n\n  return (\n    <ToolItem className={fontWeight === 700 ? 'active' : ''} onClick={onWeightChange}>\n      <BoldOutlined style={{ fontSize: 24 }} />\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { UnderlineOutlined } from '@ant-design/icons'\nimport { cloneDeep } from 'lodash'\n\n// 文字下划线\nexport default observer(() => {\n  const { activeLayer, setLayer } = templateStore\n\n  // 当前字体是否有下划线\n  const hasUnderline = activeLayer?.style?.underline || false\n\n  // 设置下划线\n  const onUnderlineChange = () => {\n    const layer = cloneDeep(activeLayer)\n    if (layer?.type === 'text' && layer.style) {\n      layer.style.underline = !layer.style.underline\n      setLayer(layer)\n    }\n  }\n\n  return (\n    <ToolItem className={hasUnderline ? 'active' : ''} onClick={onUnderlineChange}>\n      <UnderlineOutlined style={{ fontSize: 24 }} />\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { AlignLeftOutlined, AlignCenterOutlined, AlignRightOutlined } from '@ant-design/icons'\nimport { cloneDeep } from 'lodash'\nimport { Align } from 'types'\n\n// 文字水平对齐\nexport default observer(() => {\n  const { activeLayer, setLayer } = templateStore\n\n  // 文字水平对齐\n  const textAlign = activeLayer?.style?.textAlign || 'left'\n\n  // 改变文本水平对齐\n  const onTextAlignChange = () => {\n    let align: Align = 'left'\n    if (textAlign === 'left') align = 'center'\n    if (textAlign === 'center') align = 'right'\n    if (textAlign === 'right') align = 'left'\n    const layer = cloneDeep(activeLayer)\n    if (layer?.type === 'text' && layer.style) {\n      layer.style.textAlign = align\n      setLayer(layer)\n    }\n  }\n\n  return (\n    <ToolItem onClick={onTextAlignChange}>\n      {textAlign === 'left' && <AlignLeftOutlined style={{ fontSize: 24 }} />}\n      {textAlign === 'center' && <AlignCenterOutlined style={{ fontSize: 24 }} />}\n      {textAlign === 'right' && <AlignRightOutlined style={{ fontSize: 24 }} />}\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { cloneDeep } from 'lodash'\nimport { Dropdown, Menu } from 'antd'\nimport { SwapOutlined } from '@ant-design/icons'\n\n// 图片翻转\nexport default observer(() => {\n  const { activeLayer, setLayer } = templateStore\n\n  // 翻转图片\n  const onReverseImage = (direction: 'x' | 'y') => {\n    const layer = cloneDeep(activeLayer)\n    if (layer?.reverse) {\n      if (direction === 'x') {\n        layer.reverse.x = layer.reverse.x === 1 ? -1 : 1\n      }\n      if (direction === 'y') {\n        layer.reverse.y = layer.reverse.y === 1 ? -1 : 1\n      }\n      setLayer(layer)\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Dropdown \n        overlay={\n          <Menu style={{ width: 120 }}>\n            <Menu.Item\n              key=\"x\"\n              style={{ padding: '20px' }}\n              icon={<SwapOutlined />}\n              onClick={() => onReverseImage('x')}\n            >\n              水平翻转\n            </Menu.Item>\n            <Menu.Item\n              key=\"y\"\n              style={{ padding: '20px' }}\n              icon={<SwapOutlined style={{ transform: 'rotate(90deg)' }} />}\n              onClick={() => onReverseImage('y')}\n            >\n              垂直翻转\n            </Menu.Item>\n          </Menu>\n        }\n        trigger={['click']}\n      >\n        <span className=\"text\">翻转</span>\n      </Dropdown>\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\n\n// 图片裁剪\nexport default observer(() => {\n  const { activeLayer, setEditStatus } = templateStore\n\n  // 裁剪图片\n  const clipImage = () => {\n    setEditStatus(activeLayer?.id || '')\n  }\n\n  return (\n    <ToolItem onClick={clipImage}>\n      <span className=\"text\">裁剪</span>\n    </ToolItem>\n  )\n})","import { ToolItem, ColorItem } from '../style'\nimport { Popover } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { ChromePicker, ColorResult } from 'react-color'\nimport { cloneDeep } from 'lodash'\nimport { LAYER_TYPE, RectShape } from 'types'\n\n// 形状填充颜色\nexport default observer(() => {\n  const { layerType, activeLayer, setLayer } = templateStore\n\n  // 当前形状\n  let shapeInfo: Partial<RectShape> = {}\n  if (layerType === LAYER_TYPE.CIRCLE) {\n    shapeInfo = activeLayer?.circleInfo as RectShape\n  } else if (layerType === LAYER_TYPE.RECT) {\n    shapeInfo = activeLayer?.rectInfo as RectShape\n  }\n\n  // 选择形状填充颜色\n  const onFillColorChange = (clr: ColorResult) => {\n    const rgba = `rgba(${clr.rgb.r}, ${clr.rgb.g}, ${clr.rgb.b}, ${clr.rgb.a})`\n    // 矩形\n    if (layerType === LAYER_TYPE.RECT) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.rectInfo) {\n        layer.rectInfo.fill = rgba\n        setLayer(layer)\n      }\n    }\n    // 圆形\n    if (layerType === LAYER_TYPE.CIRCLE) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.circleInfo) {\n        layer.circleInfo.fill = rgba\n        setLayer(layer)\n      }\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Popover\n        content={<ChromePicker color={shapeInfo.fill} onChange={onFillColorChange} />}\n        trigger=\"click\"\n        placement=\"bottomLeft\"\n      >\n        <ColorItem style={{ backgroundColor: shapeInfo.fill }} />\n      </Popover>\n    </ToolItem>\n  )\n})","import { ToolItem, ColorItem } from '../style'\nimport { Popover } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { ChromePicker, ColorResult } from 'react-color'\nimport { cloneDeep } from 'lodash'\nimport { LAYER_TYPE, RectShape } from 'types'\n\n// 形状边框颜色\nexport default observer(() => {\n  const { layerType, activeLayer, setLayer } = templateStore\n\n  // 当前形状\n  let shapeInfo: Partial<RectShape> = {}\n  if (layerType === LAYER_TYPE.CIRCLE) {\n    shapeInfo = activeLayer?.circleInfo as RectShape\n  } else if (layerType === LAYER_TYPE.RECT) {\n    shapeInfo = activeLayer?.rectInfo as RectShape\n  }\n\n  // 选择形状描边颜色\n  const onBorderColorChange = (clr: ColorResult) => {\n    const rgba = `rgba(${clr.rgb.r}, ${clr.rgb.g}, ${clr.rgb.b}, ${clr.rgb.a})`\n    // 矩形\n    if (layerType === LAYER_TYPE.RECT) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.rectInfo) {\n        layer.rectInfo.borderColor = rgba\n        setLayer(layer)\n      }\n    }\n    // 圆形\n    if (layerType === LAYER_TYPE.CIRCLE) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.circleInfo) {\n        layer.circleInfo.borderColor = rgba\n        setLayer(layer)\n      }\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Popover\n        content={<ChromePicker color={shapeInfo.borderColor} onChange={onBorderColorChange} />}\n        trigger=\"click\"\n        placement=\"bottomLeft\"\n      >\n        <ColorItem style={{ backgroundColor: shapeInfo.borderColor }} />\n      </Popover>\n    </ToolItem>\n  )\n})","export default __webpack_public_path__ + \"static/media/border-weight.505b2f5f.svg\";","import { ToolItem } from '../style'\nimport { Popover, Slider } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { cloneDeep } from 'lodash'\nimport { LAYER_TYPE, RectShape } from 'types'\nimport borderWidthIcon from 'assets/border-weight.svg'\n\n// 形状边框粗细\nexport default observer(() => {\n  const { layerType, activeLayer, setLayer } = templateStore\n\n  // 当前形状\n  let shapeInfo: Partial<RectShape> = {}\n  if (layerType === LAYER_TYPE.CIRCLE) {\n    shapeInfo = activeLayer?.circleInfo as RectShape\n  } else if (layerType === LAYER_TYPE.RECT) {\n    shapeInfo = activeLayer?.rectInfo as RectShape\n  }\n\n  // 形状描边粗细改变\n  const onBorderWidthChange = (val: number) => {\n    // 矩形\n    if (layerType === LAYER_TYPE.RECT) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.rectInfo) {\n        layer.rectInfo.borderWidth = val\n        setLayer(layer)\n      }\n    }\n    // 圆形\n    if (layerType === LAYER_TYPE.CIRCLE) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.circleInfo) {\n        layer.circleInfo.borderWidth = val\n        setLayer(layer)\n      }\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Popover\n        content={\n          <Slider\n            value={shapeInfo.borderWidth}\n            min={0}\n            max={50}\n            step={1}\n            style={{ width: 180 }}\n            onChange={onBorderWidthChange}\n          />\n        }\n        trigger=\"click\"\n        placement=\"bottomRight\"\n      >\n        <img src={borderWidthIcon} width=\"24\" height=\"24\" alt=\"\" />\n      </Popover>\n    </ToolItem>\n  )\n})","export default __webpack_public_path__ + \"static/media/border-style.11c5ec46.svg\";","import styled from '@emotion/styled'\nimport { ToolItem } from '../style'\nimport { Dropdown, Menu } from 'antd'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { cloneDeep } from 'lodash'\nimport { LAYER_TYPE } from 'types'\nimport borderStyleIcon from 'assets/border-style.svg'\n\n// 形状边框样式\nexport default observer(() => {\n  const { layerType, activeLayer, setLayer } = templateStore\n\n  // 形状描边样式改变\n  const onBorderStyleChange = (val: string) => {\n    // 矩形\n    if (layerType === LAYER_TYPE.RECT) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.rectInfo) {\n        layer.rectInfo.borderStyle = val\n        setLayer(layer)\n      }\n    }\n    // 圆形\n    if (layerType === LAYER_TYPE.CIRCLE) {\n      const layer = cloneDeep(activeLayer)\n      if (layer?.circleInfo) {\n        layer.circleInfo.borderStyle = val\n        setLayer(layer)\n      }\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Dropdown \n        overlay={\n          <Menu style={{ width: 120 }}>\n            <Menu.Item\n              key=\"1\"\n              style={{ padding: '20px 10px' }}\n              onClick={() => onBorderStyleChange('solid')}\n            >\n              <BorderSolid />\n            </Menu.Item>\n            <Menu.Item\n              key=\"2\"\n              style={{ padding: '20px 10px' }}\n              onClick={() => onBorderStyleChange('dashed')}\n            >\n              <BorderDashed />\n            </Menu.Item>\n            <Menu.Item\n              key=\"3\"\n              style={{ padding: '20px 10px' }}\n              onClick={() => onBorderStyleChange('dotted')}\n            >\n              <BorderDotted />\n            </Menu.Item>\n          </Menu>\n        }\n        trigger={['click']}\n      >\n        <img src={borderStyleIcon} width=\"24\" height=\"24\" alt=\"\" />\n      </Dropdown>\n    </ToolItem>\n  )\n})\n\nconst BorderSolid = styled.div`\n  width: 100%;\n  height: 0;\n  border-top: 4px solid #000;\n`\n\nconst BorderDashed = styled.div`\n  width: 100%;\n  height: 0;\n  border-top: 4px dashed #000;\n`\n\nconst BorderDotted = styled.div`\n  width: 100%;\n  height: 0;\n  border-top: 4px dotted #000;\n`","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { Popover, Slider } from 'antd'\nimport { cloneDeep } from 'lodash'\n\n// 图层层级\nexport default observer(() => {\n  const { activeLayer, layers, setLayerLevel, setLayers } = templateStore\n\n  // 图层的层级关系\n  const levelInfo = {\n    min: 1,\n    max: 100,\n    current: 1\n  }\n  if (activeLayer) {\n    levelInfo.current = layers.findIndex(l => l.id === activeLayer.id) + 1\n    levelInfo.max = layers.length\n  }\n\n  // 改变层级\n  const onLevelChange = (val: number) => {\n    // 下 -> 上\n    if (val > levelInfo.current) {\n      layers.forEach((l, idx) => {\n        if (idx + 1 > levelInfo.current && idx + 1 <= val) {\n          setLayerLevel(l.id, l.zIndex - 1)\n        }\n      })\n      activeLayer && setLayerLevel(activeLayer.id, activeLayer.zIndex + (val - levelInfo.current))\n    } else { // 上 -> 下\n      layers.forEach((l, idx) => {\n        if (idx + 1 >= val && idx + 1 < levelInfo.current) {\n          setLayerLevel(l.id, l.zIndex + 1)\n        }\n      })\n      activeLayer && setLayerLevel(activeLayer.id, activeLayer.zIndex - (levelInfo.current - val))\n    }\n    setLayers(cloneDeep(layers).sort((a, b) => a.zIndex - b.zIndex))\n  }\n\n  return (\n    <ToolItem>\n      <Popover\n        content={\n          <Slider\n            value={levelInfo.current}\n            min={levelInfo.min}\n            max={levelInfo.max}\n            style={{ width: 180 }}\n            onChange={onLevelChange}\n          />\n        }\n        trigger=\"click\"\n        placement=\"bottomRight\"\n      >\n        <span className=\"text\">层级调整</span>\n      </Popover>\n    </ToolItem>\n  )\n})","export default __webpack_public_path__ + \"static/media/opacity.6dad8d31.svg\";","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { Popover, Slider } from 'antd'\nimport { cloneDeep } from 'lodash'\nimport opacityIcon from 'assets/opacity.svg'\n\n// 图层透明度\nexport default observer(() => {\n  const { activeLayer, setLayer } = templateStore\n\n  // 透明度\n  const opacity = activeLayer?.opacity\n\n  const onOpacityChange = (val: number) => {\n    const layer = cloneDeep(activeLayer)\n    if (layer) {\n      layer.opacity = val\n      setLayer(layer)\n    }\n  }\n\n  return (\n    <ToolItem>\n      <Popover\n        content={\n          <Slider\n            value={opacity}\n            min={0}\n            max={1}\n            step={0.01}\n            style={{ width: 180 }}\n            onChange={onOpacityChange}\n          />\n        }\n        trigger=\"click\"\n        placement=\"bottomRight\"\n      >\n        <img src={opacityIcon} width=\"24\" height=\"24\" alt=\"\" />\n      </Popover>\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { LockOutlined, UnlockOutlined } from '@ant-design/icons'\n\n// 锁定图层\nexport default observer(() => {\n  const { activeLayer, setLayerLock } = templateStore\n\n  // 图层是否被锁定了\n  const isLocked = activeLayer?.isLocked || false\n\n  // 切换图层锁定状态\n  const onToggleLayerLock = () => {\n    if (activeLayer) {\n      setLayerLock(activeLayer.id, !activeLayer.isLocked)\n    }\n  }\n\n  return (\n    <ToolItem className={[\"item-lock\", isLocked ? 'active' : ''].join(' ')} onClick={onToggleLayerLock}>\n      {isLocked ? <LockOutlined style={{ fontSize: 24 }} /> : <UnlockOutlined style={{ fontSize: 24 }} />}\n    </ToolItem>\n  )\n})","import { ToolItem } from '../style'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { DeleteOutlined } from '@ant-design/icons'\n\n// 删除图层\nexport default observer(() => {\n  const { activeLayer, removeLayer } = templateStore\n\n  // 删除图层\n  const onRemove = () => {\n    if (activeLayer) {\n      removeLayer(activeLayer.id)\n    }\n  }\n\n  return (\n    <ToolItem onClick={onRemove}>\n      <DeleteOutlined style={{ fontSize: 24 }} />\n    </ToolItem>\n  )\n})","import styled from '@emotion/styled'\nimport { observer } from 'mobx-react'\nimport { templateStore } from 'store/template'\nimport { LAYER_TYPE } from 'types'\n\nimport CanvasSize from './tool-items/CanvasSize'\nimport ClearCanvas from './tool-items/ClearCanvas'\nimport BackgroundColor from './tool-items/BackgroundColor'\n\nimport TextColor from './tool-items/text/TextColor'\nimport FontFamily from './tool-items/text/FontFamily'\nimport FontSize from './tool-items/text/FontSize'\nimport FontWeight from './tool-items/text/FontWeight'\nimport Underline from './tool-items/text/Underline'\nimport TextAlign from './tool-items/text/TextAlign'\n\nimport FlipImage from './tool-items/image/Flip'\nimport ClipImage from './tool-items/image/Clip'\n\nimport ShapeFillColor from './tool-items/shape/ShapeFillColor'\nimport ShapeBorderColor from './tool-items/shape/ShapeBorderColor'\nimport ShapeBorderWidth from './tool-items/shape/ShapeBorderWidth'\nimport ShapeBorderStyle from './tool-items/shape/ShapeBorderStyle'\n\nimport LayerOrder from './tool-items/common/LayerOrder'\nimport Opacity from './tool-items/common/Opacity'\nimport LockLayer from './tool-items/common/LockLayer'\nimport RemoveLayer from './tool-items/common/RemoveLayer'\n\nexport default observer(() => {\n  const { layerType, activeLayer } = templateStore\n\n  // 图层是否被锁定了\n  const isLocked = activeLayer?.isLocked || false\n\n  return <ToolBarWrapper id=\"toolBar\">\n    <ItemGroup className={isLocked ? 'locked' : ''}>\n      {/* 画布尺寸 */}\n      {[LAYER_TYPE.EMPTY].includes(layerType) && <CanvasSize />}\n      {/* 背景颜色 */}\n      {[LAYER_TYPE.BACKGROUND].includes(layerType) && <BackgroundColor />}\n\n      {/* 文字相关 */}\n      {[LAYER_TYPE.TEXT].includes(layerType) &&\n        <>\n          {/* 文字颜色 */}\n          <TextColor />\n          {/* 字体 */}\n          <FontFamily />\n          {/* 字体大小 */}\n          <FontSize />\n          {/* 加粗 */}\n          <FontWeight />\n          {/* 下划线 */}\n          <Underline />\n          {/* 水平对齐 */}\n          <TextAlign />\n        </>\n      }\n\n      {/* 图片相关 */}\n      {[LAYER_TYPE.IMAGE].includes(layerType) &&\n        <>\n          {/* 图片翻转 */}\n          <FlipImage />\n          {/* 图片裁剪 */}\n          <ClipImage />\n        </>\n      }\n\n      {/* 形状相关 */}\n      {[LAYER_TYPE.RECT, LAYER_TYPE.CIRCLE].includes(layerType) &&\n        <>\n          {/* 填充颜色 */}\n          <ShapeFillColor />\n          {/* 边框颜色 */}\n          <ShapeBorderColor />\n          {/* 边框粗细 */}\n          <ShapeBorderWidth />\n          {/* 边框样式 */}\n          <ShapeBorderStyle />\n        </>\n      }\n    </ItemGroup>\n    <ItemGroup className={isLocked ? 'locked' : ''}>\n      {/* 右侧图层公共属性 */}\n      {[LAYER_TYPE.IMAGE, LAYER_TYPE.TEXT, LAYER_TYPE.RECT, LAYER_TYPE.CIRCLE].includes(layerType) &&\n        <>\n          {/* 图层层级 */}\n          <LayerOrder />\n          {/* 透明度 */}\n          <Opacity />\n          {/* 图层锁定 */}\n          <LockLayer />\n          {/* 删除 */}\n          <RemoveLayer />\n        </>\n      }\n      {/* 清空画布 */}\n      {[LAYER_TYPE.EMPTY].includes(layerType) && <ClearCanvas />}\n    </ItemGroup>\n  </ToolBarWrapper>\n})\n\nconst ToolBarWrapper = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 46px;\n  padding: 0 10px;\n  background-color: #fff;\n  border-bottom: 1px solid #ddd;\n  user-select: none;\n`\n\nconst ItemGroup = styled.div`\n  display: flex;\n  align-items: center;\n\n  &.locked>div:not(.item-lock) {\n    display: none;\n  }\n`","import React, { MouseEvent, useCallback, useEffect, useRef, useState } from 'react'\nimport styled from '@emotion/styled'\nimport Footer from './Footer'\nimport Canvas from './Canvas'\nimport ToolBar from './tool-bar/Index'\nimport { ScaleContext, BackgroundContext } from 'store/context'\nimport { templateStore } from 'store/template'\nimport { observer } from 'mobx-react'\nimport { Layer } from 'types'\nimport { cloneDeep } from 'lodash'\nimport undoRedo from 'utils/undoRedo'\n\nconst { undo, redo } = undoRedo()\n\n// 暂存复制的图层\nlet copyLayer: Partial<Layer> = {}\n\n// 编辑器\nexport default observer(() => {\n  // 画布缩放值\n  const [scale, setScale] = useState(1)\n  // 画布父级容器dom ref\n  const scrollWrapperRef = useRef<HTMLDivElement>(null)\n  // 获取模板数据\n  const { template, resetSelectStatus, removeLayer, addLayer } = templateStore\n\n  // 是否选中背景\n  const [isSelectedBackground, setIsSelectedBackground] = useState(false)\n\n  // 自适应\n  const responsive = useCallback(() => {\n    const wrapperEl = scrollWrapperRef.current\n    const canvasWidth = template.global.width\n    const canvasHeight = template.global.height\n    let scale = 1\n    if (wrapperEl && wrapperEl.clientWidth < canvasWidth + 100) {\n      scale = (wrapperEl.clientWidth - 100) / canvasWidth\n    }\n    if (wrapperEl && wrapperEl.clientHeight < (canvasHeight * scale + 100)) {\n      scale = (wrapperEl.clientHeight - 100) / canvasHeight\n    }\n    setScale(scale)\n  }, [template.global.height, template.global.width])\n\n  // 首次渲染画布尺寸适配\n  useEffect(() => {\n    responsive()\n  }, [responsive])\n\n  // 键盘事件监听\n  const onKeyboardListener = useCallback((e: KeyboardEvent) => {\n    // 页面失焦\n    if (document.activeElement === document.body || document.activeElement === null) {\n      // 删除\n      if (e.key === 'Backspace' || e.key === 'Delete') {\n        const layer = template.layers.find(layer => layer.isSelected)\n        if (layer) {\n          removeLayer(layer.id)\n        }\n      }\n      // 复制\n      if (e.key === 'c' && (e.metaKey || e.ctrlKey)) {\n        const layer = template.layers.find(layer => layer.isSelected)\n        if (layer && !template.layers.some(l => l.isEditing) && !layer.isLocked) {\n          copyLayer = cloneDeep(layer)\n        }\n      }\n      // 粘贴\n      if (e.key === 'v' && (e.metaKey || e.ctrlKey)) {\n        if (!template.layers.some(l => l.isEditing)) {\n          if (copyLayer.id) {\n            copyLayer.position && (copyLayer.position.x += 10)\n            copyLayer.position && (copyLayer.position.y += 10)\n            copyLayer.id = String(Date.now())\n            copyLayer.zIndex = template.layers.length ? template.layers[template.layers.length - 1].zIndex + 1 : 1\n            resetSelectStatus()\n            addLayer(copyLayer as Layer)\n          }\n        }\n      }\n      // 撤销\n      if (e.key === 'z' && (e.metaKey || e.ctrlKey) && !e.shiftKey) {\n        undo()\n      }\n      // 重做\n      if (e.key === 'z' && (e.metaKey || e.ctrlKey) && e.shiftKey) {\n        redo()\n      }\n    }\n  }, [addLayer, removeLayer, resetSelectStatus, template.layers])\n\n  useEffect(() => {\n    document.addEventListener('keydown', onKeyboardListener)\n    return () => { document.removeEventListener('keydown', onKeyboardListener) }\n  }, [onKeyboardListener])\n\n  // 取消所有图层的选中状态包括背景\n  const resetStatus = (e: MouseEvent<HTMLElement>) => {\n    // self\n    if ((e.target as HTMLElement).id === 'editorContainer') {\n      resetSelectStatus()\n      setIsSelectedBackground(false)\n    }\n  }\n\n  return <Wrapper>\n    <ToolBar />\n    <ScrollWrapper ref={scrollWrapperRef}>\n      <Container id=\"editorContainer\" onMouseDown={resetStatus}>\n        <BackgroundContext.Provider value={{ isSelectedBackground, setIsSelectedBackground }}>\n          <ScaleContext.Provider value={scale}>\n            <Canvas />\n          </ScaleContext.Provider>\n        </BackgroundContext.Provider>\n      </Container>\n    </ScrollWrapper>\n    <Footer scale={scale} setScale={(num) => setScale(num)} responsive={responsive} />\n  </Wrapper>\n})\n\nconst Wrapper = styled.div`\n  position: relative;\n  flex: 1;\n  overflow: hidden;\n`\n\nconst ScrollWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: calc(100% - 88px);\n  overflow: scroll;\n\n  ::-webkit-scrollbar {\n    width: 8px;\n    background: #eef2f8;\n\n    &:horizontal {\n      height: 8px;\n    }\n  }\n\n  ::-webkit-scrollbar-track {\n    background: #eef2f8;\n  }\n\n  ::-webkit-scrollbar-corner {\n    background: #eef2f8;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #c4c4c4;\n    border: 8px solid rgba(0, 0, 0, 0);\n    border-radius: 9999px;\n\n    &:hover {\n      background: #adadad;\n    }\n  }\n`\n\nconst Container = styled.div`\n  position: absolute;\n  display: flex;\n  align-items: center;\n  min-width: 100%;\n  min-height: 100%;\n`","import React from 'react'\nimport styled from '@emotion/styled'\nimport Sidebar from './side-bar/Sidebar'\nimport Editor from './Editor'\n\nexport default function Main () {\n  return <MainBody>\n    <Sidebar />\n    <Editor />\n  </MainBody>\n}\n\nconst MainBody = styled.main`\n  display: flex;\n  height: calc(100vh - 56px);\n  background-color: #eef2f8;\n  overflow: hidden;\n`\n","import React from 'react'\nimport Nav from 'components/Nav'\nimport Main from 'components/Main'\nimport './App.css'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Nav />\n      <Main />\n    </div>\n  );\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from 'pages/App'\nimport reportWebVitals from './reportWebVitals'\nimport 'antd/dist/antd.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}